2025-02-11 04:04:28.380 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:04:28.380 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-11_04-04-28__5bada0d3-8465-4e91-90ec-372e59ccc4a5
2025-02-11 04:04:28.380 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:04:28.381 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:04:28.381 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:04:28.387 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:28.388 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-04-28__5bada0d3-8465-4e91-90ec-372e59ccc4a5__wakuorg_nwaku:latest.log
2025-02-11 04:04:28.388 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:28.388 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:28.389 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:28.389 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.120.14
2025-02-11 04:04:28.389 DEBUG [src.node.docker_mananger] Generated ports ['56064', '56065', '56066', '56067', '56068']
2025-02-11 04:04:28.390 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:28.390 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:28.390 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:28.390 DEBUG [src.node.docker_mananger] docker run -i -t -p 56064:56064 -p 56065:56065 -p 56066:56066 -p 56067:56067 -p 56068:56068 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56066 --rest-port=56064 --tcp-port=56065 --discv5-udp-port=56067 --rest-address=0.0.0.0 --nat=extip:172.18.120.14 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b3dabcaeae46583df5ef81809cfb47b6a6deaa26eba3d7fddc0ec572a8b90c09 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56068 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 04:04:28.615 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.120.14 waku 3e2f53ac0241d69c6864c3fc29f2f67e000519bd0377289985a709418aab3980
2025-02-11 04:04:28.665 DEBUG [src.node.docker_mananger] Container started with ID 3e2f53ac0241. Setting up logs at ./log/docker/node1_2025-02-11_04-04-28__5bada0d3-8465-4e91-90ec-372e59ccc4a5__wakuorg_nwaku:latest.log
2025-02-11 04:04:28.666 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 56064
2025-02-11 04:04:28.667 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:29.186 ERROR [src.node.docker_mananger] Max retries reached for container d768b0b0f5ee. Exiting log stream.
2025-02-11 04:04:29.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:29.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:29.670 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:29.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:29.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.14/tcp/56065/p2p/16Uiu2HAmBYUA5HD79JprnqR9FkbV9nRXBFbVVXzm46VAR1LERHY8","/ip4/172.18.120.14/tcp/56066/ws/p2p/16Uiu2HAmBYUA5HD79JprnqR9FkbV9nRXBFbVVXzm46VAR1LERHY8"],"enrUri":"enr:-L24QJ2EuLeZiEAIU0jlu-q_Jtd5oSqAZkhod1sBLtVTgrWOE2Dz98ARYnf9v3mbwpAouUfWuick7tQbBpnenpxA5VkCgmlkgnY0gmlwhKwSeA6KbXVsdGlhZGRyc5YACASsEngOBtsBAAoErBJ4DgbbAt0DgnJzhQACAQAAiXNlY3AyNTZrMaEC73iwP5ob73Qs0NIklw7z7JBiWXZtbzYIIVvrFtnXmr2DdGNwgtsBg3VkcILbA4V3YWt1MgU"}'
2025-02-11 04:04:29.673 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:29.679 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:29.679 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-04-28__5bada0d3-8465-4e91-90ec-372e59ccc4a5__wakuorg_nwaku:latest.log
2025-02-11 04:04:29.679 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:29.680 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:29.681 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:29.681 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.55.184
2025-02-11 04:04:29.681 DEBUG [src.node.docker_mananger] Generated ports ['56681', '56682', '56683', '56684', '56685']
2025-02-11 04:04:29.681 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:29.681 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:29.681 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:29.682 DEBUG [src.node.docker_mananger] docker run -i -t -p 56681:56681 -p 56682:56682 -p 56683:56683 -p 56684:56684 -p 56685:56685 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56683 --rest-port=56681 --tcp-port=56682 --discv5-udp-port=56684 --rest-address=0.0.0.0 --nat=extip:172.18.55.184 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4cd82c7c94d875bdda961a7c3fa2acbbf5afdaa2cd3a21e5f0f8ba94f41be0db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56685 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ2EuLeZiEAIU0jlu-q_Jtd5oSqAZkhod1sBLtVTgrWOE2Dz98ARYnf9v3mbwpAouUfWuick7tQbBpnenpxA5VkCgmlkgnY0gmlwhKwSeA6KbXVsdGlhZGRyc5YACASsEngOBtsBAAoErBJ4DgbbAt0DgnJzhQACAQAAiXNlY3AyNTZrMaEC73iwP5ob73Qs0NIklw7z7JBiWXZtbzYIIVvrFtnXmr2DdGNwgtsBg3VkcILbA4V3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 04:04:29.918 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.55.184 waku a40c698a73ff96113e1e88a0a424563b1f706e2178ce44a5753dd3ab6dbb330d
2025-02-11 04:04:29.963 DEBUG [src.node.docker_mananger] Container started with ID a40c698a73ff. Setting up logs at ./log/docker/node2_2025-02-11_04-04-28__5bada0d3-8465-4e91-90ec-372e59ccc4a5__wakuorg_nwaku:latest.log
2025-02-11 04:04:29.964 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 56681
2025-02-11 04:04:29.964 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:30.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:30.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:30.969 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:30.969 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:30.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.184/tcp/56682/p2p/16Uiu2HAmScCq43QaJSnzc1bBeiArCV6AtU3JWQgW9KNq6iBGdd92","/ip4/172.18.55.184/tcp/56683/ws/p2p/16Uiu2HAmScCq43QaJSnzc1bBeiArCV6AtU3JWQgW9KNq6iBGdd92"],"enrUri":"enr:-L24QEG_8ZpPr5GR0w4fkSUcdZrnZZKkFQsToaFElqapWmvFBwpkXLHJBx27AZcb3oeBXIxCu_seL8ZEFHSB8VSt54sCgmlkgnY0gmlwhKwSN7iKbXVsdGlhZGRyc5YACASsEje4Bt1qAAoErBI3uAbda90DgnJzhQACAQAAiXNlY3AyNTZrMaEDz0z79m5sz93tSiiBdtohlLMI1PK3cGmI9d0gDVKjI3GDdGNwgt1qg3VkcILdbIV3YWt1MgE"}'
2025-02-11 04:04:30.973 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:30.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56681/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.120.14/tcp/56065/p2p/16Uiu2HAmBYUA5HD79JprnqR9FkbV9nRXBFbVVXzm46VAR1LERHY8"]'
2025-02-11 04:04:30.982 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:30.983 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:04:30.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:30.995 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56681/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:04:31.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.028 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.128 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246671020822016,"ephemeral":false}]'
2025-02-11 04:04:31.133 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246671020822016,"ephemeral":false}]'
2025-02-11 04:04:31.137 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.142 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.242 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246671137042432,"ephemeral":false}]'
2025-02-11 04:04:31.246 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246671137042432,"ephemeral":false}]'
2025-02-11 04:04:31.251 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.256 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.356 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246671250983424,"ephemeral":false}]'
2025-02-11 04:04:31.361 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246671250983424,"ephemeral":false}]'
2025-02-11 04:04:31.365 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.370 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.470 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246671365122816,"ephemeral":false}]'
2025-02-11 04:04:31.474 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246671365122816,"ephemeral":false}]'
2025-02-11 04:04:31.478 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.483 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.584 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246671478753792,"ephemeral":false}]'
2025-02-11 04:04:31.589 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246671478753792,"ephemeral":false}]'
2025-02-11 04:04:31.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.599 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.699 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246671593501440,"ephemeral":false}]'
2025-02-11 04:04:31.704 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.704 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246671593501440,"ephemeral":false}]'
2025-02-11 04:04:31.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.713 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.814 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246671708292352,"ephemeral":false}]'
2025-02-11 04:04:31.818 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246671708292352,"ephemeral":false}]'
2025-02-11 04:04:31.822 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.827 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:31.927 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.928 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246671821959424,"ephemeral":false}]'
2025-02-11 04:04:31.933 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:31.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:31.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246671821959424,"ephemeral":false}]'
2025-02-11 04:04:31.938 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:56064/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-11 04:04:31.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.947 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:56681/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-11 04:04:31.955 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.956 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:31.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:31.959 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.060 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.060 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.062 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:56064/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-11 04:04:32.064 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.067 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.167 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.167 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.170 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:56064/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-11 04:04:32.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.174 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.274 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.274 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.277 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-11 04:04:32.278 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.284 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.384 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.387 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246672278787584,"ephemeral":false}]'
2025-02-11 04:04:32.388 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246672278787584,"ephemeral":false}]'
2025-02-11 04:04:32.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.399 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.499 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246672393273088,"ephemeral":false}]'
2025-02-11 04:04:32.504 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246672393273088,"ephemeral":false}]'
2025-02-11 04:04:32.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.513 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.613 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246672508093184,"ephemeral":false}]'
2025-02-11 04:04:32.618 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246672508093184,"ephemeral":false}]'
2025-02-11 04:04:32.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.629 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.730 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246672622409472,"ephemeral":false}]'
2025-02-11 04:04:32.735 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.735 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246672622409472,"ephemeral":false}]'
2025-02-11 04:04:32.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56064/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:32.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:32.744 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:32.845 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56064/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246672739365120,"ephemeral":false}]'
2025-02-11 04:04:32.849 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:32.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56681/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:32.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246672739365120,"ephemeral":false}]'
2025-02-11 04:04:32.854 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:04:32.855 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:04:32.855 DEBUG [src.node.waku_node] Stopping container with id 3e2f53ac0241
2025-02-11 04:04:34.152 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:34.152 DEBUG [src.node.waku_node] Stopping container with id a40c698a73ff
2025-02-11 04:04:34.965 ERROR [src.node.docker_mananger] Max retries reached for container 3e2f53ac0241. Exiting log stream.
2025-02-11 04:04:35.646 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:35.648 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:04:35.661 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:04:35.671 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
