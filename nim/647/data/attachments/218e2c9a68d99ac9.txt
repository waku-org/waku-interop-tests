2025-02-11 04:04:46.390 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:04:46.391 DEBUG [tests.conftest] Running test: test_store_invalid_ascending with id: 2025-02-11_04-04-46__c21fca93-404e-4395-a499-5d0ae64124ea
2025-02-11 04:04:46.391 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:04:46.391 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 04:04:46.391 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 04:04:46.398 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:46.398 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_04-04-46__c21fca93-404e-4395-a499-5d0ae64124ea__wakuorg_nwaku:latest.log
2025-02-11 04:04:46.398 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:46.398 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:46.399 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:46.400 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.66.111
2025-02-11 04:04:46.400 DEBUG [src.node.docker_mananger] Generated ports ['39174', '39175', '39176', '39177', '39178']
2025-02-11 04:04:46.400 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:46.400 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:46.400 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:46.400 DEBUG [src.node.docker_mananger] docker run -i -t -p 39174:39174 -p 39175:39175 -p 39176:39176 -p 39177:39177 -p 39178:39178 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39176 --rest-port=39174 --tcp-port=39175 --discv5-udp-port=39177 --rest-address=0.0.0.0 --nat=extip:172.18.66.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2bfcbbde2c43eda7fa4d41f3d94e0a1eb655a549125bda6613aef98ffc2a7ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39178 --metrics-logging=true --store=true --relay=true
2025-02-11 04:04:46.636 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.66.111 waku 23d1fba45787a12a4e1219a0eb57f9b124a41adf68e1d0f144666b16a3288217
2025-02-11 04:04:46.689 DEBUG [src.node.docker_mananger] Container started with ID 23d1fba45787. Setting up logs at ./log/docker/publishing_node1_2025-02-11_04-04-46__c21fca93-404e-4395-a499-5d0ae64124ea__wakuorg_nwaku:latest.log
2025-02-11 04:04:46.691 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39174
2025-02-11 04:04:46.691 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:47.183 ERROR [src.node.docker_mananger] Max retries reached for container 5b185dfd46aa. Exiting log stream.
2025-02-11 04:04:47.691 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39174/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:47.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:47.694 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:47.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39174/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:47.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.111/tcp/39175/p2p/16Uiu2HAm65RkyWcj1kUVGzEgQUBGUBbC7otjdsmxp9zzpcLhWD9o","/ip4/172.18.66.111/tcp/39176/ws/p2p/16Uiu2HAm65RkyWcj1kUVGzEgQUBGUBbC7otjdsmxp9zzpcLhWD9o"],"enrUri":"enr:-L24QLzJE2ucnadmBpJDy0hroH9tJcM1CLbGaKLRB5PbKAGaGCiFXRDBmkXO9j30Z6ZAB5frf23VnP9JS9edzy50lKsCgmlkgnY0gmlwhKwSQm-KbXVsdGlhZGRyc5YACASsEkJvBpkHAAoErBJCbwaZCN0DgnJzhQADAQAAiXNlY3AyNTZrMaECnkDcOlPshEad3g0mIpnDbJ5qUPv0SvXn8zbLYnOebtaDdGNwgpkHg3VkcIKZCYV3YWt1MgM"}'
2025-02-11 04:04:47.697 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:47.703 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:47.703 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_04-04-46__c21fca93-404e-4395-a499-5d0ae64124ea__wakuorg_nwaku:latest.log
2025-02-11 04:04:47.703 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:47.703 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:47.705 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:47.705 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.41.210
2025-02-11 04:04:47.705 DEBUG [src.node.docker_mananger] Generated ports ['29448', '29449', '29450', '29451', '29452']
2025-02-11 04:04:47.705 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:47.705 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:47.705 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:47.705 DEBUG [src.node.docker_mananger] docker run -i -t -p 29448:29448 -p 29449:29449 -p 29450:29450 -p 29451:29451 -p 29452:29452 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29450 --rest-port=29448 --tcp-port=29449 --discv5-udp-port=29451 --rest-address=0.0.0.0 --nat=extip:172.18.41.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7199d1bab4fefacd23ee1a8e162efca1ee61e2a7cc6a67d6e6460dccbd6c336f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29452 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QLzJE2ucnadmBpJDy0hroH9tJcM1CLbGaKLRB5PbKAGaGCiFXRDBmkXO9j30Z6ZAB5frf23VnP9JS9edzy50lKsCgmlkgnY0gmlwhKwSQm-KbXVsdGlhZGRyc5YACASsEkJvBpkHAAoErBJCbwaZCN0DgnJzhQADAQAAiXNlY3AyNTZrMaECnkDcOlPshEad3g0mIpnDbJ5qUPv0SvXn8zbLYnOebtaDdGNwgpkHg3VkcIKZCYV3YWt1MgM --storenode=/ip4/172.18.66.111/tcp/39175/p2p/16Uiu2HAm65RkyWcj1kUVGzEgQUBGUBbC7otjdsmxp9zzpcLhWD9o --store=true --relay=true
2025-02-11 04:04:47.937 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.41.210 waku b61378e4be98c921924c55f3b1c92bf8fe01c04b62cf4ad6a25683396307512b
2025-02-11 04:04:47.985 DEBUG [src.node.docker_mananger] Container started with ID b61378e4be98. Setting up logs at ./log/docker/store_node1_2025-02-11_04-04-46__c21fca93-404e-4395-a499-5d0ae64124ea__wakuorg_nwaku:latest.log
2025-02-11 04:04:47.985 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29448
2025-02-11 04:04:47.985 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:48.987 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29448/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:48.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:48.990 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:48.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29448/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:48.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.210/tcp/29449/p2p/16Uiu2HAmBrbRv9aKMAEW9UweVcMoxwXpUrWzH2Z23vGW1uGqFumv","/ip4/172.18.41.210/tcp/29450/ws/p2p/16Uiu2HAmBrbRv9aKMAEW9UweVcMoxwXpUrWzH2Z23vGW1uGqFumv"],"enrUri":"enr:-L24QCcozbZ5G53OEVohcSlgLt-cFFJeFQdyZ1NNB6C1HlqPSvznd8EX2yVN6GtOaJ8v9B-BzFNnscBoguwJjKZX79UCgmlkgnY0gmlwhKwSKdKKbXVsdGlhZGRyc5YACASsEinSBnMJAAoErBIp0gZzCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9B1d5yEDYGlVSsmzBWOlDJNDfh0kl7OJ6L7RdC9Xtw2DdGNwgnMJg3VkcIJzC4V3YWt1MgM"}'
2025-02-11 04:04:48.992 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:48.993 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29448/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.66.111/tcp/39175/p2p/16Uiu2HAm65RkyWcj1kUVGzEgQUBGUBbC7otjdsmxp9zzpcLhWD9o"]'
2025-02-11 04:04:48.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:48.996 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39174/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:04:48.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:48.998 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29448/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:04:49.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:49.001 DEBUG [src.steps.store] Relaying message
2025-02-11 04:04:49.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:49.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:49.008 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:04:49.209 DEBUG [src.steps.store] Relaying message
2025-02-11 04:04:49.209 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:49.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:49.216 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:04:49.417 DEBUG [src.steps.store] Relaying message
2025-02-11 04:04:49.417 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:49.423 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:49.423 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:04:49.624 DEBUG [src.steps.store] Relaying message
2025-02-11 04:04:49.624 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:49.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:49.630 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:04:49.831 DEBUG [tests.store.test_sorting] requesting stored messages with invalid ascending =##
2025-02-11 04:04:49.831 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=##" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:49.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf9755dcb56da9c5d2f500ea5312c9079f98cfee895da4668995f9ad70db30f7f"},{"messageHash":"0xf28e70e979df0670b85c93ad079ec8cdbc88f8ffcf2ae8ca2c157a641193125e"}],"paginationCursor":"0xf28e70e979df0670b85c93ad079ec8cdbc88f8ffcf2ae8ca2c157a641193125e"}'
2025-02-11 04:04:49.834 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29448/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=##" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:49.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf9755dcb56da9c5d2f500ea5312c9079f98cfee895da4668995f9ad70db30f7f"},{"messageHash":"0xf28e70e979df0670b85c93ad079ec8cdbc88f8ffcf2ae8ca2c157a641193125e"}],"paginationCursor":"0xf28e70e979df0670b85c93ad079ec8cdbc88f8ffcf2ae8ca2c157a641193125e"}'
2025-02-11 04:04:49.838 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:04:49.839 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:04:49.840 DEBUG [src.node.waku_node] Stopping container with id 23d1fba45787
2025-02-11 04:04:50.529 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:50.530 DEBUG [src.node.waku_node] Stopping container with id b61378e4be98
2025-02-11 04:04:51.342 ERROR [src.node.docker_mananger] Max retries reached for container 23d1fba45787. Exiting log stream.
2025-02-11 04:04:52.017 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:52.019 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:04:52.027 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:04:52.033 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
