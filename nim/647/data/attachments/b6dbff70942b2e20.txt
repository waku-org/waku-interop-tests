2025-02-11 04:03:02.005 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:03:02.005 DEBUG [tests.conftest] Running test: test_filter_ping_on_peer_without_subscription with id: 2025-02-11_04-03-02__fdb06051-639a-4e96-8931-74a8d69566e1
2025-02-11 04:03:02.006 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:03:02.006 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-11 04:03:02.006 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-11 04:03:02.012 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:02.012 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-03-02__fdb06051-639a-4e96-8931-74a8d69566e1__wakuorg_nwaku:latest.log
2025-02-11 04:03:02.012 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:02.012 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:02.013 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:02.014 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.122.64
2025-02-11 04:03:02.014 DEBUG [src.node.docker_mananger] Generated ports ['31823', '31824', '31825', '31826', '31827']
2025-02-11 04:03:02.014 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:02.014 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:02.014 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:02.014 DEBUG [src.node.docker_mananger] docker run -i -t -p 31823:31823 -p 31824:31824 -p 31825:31825 -p 31826:31826 -p 31827:31827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31825 --rest-port=31823 --tcp-port=31824 --discv5-udp-port=31826 --rest-address=0.0.0.0 --nat=extip:172.18.122.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0de8768f8cf32096ffae2322c515ce1bd782b2ab5dbefc4b2e24fe5bfad0b2bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31827 --metrics-logging=true --relay=true --filter=true
2025-02-11 04:03:02.237 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.122.64 waku 27abfbd3bdb8242c94c988cd9f0628f425b475fce8f0c83f8b28776c8ea513cb
2025-02-11 04:03:02.286 DEBUG [src.node.docker_mananger] Container started with ID 27abfbd3bdb8. Setting up logs at ./log/docker/node1_2025-02-11_04-03-02__fdb06051-639a-4e96-8931-74a8d69566e1__wakuorg_nwaku:latest.log
2025-02-11 04:03:02.287 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31823
2025-02-11 04:03:02.287 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:02.784 ERROR [src.node.docker_mananger] Max retries reached for container cbdea7fa3e1f. Exiting log stream.
2025-02-11 04:03:03.288 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31823/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:03.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:03.291 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:03.291 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:03.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.64/tcp/31824/p2p/16Uiu2HAmK7zT9z8W1SU8HfVrenWcxaMM6Zr2qdWTS5y4HgrNDNjF","/ip4/172.18.122.64/tcp/31825/ws/p2p/16Uiu2HAmK7zT9z8W1SU8HfVrenWcxaMM6Zr2qdWTS5y4HgrNDNjF"],"enrUri":"enr:-L24QIotG82HsjrV4zJjUsI2NE_fN5LAWn_CzE_JILMPVRplTKcEOCE-WDvT8387_SCmJLYw1W5koUmCWXrspDKG5f4CgmlkgnY0gmlwhKwSekCKbXVsdGlhZGRyc5YACASsEnpABnxQAAoErBJ6QAZ8Ud0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYBDq8iS7E4Q1B3oJ02nmMIUdRCmxSH1xCyEQepUllBaDdGNwgnxQg3VkcIJ8UoV3YWt1MgU"}'
2025-02-11 04:03:03.293 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:03.294 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-11 04:03:03.300 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:03.300 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-03-02__fdb06051-639a-4e96-8931-74a8d69566e1__wakuorg_nwaku:latest.log
2025-02-11 04:03:03.300 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:03.300 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:03.301 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:03.302 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.94
2025-02-11 04:03:03.302 DEBUG [src.node.docker_mananger] Generated ports ['63824', '63825', '63826', '63827', '63828']
2025-02-11 04:03:03.302 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:03.302 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:03.302 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:03.302 DEBUG [src.node.docker_mananger] docker run -i -t -p 63824:63824 -p 63825:63825 -p 63826:63826 -p 63827:63827 -p 63828:63828 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63826 --rest-port=63824 --tcp-port=63825 --discv5-udp-port=63827 --rest-address=0.0.0.0 --nat=extip:172.18.190.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4dcccaaed3baf3afbf08bd58ffdddaa7ccec22bbd0eddada7fdabc3dd22a90c9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63828 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIotG82HsjrV4zJjUsI2NE_fN5LAWn_CzE_JILMPVRplTKcEOCE-WDvT8387_SCmJLYw1W5koUmCWXrspDKG5f4CgmlkgnY0gmlwhKwSekCKbXVsdGlhZGRyc5YACASsEnpABnxQAAoErBJ6QAZ8Ud0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYBDq8iS7E4Q1B3oJ02nmMIUdRCmxSH1xCyEQepUllBaDdGNwgnxQg3VkcIJ8UoV3YWt1MgU --filternode=/ip4/172.18.122.64/tcp/31824/p2p/16Uiu2HAmK7zT9z8W1SU8HfVrenWcxaMM6Zr2qdWTS5y4HgrNDNjF
2025-02-11 04:03:03.527 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.94 waku 27028f4de8d7d2ce910b9686212556c85644b491d29f7504434641e12ab716f7
2025-02-11 04:03:03.575 DEBUG [src.node.docker_mananger] Container started with ID 27028f4de8d7. Setting up logs at ./log/docker/node2_2025-02-11_04-03-02__fdb06051-639a-4e96-8931-74a8d69566e1__wakuorg_nwaku:latest.log
2025-02-11 04:03:03.576 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63824
2025-02-11 04:03:03.576 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:04.576 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63824/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:04.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:04.580 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:04.580 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63824/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:04.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.94/tcp/63825/p2p/16Uiu2HAmEWUMF6aT937VcS2fVRhvTyTtVJQ3qtPhFEEjvJXG82XW","/ip4/172.18.190.94/tcp/63826/ws/p2p/16Uiu2HAmEWUMF6aT937VcS2fVRhvTyTtVJQ3qtPhFEEjvJXG82XW"],"enrUri":"enr:-L24QAJrvUhkqHt3gpvaGEWrgnyEznhE2a_NNoDXgcg1tNvbAmNEb32Zt5hWw6frKZcUH7QNkpuZ4x8Dq7HkZ-WyQLsCgmlkgnY0gmlwhKwSvl6KbXVsdGlhZGRyc5YACASsEr5eBvlRAAoErBK-Xgb5Ut0DgnJzhQADAQAAiXNlY3AyNTZrMaEDG4jOLQpEBaGGUmIcuavF8U4lAwqvzu2UBFI4lFl4TpWDdGNwgvlRg3VkcIL5U4V3YWt1MgA"}'
2025-02-11 04:03:04.582 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:04.583 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63824/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.122.64/tcp/31824/p2p/16Uiu2HAmK7zT9z8W1SU8HfVrenWcxaMM6Zr2qdWTS5y4HgrNDNjF"]'
2025-02-11 04:03:04.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:04.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63824/filter/v2/subscriptions/97d953fa-25a2-446a-ab12-e3a976458f1f" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:04.642 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:63824/filter/v2/subscriptions/97d953fa-25a2-446a-ab12-e3a976458f1f. Response content: b'{"requestId":"97d953fa-25a2-446a-ab12-e3a976458f1f","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
2025-02-11 04:03:04.648 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:03:04.649 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:03:04.649 DEBUG [src.node.waku_node] Stopping container with id 27abfbd3bdb8
2025-02-11 04:03:05.750 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:05.751 DEBUG [src.node.waku_node] Stopping container with id 27028f4de8d7
2025-02-11 04:03:06.563 ERROR [src.node.docker_mananger] Max retries reached for container 27abfbd3bdb8. Exiting log stream.
2025-02-11 04:03:07.250 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:07.251 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:03:07.256 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:03:07.259 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
