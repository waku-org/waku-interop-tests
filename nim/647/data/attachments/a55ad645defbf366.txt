2025-02-11 04:05:18.306 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:05:18.306 DEBUG [tests.conftest] Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-11_04-05-18__a5007e98-9846-44e0-97dc-9bab2dc3b8ff
2025-02-11 04:05:18.307 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:05:18.307 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:05:18.307 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:05:18.314 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:18.314 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-05-18__a5007e98-9846-44e0-97dc-9bab2dc3b8ff__wakuorg_nwaku:latest.log
2025-02-11 04:05:18.314 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:18.314 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:18.316 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:18.316 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.155.225
2025-02-11 04:05:18.316 DEBUG [src.node.docker_mananger] Generated ports ['36765', '36766', '36767', '36768', '36769']
2025-02-11 04:05:18.316 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-11 04:05:18.316 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:18.316 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:18.317 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:18.317 DEBUG [src.node.docker_mananger] docker run -i -t -p 36765:36765 -p 36766:36766 -p 36767:36767 -p 36768:36768 -p 36769:36769 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36767 --rest-port=36765 --tcp-port=36766 --discv5-udp-port=36768 --rest-address=0.0.0.0 --nat=extip:172.18.155.225 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dafd342672bc72e6ed27cab61cceba77689b7a3510a8a68dfaaf8e201da8ad74 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36769 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 04:05:18.555 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.155.225 waku bcd131e5fa2034118372da19b385a3981046ac9f7be65d50a25e7b23577ed367
2025-02-11 04:05:18.608 DEBUG [src.node.docker_mananger] Container started with ID bcd131e5fa20. Setting up logs at ./log/docker/node1_2025-02-11_04-05-18__a5007e98-9846-44e0-97dc-9bab2dc3b8ff__wakuorg_nwaku:latest.log
2025-02-11 04:05:18.610 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36765
2025-02-11 04:05:18.610 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:19.106 ERROR [src.node.docker_mananger] Max retries reached for container d372a66d0a42. Exiting log stream.
2025-02-11 04:05:19.611 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36765/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:19.614 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:19.614 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:19.615 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36765/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:19.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.225/tcp/36766/p2p/16Uiu2HAmQWa5d9XggHaP2YyS5XCGH56JfYvMxG3Z7jR5Un5H6fep","/ip4/172.18.155.225/tcp/36767/ws/p2p/16Uiu2HAmQWa5d9XggHaP2YyS5XCGH56JfYvMxG3Z7jR5Un5H6fep"],"enrUri":"enr:-Mu4QH_zVQzhALz1V1xqQ343bM3zgOaKVOcTx7jWIo5ipmz9AQfWSsftlePAMIB4BVHkmKn7vlRYh02P_x-jwRW8vtECgmlkgnY0gmlwhKwSm-GKbXVsdGlhZGRyc5YACASsEpvhBo-eAAoErBKb4QaPn90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOwJCeDtESpgKmFvLBGzt1ptV_PeMvLfihWZvAeQD-G8YN0Y3CCj56DdWRwgo-ghXdha3UyBQ"}'
2025-02-11 04:05:19.618 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:19.625 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:19.626 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-05-18__a5007e98-9846-44e0-97dc-9bab2dc3b8ff__wakuorg_nwaku:latest.log
2025-02-11 04:05:19.626 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:19.626 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:19.627 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:19.627 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.249.180
2025-02-11 04:05:19.628 DEBUG [src.node.docker_mananger] Generated ports ['40975', '40976', '40977', '40978', '40979']
2025-02-11 04:05:19.628 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-11 04:05:19.628 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:19.628 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:19.628 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:19.628 DEBUG [src.node.docker_mananger] docker run -i -t -p 40975:40975 -p 40976:40976 -p 40977:40977 -p 40978:40978 -p 40979:40979 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40977 --rest-port=40975 --tcp-port=40976 --discv5-udp-port=40978 --rest-address=0.0.0.0 --nat=extip:172.18.249.180 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=108d98cdf4f34bb9994f048f96ec2122df3e773d9e6062d699bf6fcf648e4dea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40979 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-Mu4QH_zVQzhALz1V1xqQ343bM3zgOaKVOcTx7jWIo5ipmz9AQfWSsftlePAMIB4BVHkmKn7vlRYh02P_x-jwRW8vtECgmlkgnY0gmlwhKwSm-GKbXVsdGlhZGRyc5YACASsEpvhBo-eAAoErBKb4QaPn90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOwJCeDtESpgKmFvLBGzt1ptV_PeMvLfihWZvAeQD-G8YN0Y3CCj56DdWRwgo-ghXdha3UyBQ --filternode=/ip4/172.18.155.225/tcp/36766/p2p/16Uiu2HAmQWa5d9XggHaP2YyS5XCGH56JfYvMxG3Z7jR5Un5H6fep --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 04:05:19.868 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.249.180 waku 8e16e4a0bbbe6dcfe95190850911e28bf7aaad57f250cd342431286056d11fe5
2025-02-11 04:05:19.920 DEBUG [src.node.docker_mananger] Container started with ID 8e16e4a0bbbe. Setting up logs at ./log/docker/node2_2025-02-11_04-05-18__a5007e98-9846-44e0-97dc-9bab2dc3b8ff__wakuorg_nwaku:latest.log
2025-02-11 04:05:19.921 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40975
2025-02-11 04:05:19.922 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:20.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:20.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:20.925 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:20.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:20.927 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.180/tcp/40976/p2p/16Uiu2HAmCpnbw4woCEBE6s2j57CCAg9cqVmz3bRqHzChnDQwpQqs","/ip4/172.18.249.180/tcp/40977/ws/p2p/16Uiu2HAmCpnbw4woCEBE6s2j57CCAg9cqVmz3bRqHzChnDQwpQqs"],"enrUri":"enr:-Mu4QJRN7BCMtdAkjCluwbY2E1WpHRojxJ0nPBM6qPJpT4iYKtpSScYpoMOLX-GMWA4qn-Cq7JkbczMguHW_YvtmzhsCgmlkgnY0gmlwhKwS-bSKbXVsdGlhZGRyc5YACASsEvm0BqAQAAoErBL5tAagEd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMCgoZt36iKMJzTgYa2E9Yn9Wj7FuxgnRGyrLJ78qgm5oN0Y3CCoBCDdWRwgqAShXdha3UyAA"}'
2025-02-11 04:05:20.927 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:20.928 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.225/tcp/36766/p2p/16Uiu2HAmQWa5d9XggHaP2YyS5XCGH56JfYvMxG3Z7jR5Un5H6fep"]'
2025-02-11 04:05:20.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:20.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 04:05:20.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:20.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f82b44d7-31fc-4ed2-ba5e-63266f24ec99", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
2025-02-11 04:05:20.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"f82b44d7-31fc-4ed2-ba5e-63266f24ec99","statusDesc":"OK"}'
2025-02-11 04:05:20.996 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "00542a3c-bac2-499d-bfd3-17b8c76a7b58", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
2025-02-11 04:05:21.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"00542a3c-bac2-499d-bfd3-17b8c76a7b58","statusDesc":"OK"}'
2025-02-11 04:05:21.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1cb71b26-dd42-4bf7-9a9f-300ccbcffaa2", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
2025-02-11 04:05:21.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1cb71b26-dd42-4bf7-9a9f-300ccbcffaa2","statusDesc":"OK"}'
2025-02-11 04:05:21.012 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2948835e-f82c-4a5a-b9a8-48d2a6ecdddc", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
2025-02-11 04:05:21.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"2948835e-f82c-4a5a-b9a8-48d2a6ecdddc","statusDesc":"OK"}'
2025-02-11 04:05:21.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "75920338-e76c-46b5-811c-dae2faa7e0a3", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
2025-02-11 04:05:21.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"75920338-e76c-46b5-811c-dae2faa7e0a3","statusDesc":"OK"}'
2025-02-11 04:05:21.030 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b35e3e66-7589-4257-ae26-bdd4e9361e13", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
2025-02-11 04:05:21.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b35e3e66-7589-4257-ae26-bdd4e9361e13","statusDesc":"OK"}'
2025-02-11 04:05:21.039 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "857eae22-9a71-46e6-9643-cb82c4d59536", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
2025-02-11 04:05:21.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"857eae22-9a71-46e6-9643-cb82c4d59536","statusDesc":"OK"}'
2025-02-11 04:05:21.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40975/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "41ae3aaf-11fd-46c1-8896-b6577152ff0a", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
2025-02-11 04:05:21.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"41ae3aaf-11fd-46c1-8896-b6577152ff0a","statusDesc":"OK"}'
2025-02-11 04:05:21.058 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.066 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.066 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.167 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.167 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246721058205952,"ephemeral":false}]'
2025-02-11 04:05:21.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.176 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.277 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246721171147776,"ephemeral":false}]'
2025-02-11 04:05:21.281 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.287 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.387 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246721281605376,"ephemeral":false}]'
2025-02-11 04:05:21.392 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.398 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.498 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246721392151552,"ephemeral":false}]'
2025-02-11 04:05:21.503 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.509 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.609 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246721503424256,"ephemeral":false}]'
2025-02-11 04:05:21.615 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.621 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.721 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246721615032576,"ephemeral":false}]'
2025-02-11 04:05:21.727 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.733 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.834 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.834 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246721727142656,"ephemeral":false}]'
2025-02-11 04:05:21.839 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:21.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:21.846 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:21.946 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:21.947 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40975/filter/v2/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:21.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246721839771392,"ephemeral":false}]'
2025-02-11 04:05:21.952 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:05:21.953 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:05:21.953 DEBUG [src.node.waku_node] Stopping container with id bcd131e5fa20
2025-02-11 04:05:23.191 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:23.191 DEBUG [src.node.waku_node] Stopping container with id 8e16e4a0bbbe
2025-02-11 04:05:24.004 ERROR [src.node.docker_mananger] Max retries reached for container bcd131e5fa20. Exiting log stream.
2025-02-11 04:05:24.706 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:24.708 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:05:24.718 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:05:24.726 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
