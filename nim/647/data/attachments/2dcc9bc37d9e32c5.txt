2025-02-11 04:03:32.083 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:03:32.083 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a
2025-02-11 04:03:32.084 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:03:32.084 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 04:03:32.090 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:32.090 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a__wakuorg_nwaku:latest.log
2025-02-11 04:03:32.090 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:32.090 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:32.091 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:32.092 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.11.102
2025-02-11 04:03:32.092 DEBUG [src.node.docker_mananger] Generated ports ['63711', '63712', '63713', '63714', '63715']
2025-02-11 04:03:32.092 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:32.092 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:32.092 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:32.092 DEBUG [src.node.docker_mananger] docker run -i -t -p 63711:63711 -p 63712:63712 -p 63713:63713 -p 63714:63714 -p 63715:63715 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63713 --rest-port=63711 --tcp-port=63712 --discv5-udp-port=63714 --rest-address=0.0.0.0 --nat=extip:172.18.11.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ecaef9dbedeae50ac5d9ace7ffd1ac9d0b0c9adcaeab9e8e3edb2c9cc620ccf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63715 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 04:03:32.315 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.11.102 waku c650f0c118f5843ac0e66bfea3574be3d113dbbdebbe3ae8995230033fcd69fb
2025-02-11 04:03:32.370 DEBUG [src.node.docker_mananger] Container started with ID c650f0c118f5. Setting up logs at ./log/docker/receiving_node1_2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a__wakuorg_nwaku:latest.log
2025-02-11 04:03:32.372 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63711
2025-02-11 04:03:32.372 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:32.890 ERROR [src.node.docker_mananger] Max retries reached for container ff1e9d9252d2. Exiting log stream.
2025-02-11 04:03:33.374 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63711/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:33.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:33.377 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:33.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63711/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:33.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.102/tcp/63712/p2p/16Uiu2HAmMQJHjtNnPgUfKYCvHBRP4qt3vHtMijNXA3AFxZn3qijz","/ip4/172.18.11.102/tcp/63713/ws/p2p/16Uiu2HAmMQJHjtNnPgUfKYCvHBRP4qt3vHtMijNXA3AFxZn3qijz"],"enrUri":"enr:-L24QKF6rBTDGlkDChD5Ukm3IKHdcaZgtWT1PCUgrgtXDxqMf6eBWTTV-i4Z-1wZ6wISTUgsgYUUPJgAuY_JoTS66WQCgmlkgnY0gmlwhKwSC2aKbXVsdGlhZGRyc5YACASsEgtmBvjgAAoErBILZgb44d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgfXA8D-sfV7eO7qmMaDFN7tB6NSwT4vGM-nX3oVWBMGDdGNwgvjgg3VkcIL44oV3YWt1Mgk"}'
2025-02-11 04:03:33.380 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:33.386 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:33.387 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a__wakuorg_nwaku:latest.log
2025-02-11 04:03:33.387 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:33.387 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:33.388 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:33.388 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.70.54
2025-02-11 04:03:33.389 DEBUG [src.node.docker_mananger] Generated ports ['5870', '5871', '5872', '5873', '5874']
2025-02-11 04:03:33.389 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:33.389 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:33.389 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:33.389 DEBUG [src.node.docker_mananger] docker run -i -t -p 5870:5870 -p 5871:5871 -p 5872:5872 -p 5873:5873 -p 5874:5874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5872 --rest-port=5870 --tcp-port=5871 --discv5-udp-port=5873 --rest-address=0.0.0.0 --nat=extip:172.18.70.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecb6bdb6015b201bacfe8b1c01d3b760dfe345bef1f642fafbc879fe62cecff1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5874 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 04:03:33.623 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.70.54 waku 7a538e8b7d494ab2f6548941065d5607531c66cc3199080fad6d2a602683f227
2025-02-11 04:03:33.676 DEBUG [src.node.docker_mananger] Container started with ID 7a538e8b7d49. Setting up logs at ./log/docker/receiving_node2_2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a__wakuorg_nwaku:latest.log
2025-02-11 04:03:33.676 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5870
2025-02-11 04:03:33.677 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:34.678 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5870/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:34.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:34.681 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:34.681 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:34.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.54/tcp/5871/p2p/16Uiu2HAm9vEG8D9abSkESgPAfJ5eskeguLpiYxTR91ftPSb8LSXM","/ip4/172.18.70.54/tcp/5872/ws/p2p/16Uiu2HAm9vEG8D9abSkESgPAfJ5eskeguLpiYxTR91ftPSb8LSXM"],"enrUri":"enr:-L24QL4mnO7L_-fqCRaHlSZ44UsehrlUPipZVU5eyjgpZcqOFbRs33WfhocCL1dkFlodfqQziXQo8THTIecQJhXNGNMCgmlkgnY0gmlwhKwSRjaKbXVsdGlhZGRyc5YACASsEkY2BhbvAAoErBJGNgYW8N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC11RhadU0odE7Oc8vUh5tlyfwJW0WjIqbogsaU-atjUyDdGNwghbvg3VkcIIW8YV3YWt1MgE"}'
2025-02-11 04:03:34.683 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:34.684 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5870/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.102/tcp/63712/p2p/16Uiu2HAmMQJHjtNnPgUfKYCvHBRP4qt3vHtMijNXA3AFxZn3qijz"]'
2025-02-11 04:03:34.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:34.732 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:34.732 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a__wakuorg_nwaku:latest.log
2025-02-11 04:03:34.732 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:34.732 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:34.734 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:34.734 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.115
2025-02-11 04:03:34.734 DEBUG [src.node.docker_mananger] Generated ports ['39495', '39496', '39497', '39498', '39499']
2025-02-11 04:03:34.734 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:34.734 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:34.734 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:34.734 DEBUG [src.node.docker_mananger] docker run -i -t -p 39495:39495 -p 39496:39496 -p 39497:39497 -p 39498:39498 -p 39499:39499 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39497 --rest-port=39495 --tcp-port=39496 --discv5-udp-port=39498 --rest-address=0.0.0.0 --nat=extip:172.18.234.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1b1bdf451fccdc3eeae2bfd14febe8ea2f7daaeeb5af94efcbbbc6f66599b0d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39499 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKF6rBTDGlkDChD5Ukm3IKHdcaZgtWT1PCUgrgtXDxqMf6eBWTTV-i4Z-1wZ6wISTUgsgYUUPJgAuY_JoTS66WQCgmlkgnY0gmlwhKwSC2aKbXVsdGlhZGRyc5YACASsEgtmBvjgAAoErBILZgb44d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgfXA8D-sfV7eO7qmMaDFN7tB6NSwT4vGM-nX3oVWBMGDdGNwgvjgg3VkcIL44oV3YWt1Mgk --lightpushnode=/ip4/172.18.11.102/tcp/63712/p2p/16Uiu2HAmMQJHjtNnPgUfKYCvHBRP4qt3vHtMijNXA3AFxZn3qijz --lightpush=true --relay=false
2025-02-11 04:03:34.982 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.115 waku 189fe3a8444d8a012c2d82d51120f35f5a5a9f035bb238a0626d51b85849dbc6
2025-02-11 04:03:35.028 DEBUG [src.node.docker_mananger] Container started with ID 189fe3a8444d. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_04-03-32__e66dad69-5ac2-4fa4-aa8e-274e099baf4a__wakuorg_nwaku:latest.log
2025-02-11 04:03:35.029 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39495
2025-02-11 04:03:35.029 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:36.029 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39495/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:36.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:36.032 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:36.033 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39495/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:36.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.115/tcp/39496/p2p/16Uiu2HAmKAu5s6Wn11YRSqPpx2q7DkSmWPH6U4nh3xUhyNZTZ5qm","/ip4/172.18.234.115/tcp/39497/ws/p2p/16Uiu2HAmKAu5s6Wn11YRSqPpx2q7DkSmWPH6U4nh3xUhyNZTZ5qm"],"enrUri":"enr:-L24QBVFDO4vYiO-NUuEH5eAYs3jlMVciEpWTMCC-nwXZo4yAGZg9ucYz6rIjG6iT8iEpaquFPx_GXuNzois5Mgo2b0CgmlkgnY0gmlwhKwS6nOKbXVsdGlhZGRyc5YACASsEupzBppIAAoErBLqcwaaSd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYM-XcuN5NgGianMvUZmr6OC-FWtLb6eOkqy8rsOFrXyDdGNwgppIg3VkcIKaSoV3YWt1Mgg"}'
2025-02-11 04:03:36.035 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:36.035 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39495/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.102/tcp/63712/p2p/16Uiu2HAmMQJHjtNnPgUfKYCvHBRP4qt3vHtMijNXA3AFxZn3qijz"]'
2025-02-11 04:03:36.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.075 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39495/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.70.54/tcp/5871/p2p/16Uiu2HAm9vEG8D9abSkESgPAfJ5eskeguLpiYxTR91ftPSb8LSXM"]'
2025-02-11 04:03:36.104 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.105 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63711/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:03:36.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:03:36.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63711/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 04:03:36.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.130 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 04:03:36.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.143 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39495/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246616143371008}}'
2025-02-11 04:03:36.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:36.158 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:36.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63711/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:36.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-11 04:03:36.263 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:03:36.264 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:03:36.264 DEBUG [src.node.waku_node] Stopping container with id c650f0c118f5
2025-02-11 04:03:36.852 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:36.852 DEBUG [src.node.waku_node] Stopping container with id 7a538e8b7d49
2025-02-11 04:03:37.665 ERROR [src.node.docker_mananger] Max retries reached for container c650f0c118f5. Exiting log stream.
2025-02-11 04:03:38.370 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:38.371 DEBUG [src.node.waku_node] Stopping container with id 189fe3a8444d
2025-02-11 04:03:39.184 ERROR [src.node.docker_mananger] Max retries reached for container 7a538e8b7d49. Exiting log stream.
2025-02-11 04:03:39.872 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:39.874 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:03:39.882 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:03:39.890 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:03:39.895 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
