2025-02-11 04:03:33.185 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:03:33.186 DEBUG [tests.conftest] Running test: test_light_push_with_valid_payloads with id: 2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32
2025-02-11 04:03:33.186 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:03:33.186 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 04:03:33.193 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:33.193 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32__wakuorg_nwaku:latest.log
2025-02-11 04:03:33.193 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:33.193 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:33.194 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:33.195 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.245.167
2025-02-11 04:03:33.195 DEBUG [src.node.docker_mananger] Generated ports ['15106', '15107', '15108', '15109', '15110']
2025-02-11 04:03:33.195 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:33.195 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:33.195 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:33.195 DEBUG [src.node.docker_mananger] docker run -i -t -p 15106:15106 -p 15107:15107 -p 15108:15108 -p 15109:15109 -p 15110:15110 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15108 --rest-port=15106 --tcp-port=15107 --discv5-udp-port=15109 --rest-address=0.0.0.0 --nat=extip:172.18.245.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff9037cfe132f23e8f3ea3f49acb8ccd72e2b5b192b3867a0c2be7f1b2affce9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15110 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 04:03:33.416 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.245.167 waku 22a308264f84be3d9bb06d9c739a842ef520134e75de225b82649c3b6b676dd1
2025-02-11 04:03:33.468 DEBUG [src.node.docker_mananger] Container started with ID 22a308264f84. Setting up logs at ./log/docker/receiving_node1_2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32__wakuorg_nwaku:latest.log
2025-02-11 04:03:33.469 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15106
2025-02-11 04:03:33.469 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:33.993 ERROR [src.node.docker_mananger] Max retries reached for container 93af61c3c930. Exiting log stream.
2025-02-11 04:03:34.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:34.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:34.473 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:34.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:34.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.167/tcp/15107/p2p/16Uiu2HAmSNZwNYwSwEQjQDvDzCZzzVw4SjoYU6iy6DLNLQ2fdwd2","/ip4/172.18.245.167/tcp/15108/ws/p2p/16Uiu2HAmSNZwNYwSwEQjQDvDzCZzzVw4SjoYU6iy6DLNLQ2fdwd2"],"enrUri":"enr:-L24QJ3d_hWdj-3_iLMPzm77UdsIXyzQI59eiOSNtQdTVz78LQIBu9oWEmZQ6-XLTtaPrd9uCAnIWNZCzliK6Px1USkCgmlkgnY0gmlwhKwS9aeKbXVsdGlhZGRyc5YACASsEvWnBjsDAAoErBL1pwY7BN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDy864itKRS2-4AR300plM638DXEAiprm7rYpVJ95Mk6GDdGNwgjsDg3VkcII7BYV3YWt1Mgk"}'
2025-02-11 04:03:34.476 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:34.482 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:34.483 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32__wakuorg_nwaku:latest.log
2025-02-11 04:03:34.483 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:34.483 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:34.484 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:34.484 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.251.154
2025-02-11 04:03:34.484 DEBUG [src.node.docker_mananger] Generated ports ['18883', '18884', '18885', '18886', '18887']
2025-02-11 04:03:34.485 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:34.485 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:34.485 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:34.485 DEBUG [src.node.docker_mananger] docker run -i -t -p 18883:18883 -p 18884:18884 -p 18885:18885 -p 18886:18886 -p 18887:18887 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18885 --rest-port=18883 --tcp-port=18884 --discv5-udp-port=18886 --rest-address=0.0.0.0 --nat=extip:172.18.251.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1fbf9a2e34dcf4b9d5b2ce72cfacdbc6fbeaf9eddce39f853b40ac3b18631867 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18887 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 04:03:34.720 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.251.154 waku d8a256d4222f004771272f77b77395fca714f1b76858cd98ea68ab3762046b3f
2025-02-11 04:03:34.772 DEBUG [src.node.docker_mananger] Container started with ID d8a256d4222f. Setting up logs at ./log/docker/receiving_node2_2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32__wakuorg_nwaku:latest.log
2025-02-11 04:03:34.772 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18883
2025-02-11 04:03:34.772 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:35.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:35.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:35.776 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:35.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:35.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.251.154/tcp/18884/p2p/16Uiu2HAmAS4hTp6nkaybwxfQHt73Pg3zqHf6WrqBdgza9tdP8LHi","/ip4/172.18.251.154/tcp/18885/ws/p2p/16Uiu2HAmAS4hTp6nkaybwxfQHt73Pg3zqHf6WrqBdgza9tdP8LHi"],"enrUri":"enr:-L24QKEAVQNf3OuBZA1fJFOjdyWzqJ4KnIjro5G8VYztD0rbUzuBUxAmYiFeM7dOpJAJAjsrpRvgKncNH-laynbmm8UCgmlkgnY0gmlwhKwS-5qKbXVsdGlhZGRyc5YACASsEvuaBknEAAoErBL7mgZJxd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC3vj94UGVUkS6Qp_RYKUUt2Aaq0xMwXjUxp7H2SM5GC2DdGNwgknEg3VkcIJJxoV3YWt1MgE"}'
2025-02-11 04:03:35.778 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:35.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18883/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.167/tcp/15107/p2p/16Uiu2HAmSNZwNYwSwEQjQDvDzCZzzVw4SjoYU6iy6DLNLQ2fdwd2"]'
2025-02-11 04:03:35.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:35.828 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:35.828 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32__wakuorg_nwaku:latest.log
2025-02-11 04:03:35.828 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:35.829 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:35.830 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:35.830 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.89.110
2025-02-11 04:03:35.830 DEBUG [src.node.docker_mananger] Generated ports ['46830', '46831', '46832', '46833', '46834']
2025-02-11 04:03:35.830 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:35.831 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:35.831 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:35.831 DEBUG [src.node.docker_mananger] docker run -i -t -p 46830:46830 -p 46831:46831 -p 46832:46832 -p 46833:46833 -p 46834:46834 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46832 --rest-port=46830 --tcp-port=46831 --discv5-udp-port=46833 --rest-address=0.0.0.0 --nat=extip:172.18.89.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=70069ffe9edbdf79da9c1bdcdefeea6aec9a8fcfd6efead18bb3dec8bbc6f922 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46834 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QJ3d_hWdj-3_iLMPzm77UdsIXyzQI59eiOSNtQdTVz78LQIBu9oWEmZQ6-XLTtaPrd9uCAnIWNZCzliK6Px1USkCgmlkgnY0gmlwhKwS9aeKbXVsdGlhZGRyc5YACASsEvWnBjsDAAoErBL1pwY7BN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDy864itKRS2-4AR300plM638DXEAiprm7rYpVJ95Mk6GDdGNwgjsDg3VkcII7BYV3YWt1Mgk --lightpushnode=/ip4/172.18.245.167/tcp/15107/p2p/16Uiu2HAmSNZwNYwSwEQjQDvDzCZzzVw4SjoYU6iy6DLNLQ2fdwd2 --lightpush=true --relay=false
2025-02-11 04:03:36.059 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.89.110 waku 819ab227d2ea2cc624247948de96b9623c4e12a9cbf05dc3c05d02cb564beb71
2025-02-11 04:03:36.104 DEBUG [src.node.docker_mananger] Container started with ID 819ab227d2ea. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_04-03-33__87a58d64-90db-4d14-aa55-1b4982954b32__wakuorg_nwaku:latest.log
2025-02-11 04:03:36.105 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46830
2025-02-11 04:03:36.105 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:37.105 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46830/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:03:37.109 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:03:37.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46830/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.110/tcp/46831/p2p/16Uiu2HAmPnGpr7cyTQGrZrdRvquuP2j4FAvWDxJX9UnY6sxX6f76","/ip4/172.18.89.110/tcp/46832/ws/p2p/16Uiu2HAmPnGpr7cyTQGrZrdRvquuP2j4FAvWDxJX9UnY6sxX6f76"],"enrUri":"enr:-L24QGv1TdziQjskb9SZCoUJZ4pSV1W-S3nM-7_A6iomoMlGPUygZh5JMfZMij2QnkjIB427u_B4-fWj6t_Fwv263QACgmlkgnY0gmlwhKwSWW6KbXVsdGlhZGRyc5YACASsElluBrbvAAoErBJZbga28N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpU5AFq6ZLw4xNqOSin1I1tYmloP-OyPxCVOsiOfzLsGDdGNwgrbvg3VkcIK28YV3YWt1Mgg"}'
2025-02-11 04:03:37.111 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:03:37.111 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.167/tcp/15107/p2p/16Uiu2HAmSNZwNYwSwEQjQDvDzCZzzVw4SjoYU6iy6DLNLQ2fdwd2"]'
2025-02-11 04:03:37.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.147 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.251.154/tcp/18884/p2p/16Uiu2HAmAS4hTp6nkaybwxfQHt73Pg3zqHf6WrqBdgza9tdP8LHi"]'
2025-02-11 04:03:37.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.180 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15106/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:03:37.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.190 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18883/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:03:37.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.194 DEBUG [tests.light_push.test_publish] Running test with payload A simple string
2025-02-11 04:03:37.194 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.195 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617194685952}}'
2025-02-11 04:03:37.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.204 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:37.305 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617194685952,"ephemeral":false}]'
2025-02-11 04:03:37.309 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617194685952,"ephemeral":false}]'
2025-02-11 04:03:37.312 DEBUG [tests.light_push.test_publish] Running test with payload An integer
2025-02-11 04:03:37.313 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.313 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617312855552}}'
2025-02-11 04:03:37.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.323 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:37.423 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617312855552,"ephemeral":false}]'
2025-02-11 04:03:37.427 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617312855552,"ephemeral":false}]'
2025-02-11 04:03:37.431 DEBUG [tests.light_push.test_publish] Running test with payload A dictionary
2025-02-11 04:03:37.432 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617431954944}}'
2025-02-11 04:03:37.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.442 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:37.542 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.543 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617431954944,"ephemeral":false}]'
2025-02-11 04:03:37.546 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.547 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617431954944,"ephemeral":false}]'
2025-02-11 04:03:37.550 DEBUG [tests.light_push.test_publish] Running test with payload Chinese characters
2025-02-11 04:03:37.551 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.551 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617551099648}}'
2025-02-11 04:03:37.561 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.561 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:37.662 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.662 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617551099648,"ephemeral":false}]'
2025-02-11 04:03:37.665 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.665 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617551099648,"ephemeral":false}]'
2025-02-11 04:03:37.669 DEBUG [tests.light_push.test_publish] Running test with payload Emojis
2025-02-11 04:03:37.669 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.669 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617669420032}}'
2025-02-11 04:03:37.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.680 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:37.780 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.780 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617669420032,"ephemeral":false}]'
2025-02-11 04:03:37.784 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617669420032,"ephemeral":false}]'
2025-02-11 04:03:37.787 DEBUG [tests.light_push.test_publish] Running test with payload Lorem ipsum text
2025-02-11 04:03:37.788 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.788 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617788180992}}'
2025-02-11 04:03:37.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.798 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:37.899 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617788180992,"ephemeral":false}]'
2025-02-11 04:03:37.903 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:37.903 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:37.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617788180992,"ephemeral":false}]'
2025-02-11 04:03:37.906 DEBUG [tests.light_push.test_publish] Running test with payload HTML content
2025-02-11 04:03:37.906 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:37.907 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246617906690816}}'
2025-02-11 04:03:37.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:37.916 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.017 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617906690816,"ephemeral":false}]'
2025-02-11 04:03:38.021 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.021 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246617906690816,"ephemeral":false}]'
2025-02-11 04:03:38.025 DEBUG [tests.light_push.test_publish] Running test with payload Cyrillic characters
2025-02-11 04:03:38.025 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618025658624}}'
2025-02-11 04:03:38.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.035 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.136 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618025658624,"ephemeral":false}]'
2025-02-11 04:03:38.140 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618025658624,"ephemeral":false}]'
2025-02-11 04:03:38.144 DEBUG [tests.light_push.test_publish] Running test with payload Base64 encoded string
2025-02-11 04:03:38.144 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.144 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618144502784}}'
2025-02-11 04:03:38.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.155 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.256 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618144502784,"ephemeral":false}]'
2025-02-11 04:03:38.260 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618144502784,"ephemeral":false}]'
2025-02-11 04:03:38.263 DEBUG [tests.light_push.test_publish] Running test with payload Binary data
2025-02-11 04:03:38.264 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.264 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618263830016}}'
2025-02-11 04:03:38.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.278 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.378 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618263830016,"ephemeral":false}]'
2025-02-11 04:03:38.382 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618263830016,"ephemeral":false}]'
2025-02-11 04:03:38.385 DEBUG [tests.light_push.test_publish] Running test with payload Special characters with whitespace
2025-02-11 04:03:38.386 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618386029568}}'
2025-02-11 04:03:38.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.396 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.496 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.497 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618386029568,"ephemeral":false}]'
2025-02-11 04:03:38.500 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618386029568,"ephemeral":false}]'
2025-02-11 04:03:38.503 DEBUG [tests.light_push.test_publish] Running test with payload Boolean false as a string
2025-02-11 04:03:38.504 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.504 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RmFsc2U=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618504157440}}'
2025-02-11 04:03:38.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.514 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.614 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618504157440,"ephemeral":false}]'
2025-02-11 04:03:38.618 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618504157440,"ephemeral":false}]'
2025-02-11 04:03:38.623 DEBUG [tests.light_push.test_publish] Running test with payload A float number
2025-02-11 04:03:38.623 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.624 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618623698432}}'
2025-02-11 04:03:38.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.634 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.734 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618623698432,"ephemeral":false}]'
2025-02-11 04:03:38.738 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618623698432,"ephemeral":false}]'
2025-02-11 04:03:38.741 DEBUG [tests.light_push.test_publish] Running test with payload A list
2025-02-11 04:03:38.742 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.742 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618741965824}}'
2025-02-11 04:03:38.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.751 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.852 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.852 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618741965824,"ephemeral":false}]'
2025-02-11 04:03:38.856 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.856 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618741965824,"ephemeral":false}]'
2025-02-11 04:03:38.859 DEBUG [tests.light_push.test_publish] Running test with payload Hexadecimal number as a string
2025-02-11 04:03:38.860 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.860 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MHhERUFEQkVFRg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618860145664}}'
2025-02-11 04:03:38.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.869 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:38.969 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.970 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618860145664,"ephemeral":false}]'
2025-02-11 04:03:38.974 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:38.974 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:38.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618860145664,"ephemeral":false}]'
2025-02-11 04:03:38.978 DEBUG [tests.light_push.test_publish] Running test with payload Email format
2025-02-11 04:03:38.978 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:38.978 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246618978358272}}'
2025-02-11 04:03:38.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:38.988 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.089 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.089 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618978358272,"ephemeral":false}]'
2025-02-11 04:03:39.093 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.093 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246618978358272,"ephemeral":false}]'
2025-02-11 04:03:39.096 DEBUG [tests.light_push.test_publish] Running test with payload URL format
2025-02-11 04:03:39.097 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.097 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619096919808}}'
2025-02-11 04:03:39.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.107 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.207 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.207 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619096919808,"ephemeral":false}]'
2025-02-11 04:03:39.211 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619096919808,"ephemeral":false}]'
2025-02-11 04:03:39.214 DEBUG [tests.light_push.test_publish] Running test with payload Date and time in ISO format
2025-02-11 04:03:39.215 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619214977280}}'
2025-02-11 04:03:39.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.225 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.325 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.325 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619214977280,"ephemeral":false}]'
2025-02-11 04:03:39.328 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619214977280,"ephemeral":false}]'
2025-02-11 04:03:39.332 DEBUG [tests.light_push.test_publish] Running test with payload String with escaped quotes
2025-02-11 04:03:39.333 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619332928512}}'
2025-02-11 04:03:39.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.343 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.443 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619332928512,"ephemeral":false}]'
2025-02-11 04:03:39.447 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619332928512,"ephemeral":false}]'
2025-02-11 04:03:39.451 DEBUG [tests.light_push.test_publish] Running test with payload A regular expression
2025-02-11 04:03:39.451 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619451234816}}'
2025-02-11 04:03:39.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.461 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.561 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619451234816,"ephemeral":false}]'
2025-02-11 04:03:39.565 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619451234816,"ephemeral":false}]'
2025-02-11 04:03:39.568 DEBUG [tests.light_push.test_publish] Running test with payload A very long string
2025-02-11 04:03:39.569 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.569 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619569075968}}'
2025-02-11 04:03:39.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.580 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.681 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.681 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619569075968,"ephemeral":false}]'
2025-02-11 04:03:39.685 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619569075968,"ephemeral":false}]'
2025-02-11 04:03:39.689 DEBUG [tests.light_push.test_publish] Running test with payload A JSON string
2025-02-11 04:03:39.690 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.690 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619689915904}}'
2025-02-11 04:03:39.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.701 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.802 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619689915904,"ephemeral":false}]'
2025-02-11 04:03:39.806 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.806 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619689915904,"ephemeral":false}]'
2025-02-11 04:03:39.809 DEBUG [tests.light_push.test_publish] Running test with payload A Unix path
2025-02-11 04:03:39.810 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.810 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619810090496}}'
2025-02-11 04:03:39.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.820 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:39.921 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619810090496,"ephemeral":false}]'
2025-02-11 04:03:39.925 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:39.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:39.927 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619810090496,"ephemeral":false}]'
2025-02-11 04:03:39.928 DEBUG [tests.light_push.test_publish] Running test with payload A Windows path
2025-02-11 04:03:39.929 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:39.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246619928843520}}'
2025-02-11 04:03:39.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:39.938 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.038 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619928843520,"ephemeral":false}]'
2025-02-11 04:03:40.042 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.042 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.045 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246619928843520,"ephemeral":false}]'
2025-02-11 04:03:40.046 DEBUG [tests.light_push.test_publish] Running test with payload An SQL query
2025-02-11 04:03:40.046 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.046 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620046535424}}'
2025-02-11 04:03:40.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.056 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.157 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620046535424,"ephemeral":false}]'
2025-02-11 04:03:40.161 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620046535424,"ephemeral":false}]'
2025-02-11 04:03:40.165 DEBUG [tests.light_push.test_publish] Running test with payload JavaScript code snippet
2025-02-11 04:03:40.166 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.166 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620166104576}}'
2025-02-11 04:03:40.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.176 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.276 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620166104576,"ephemeral":false}]'
2025-02-11 04:03:40.281 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620166104576,"ephemeral":false}]'
2025-02-11 04:03:40.285 DEBUG [tests.light_push.test_publish] Running test with payload A CSS snippet
2025-02-11 04:03:40.285 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.285 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620285285120}}'
2025-02-11 04:03:40.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.295 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.397 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.397 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620285285120,"ephemeral":false}]'
2025-02-11 04:03:40.401 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.401 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620285285120,"ephemeral":false}]'
2025-02-11 04:03:40.404 DEBUG [tests.light_push.test_publish] Running test with payload A Python one-liner
2025-02-11 04:03:40.405 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.405 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620405048832}}'
2025-02-11 04:03:40.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.417 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.517 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.517 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620405048832,"ephemeral":false}]'
2025-02-11 04:03:40.521 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620405048832,"ephemeral":false}]'
2025-02-11 04:03:40.525 DEBUG [tests.light_push.test_publish] Running test with payload An IP address
2025-02-11 04:03:40.525 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.525 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620525374976}}'
2025-02-11 04:03:40.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.536 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.636 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.637 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.639 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620525374976,"ephemeral":false}]'
2025-02-11 04:03:40.640 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620525374976,"ephemeral":false}]'
2025-02-11 04:03:40.644 DEBUG [tests.light_push.test_publish] Running test with payload A domain name
2025-02-11 04:03:40.644 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.644 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620644472576}}'
2025-02-11 04:03:40.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.654 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.754 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620644472576,"ephemeral":false}]'
2025-02-11 04:03:40.760 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620644472576,"ephemeral":false}]'
2025-02-11 04:03:40.764 DEBUG [tests.light_push.test_publish] Running test with payload A user agent string
2025-02-11 04:03:40.764 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.764 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620764247040}}'
2025-02-11 04:03:40.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.775 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.875 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620764247040,"ephemeral":false}]'
2025-02-11 04:03:40.879 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:40.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620764247040,"ephemeral":false}]'
2025-02-11 04:03:40.883 DEBUG [tests.light_push.test_publish] Running test with payload A credit card number
2025-02-11 04:03:40.883 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:40.884 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246620883753984}}'
2025-02-11 04:03:40.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:40.898 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:40.999 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:40.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620883753984,"ephemeral":false}]'
2025-02-11 04:03:41.003 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.003 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246620883753984,"ephemeral":false}]'
2025-02-11 04:03:41.006 DEBUG [tests.light_push.test_publish] Running test with payload A phone number
2025-02-11 04:03:41.007 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.007 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621007219712}}'
2025-02-11 04:03:41.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.018 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.118 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621007219712,"ephemeral":false}]'
2025-02-11 04:03:41.122 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.122 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621007219712,"ephemeral":false}]'
2025-02-11 04:03:41.126 DEBUG [tests.light_push.test_publish] Running test with payload A UUID
2025-02-11 04:03:41.126 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.126 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621126358784}}'
2025-02-11 04:03:41.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.136 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.236 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621126358784,"ephemeral":false}]'
2025-02-11 04:03:41.240 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.240 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621126358784,"ephemeral":false}]'
2025-02-11 04:03:41.244 DEBUG [tests.light_push.test_publish] Running test with payload A hashtag
2025-02-11 04:03:41.244 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.244 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621244261376}}'
2025-02-11 04:03:41.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.254 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.355 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.355 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621244261376,"ephemeral":false}]'
2025-02-11 04:03:41.359 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.359 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621244261376,"ephemeral":false}]'
2025-02-11 04:03:41.363 DEBUG [tests.light_push.test_publish] Running test with payload A Twitter handle
2025-02-11 04:03:41.363 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.363 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QHVzZXJuYW1l", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621363444224}}'
2025-02-11 04:03:41.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.374 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.474 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621363444224,"ephemeral":false}]'
2025-02-11 04:03:41.478 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621363444224,"ephemeral":false}]'
2025-02-11 04:03:41.482 DEBUG [tests.light_push.test_publish] Running test with payload A password
2025-02-11 04:03:41.482 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UEBzc3cwcmQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621482662656}}'
2025-02-11 04:03:41.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.493 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.593 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621482662656,"ephemeral":false}]'
2025-02-11 04:03:41.597 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621482662656,"ephemeral":false}]'
2025-02-11 04:03:41.601 DEBUG [tests.light_push.test_publish] Running test with payload A date in common format
2025-02-11 04:03:41.601 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621601703680}}'
2025-02-11 04:03:41.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.612 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.713 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.713 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621601703680,"ephemeral":false}]'
2025-02-11 04:03:41.717 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.717 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621601703680,"ephemeral":false}]'
2025-02-11 04:03:41.721 DEBUG [tests.light_push.test_publish] Running test with payload A time string
2025-02-11 04:03:41.721 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.721 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTI6MDA6MDA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621721311488}}'
2025-02-11 04:03:41.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.732 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.832 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.832 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.835 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621721311488,"ephemeral":false}]'
2025-02-11 04:03:41.836 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621721311488,"ephemeral":false}]'
2025-02-11 04:03:41.840 DEBUG [tests.light_push.test_publish] Running test with payload A mathematical equation
2025-02-11 04:03:41.840 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 04:03:41.840 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46830/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RSA9IG1jXjI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739246621840258560}}'
2025-02-11 04:03:41.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:03:41.850 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:03:41.950 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15106/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621840258560,"ephemeral":false}]'
2025-02-11 04:03:41.954 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 04:03:41.954 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:03:41.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246621840258560,"ephemeral":false}]'
2025-02-11 04:03:41.959 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:03:41.960 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:03:41.960 DEBUG [src.node.waku_node] Stopping container with id 22a308264f84
2025-02-11 04:03:42.647 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:42.647 DEBUG [src.node.waku_node] Stopping container with id d8a256d4222f
2025-02-11 04:03:43.459 ERROR [src.node.docker_mananger] Max retries reached for container 22a308264f84. Exiting log stream.
2025-02-11 04:03:43.621 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:43.621 DEBUG [src.node.waku_node] Stopping container with id 819ab227d2ea
2025-02-11 04:03:44.433 ERROR [src.node.docker_mananger] Max retries reached for container d8a256d4222f. Exiting log stream.
2025-02-11 04:03:45.060 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:03:45.061 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:03:45.087 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:03:45.101 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:03:45.119 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
