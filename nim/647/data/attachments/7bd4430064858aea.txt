2025-02-11 04:03:58.718 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:03:58.718 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_content_topics_and_send_messages with id: 2025-02-11_04-03-58__bec1e5e5-3947-4d53-910c-b60c519be7d2
2025-02-11 04:03:58.718 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:03:58.719 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:03:58.719 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:03:58.725 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:03:58.726 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-03-58__bec1e5e5-3947-4d53-910c-b60c519be7d2__wakuorg_nwaku:latest.log
2025-02-11 04:03:58.726 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:03:58.726 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:03:58.727 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:03:58.727 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.219.126
2025-02-11 04:03:58.727 DEBUG [src.node.docker_mananger] Generated ports ['39988', '39989', '39990', '39991', '39992']
2025-02-11 04:03:58.728 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:03:58.728 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:03:58.728 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:03:58.728 DEBUG [src.node.docker_mananger] docker run -i -t -p 39988:39988 -p 39989:39989 -p 39990:39990 -p 39991:39991 -p 39992:39992 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39990 --rest-port=39988 --tcp-port=39989 --discv5-udp-port=39991 --rest-address=0.0.0.0 --nat=extip:172.18.219.126 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0b3869eedebbd2a32e355e2f4669dfc98afc9f9ec07929e5d7eb174d5c4b2dd7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39992 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 04:03:58.958 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.219.126 waku 6d5475029c32aa934520946061175bb3b237ded018fe7390c9fd6a214c38cf8a
2025-02-11 04:03:59.009 DEBUG [src.node.docker_mananger] Container started with ID 6d5475029c32. Setting up logs at ./log/docker/node1_2025-02-11_04-03-58__bec1e5e5-3947-4d53-910c-b60c519be7d2__wakuorg_nwaku:latest.log
2025-02-11 04:03:59.009 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39988
2025-02-11 04:03:59.010 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:03:59.514 ERROR [src.node.docker_mananger] Max retries reached for container 9eb9edfb1c7f. Exiting log stream.
2025-02-11 04:04:00.011 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:00.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:00.014 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:00.014 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:00.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.126/tcp/39989/p2p/16Uiu2HAmS2B2aZnFRuRGc4oBdzavSNzZkcgQVkF9K7D7PYYhVZUu","/ip4/172.18.219.126/tcp/39990/ws/p2p/16Uiu2HAmS2B2aZnFRuRGc4oBdzavSNzZkcgQVkF9K7D7PYYhVZUu"],"enrUri":"enr:-L24QKP9oCeYb7iQXTOv1NMVjlSfCqJX5J37fpjXoxxxQkXBcwb_8VdR6SMV0ynRbZkQY0nFHsv5so2sAwwLOU2gu6gCgmlkgnY0gmlwhKwS236KbXVsdGlhZGRyc5YACASsEtt-Bpw1AAoErBLbfgacNt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDxpUzNEnFAIggt9kbKoadKYZWmmT030smjU6ENAb3_tKDdGNwgpw1g3VkcIKcN4V3YWt1MgU"}'
2025-02-11 04:04:00.016 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:00.023 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:00.023 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-03-58__bec1e5e5-3947-4d53-910c-b60c519be7d2__wakuorg_nwaku:latest.log
2025-02-11 04:04:00.023 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:00.024 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:00.025 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:00.025 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.32.152
2025-02-11 04:04:00.025 DEBUG [src.node.docker_mananger] Generated ports ['56199', '56200', '56201', '56202', '56203']
2025-02-11 04:04:00.025 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:00.025 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:00.026 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:00.026 DEBUG [src.node.docker_mananger] docker run -i -t -p 56199:56199 -p 56200:56200 -p 56201:56201 -p 56202:56202 -p 56203:56203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56201 --rest-port=56199 --tcp-port=56200 --discv5-udp-port=56202 --rest-address=0.0.0.0 --nat=extip:172.18.32.152 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4fd3ea1b6b4aaa6fba35ac02efc0f89febbd437d8fda2cb641c72ae3713df20c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56203 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKP9oCeYb7iQXTOv1NMVjlSfCqJX5J37fpjXoxxxQkXBcwb_8VdR6SMV0ynRbZkQY0nFHsv5so2sAwwLOU2gu6gCgmlkgnY0gmlwhKwS236KbXVsdGlhZGRyc5YACASsEtt-Bpw1AAoErBLbfgacNt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDxpUzNEnFAIggt9kbKoadKYZWmmT030smjU6ENAb3_tKDdGNwgpw1g3VkcIKcN4V3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 04:04:00.255 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.32.152 waku da082bf4f99a45f8a6ebc263d6f38fc35a47785911fd0bda52fd2ffb5bb69874
2025-02-11 04:04:00.301 DEBUG [src.node.docker_mananger] Container started with ID da082bf4f99a. Setting up logs at ./log/docker/node2_2025-02-11_04-03-58__bec1e5e5-3947-4d53-910c-b60c519be7d2__wakuorg_nwaku:latest.log
2025-02-11 04:04:00.301 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 56199
2025-02-11 04:04:00.302 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:01.303 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:01.314 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:01.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.32.152/tcp/56200/p2p/16Uiu2HAmGzmTuZjwbNrVdSh5Srq8yjH6Fb8krkTtWubFwvuUNcLm","/ip4/172.18.32.152/tcp/56201/ws/p2p/16Uiu2HAmGzmTuZjwbNrVdSh5Srq8yjH6Fb8krkTtWubFwvuUNcLm"],"enrUri":"enr:-L24QPAIQRXRkLIHV05QrOx9r3vR0_BzujIO7rigP3I0IwRYavzlY2atmYlAMa38xrJlLgwmc7xIx0fBfWl_J_9alwoCgmlkgnY0gmlwhKwSIJiKbXVsdGlhZGRyc5YACASsEiCYBtuIAAoErBIgmAbbid0DgnJzhQACAQAAiXNlY3AyNTZrMaEDQH_LMq7jlcr_Z6YhJhVIOnEokc4j9DbKDFdZWrQj5x6DdGNwgtuIg3VkcILbioV3YWt1MgE"}'
2025-02-11 04:04:01.317 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:01.318 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.219.126/tcp/39989/p2p/16Uiu2HAmS2B2aZnFRuRGc4oBdzavSNzZkcgQVkF9K7D7PYYhVZUu"]'
2025-02-11 04:04:01.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.321 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-11 04:04:01.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.324 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-11 04:04:01.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:01.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.331 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:01.432 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.432 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246641326809600,"ephemeral":false}]'
2025-02-11 04:04:01.436 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246641326809600,"ephemeral":false}]'
2025-02-11 04:04:01.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-11 04:04:01.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.444 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-11 04:04:01.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:01.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.456 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:01.557 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246641451112960,"ephemeral":false}]'
2025-02-11 04:04:01.561 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246641451112960,"ephemeral":false}]'
2025-02-11 04:04:01.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-11 04:04:01.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.572 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-11 04:04:01.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.580 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:01.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.586 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:01.686 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246641580528128,"ephemeral":false}]'
2025-02-11 04:04:01.690 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.691 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246641580528128,"ephemeral":false}]'
2025-02-11 04:04:01.694 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-11 04:04:01.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.698 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-11 04:04:01.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:01.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.711 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:01.811 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246641704328192,"ephemeral":false}]'
2025-02-11 04:04:01.815 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.815 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.817 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246641704328192,"ephemeral":false}]'
2025-02-11 04:04:01.819 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-11 04:04:01.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.823 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-11 04:04:01.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.829 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:01.836 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.836 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:01.937 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246641829491968,"ephemeral":false}]'
2025-02-11 04:04:01.940 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:01.940 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:01.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246641829491968,"ephemeral":false}]'
2025-02-11 04:04:01.944 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-11 04:04:01.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.949 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-11 04:04:01.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.955 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:01.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:01.961 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.061 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.062 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.064 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246641955193600,"ephemeral":false}]'
2025-02-11 04:04:02.066 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.066 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.068 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246641955193600,"ephemeral":false}]'
2025-02-11 04:04:02.070 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-11 04:04:02.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.075 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-11 04:04:02.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.080 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.187 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.187 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246642080529920,"ephemeral":false}]'
2025-02-11 04:04:02.191 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.191 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246642080529920,"ephemeral":false}]'
2025-02-11 04:04:02.195 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-11 04:04:02.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.199 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-11 04:04:02.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.205 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.212 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.312 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246642205577216,"ephemeral":false}]'
2025-02-11 04:04:02.316 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.316 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246642205577216,"ephemeral":false}]'
2025-02-11 04:04:02.320 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf"]'
2025-02-11 04:04:02.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.324 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf"]'
2025-02-11 04:04:02.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.330 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.336 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.436 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739246642330417152,"ephemeral":false}]'
2025-02-11 04:04:02.442 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739246642330417152,"ephemeral":false}]'
2025-02-11 04:04:02.446 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/alerts/xml"]'
2025-02-11 04:04:02.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/alerts/xml"]'
2025-02-11 04:04:02.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.456 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.557 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739246642451747584,"ephemeral":false}]'
2025-02-11 04:04:02.561 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739246642451747584,"ephemeral":false}]'
2025-02-11 04:04:02.564 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/updates/json"]'
2025-02-11 04:04:02.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.567 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/updates/json"]'
2025-02-11 04:04:02.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.570 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.575 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.675 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.675 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739246642570071296,"ephemeral":false}]'
2025-02-11 04:04:02.679 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739246642570071296,"ephemeral":false}]'
2025-02-11 04:04:02.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/json"]'
2025-02-11 04:04:02.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/json"]'
2025-02-11 04:04:02.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.695 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.701 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.801 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739246642695266560,"ephemeral":false}]'
2025-02-11 04:04:02.805 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.805 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739246642695266560,"ephemeral":false}]'
2025-02-11 04:04:02.809 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/summaries/xml"]'
2025-02-11 04:04:02.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.812 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/summaries/xml"]'
2025-02-11 04:04:02.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.815 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.820 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:02.921 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739246642815611392,"ephemeral":false}]'
2025-02-11 04:04:02.925 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:02.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:02.927 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739246642815611392,"ephemeral":false}]'
2025-02-11 04:04:02.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/highlights/yaml"]'
2025-02-11 04:04:02.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/highlights/yaml"]'
2025-02-11 04:04:02.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.935 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:02.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:02.939 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:03.040 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:03.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739246642935032576,"ephemeral":false}]'
2025-02-11 04:04:03.044 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:03.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739246642935032576,"ephemeral":false}]'
2025-02-11 04:04:03.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/weekly/json"]'
2025-02-11 04:04:03.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:03.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/weekly/json"]'
2025-02-11 04:04:03.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:03.058 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:03.063 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:03.064 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:03.164 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:03.165 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739246643058338560,"ephemeral":false}]'
2025-02-11 04:04:03.169 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:03.169 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739246643058338560,"ephemeral":false}]'
2025-02-11 04:04:03.173 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/summaries/xml"]'
2025-02-11 04:04:03.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:03.176 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56199/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/summaries/xml"]'
2025-02-11 04:04:03.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:03.179 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39988/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:03.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:03.184 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:03.285 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:03.285 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39988/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739246643178916608,"ephemeral":false}]'
2025-02-11 04:04:03.289 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:03.289 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56199/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:03.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739246643178916608,"ephemeral":false}]'
2025-02-11 04:04:03.294 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:04:03.295 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:04:03.295 DEBUG [src.node.waku_node] Stopping container with id 6d5475029c32
2025-02-11 04:04:04.489 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:04.489 DEBUG [src.node.waku_node] Stopping container with id da082bf4f99a
2025-02-11 04:04:05.301 ERROR [src.node.docker_mananger] Max retries reached for container 6d5475029c32. Exiting log stream.
2025-02-11 04:04:05.993 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:05.998 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:04:06.014 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:04:06.028 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
