2025-02-11 04:05:01.075 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:05:01.076 DEBUG [tests.conftest] Running test: test_invalid_hash_param with id: 2025-02-11_04-05-01__359d44bf-d87b-45eb-b0ff-9e81d8f3d122
2025-02-11 04:05:01.076 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:05:01.076 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 04:05:01.076 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 04:05:01.082 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:01.082 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_04-05-01__359d44bf-d87b-45eb-b0ff-9e81d8f3d122__wakuorg_nwaku:latest.log
2025-02-11 04:05:01.083 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:01.083 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:01.084 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:01.084 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.217.111
2025-02-11 04:05:01.084 DEBUG [src.node.docker_mananger] Generated ports ['16241', '16242', '16243', '16244', '16245']
2025-02-11 04:05:01.084 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:01.085 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:01.085 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:01.085 DEBUG [src.node.docker_mananger] docker run -i -t -p 16241:16241 -p 16242:16242 -p 16243:16243 -p 16244:16244 -p 16245:16245 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16243 --rest-port=16241 --tcp-port=16242 --discv5-udp-port=16244 --rest-address=0.0.0.0 --nat=extip:172.18.217.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe520fcc56bfaab68adbfe7fd38361a22f7dea0c1ecac13f8f5a45026ec3946e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16245 --metrics-logging=true --store=true --relay=true
2025-02-11 04:05:01.312 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.217.111 waku a6d2960cc80ee2267b6f1ea98afc682091465778b559e342f128769479f2edbf
2025-02-11 04:05:01.360 DEBUG [src.node.docker_mananger] Container started with ID a6d2960cc80e. Setting up logs at ./log/docker/publishing_node1_2025-02-11_04-05-01__359d44bf-d87b-45eb-b0ff-9e81d8f3d122__wakuorg_nwaku:latest.log
2025-02-11 04:05:01.361 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 16241
2025-02-11 04:05:01.361 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:01.883 ERROR [src.node.docker_mananger] Max retries reached for container 7b6cfedc803d. Exiting log stream.
2025-02-11 04:05:02.362 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16241/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:02.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:02.364 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:02.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16241/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:02.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.111/tcp/16242/p2p/16Uiu2HAmUDSRzPMxU4XqeohLLQnYfFneKpieSCFgBRmuzCxdcShA","/ip4/172.18.217.111/tcp/16243/ws/p2p/16Uiu2HAmUDSRzPMxU4XqeohLLQnYfFneKpieSCFgBRmuzCxdcShA"],"enrUri":"enr:-L24QPRCUd8Ofx2Pde4xat8EIrYBcxM4ToO77uBMD5Kw_sI8W7a96fo4k9H-OUf63_K0dc8ym2xL3nMxpIYrNbxGy_UCgmlkgnY0gmlwhKwS2W-KbXVsdGlhZGRyc5YACASsEtlvBj9yAAoErBLZbwY_c90DgnJzhQADAQAAiXNlY3AyNTZrMaED5y9hNNCdtR5ZcoXtJH45P0F9dQD-xfdEOIgrLHU9B_WDdGNwgj9yg3VkcII_dIV3YWt1MgM"}'
2025-02-11 04:05:02.367 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:02.373 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:02.373 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_04-05-01__359d44bf-d87b-45eb-b0ff-9e81d8f3d122__wakuorg_nwaku:latest.log
2025-02-11 04:05:02.374 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:02.374 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:02.375 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:02.375 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.238.173
2025-02-11 04:05:02.375 DEBUG [src.node.docker_mananger] Generated ports ['44060', '44061', '44062', '44063', '44064']
2025-02-11 04:05:02.376 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:02.376 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:02.376 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:02.376 DEBUG [src.node.docker_mananger] docker run -i -t -p 44060:44060 -p 44061:44061 -p 44062:44062 -p 44063:44063 -p 44064:44064 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44062 --rest-port=44060 --tcp-port=44061 --discv5-udp-port=44063 --rest-address=0.0.0.0 --nat=extip:172.18.238.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=730c7f813e5cca918d097798eb022e5a3cd3a9d73b5dbb469f1ccc3e57cbe5eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44064 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPRCUd8Ofx2Pde4xat8EIrYBcxM4ToO77uBMD5Kw_sI8W7a96fo4k9H-OUf63_K0dc8ym2xL3nMxpIYrNbxGy_UCgmlkgnY0gmlwhKwS2W-KbXVsdGlhZGRyc5YACASsEtlvBj9yAAoErBLZbwY_c90DgnJzhQADAQAAiXNlY3AyNTZrMaED5y9hNNCdtR5ZcoXtJH45P0F9dQD-xfdEOIgrLHU9B_WDdGNwgj9yg3VkcII_dIV3YWt1MgM --storenode=/ip4/172.18.217.111/tcp/16242/p2p/16Uiu2HAmUDSRzPMxU4XqeohLLQnYfFneKpieSCFgBRmuzCxdcShA --store=true --relay=true
2025-02-11 04:05:02.594 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.238.173 waku 18afd131692cf8bec3f50fcab0b185347d834ae5a6ac89da1430eed01529ede1
2025-02-11 04:05:02.637 DEBUG [src.node.docker_mananger] Container started with ID 18afd131692c. Setting up logs at ./log/docker/store_node1_2025-02-11_04-05-01__359d44bf-d87b-45eb-b0ff-9e81d8f3d122__wakuorg_nwaku:latest.log
2025-02-11 04:05:02.637 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44060
2025-02-11 04:05:02.639 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:03.639 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44060/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:03.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:03.642 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:03.642 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44060/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:03.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.173/tcp/44061/p2p/16Uiu2HAm6d5UaRdmVZ7d9cojfoG3iLFt45aCmi2QcAHTxXJXfXxy","/ip4/172.18.238.173/tcp/44062/ws/p2p/16Uiu2HAm6d5UaRdmVZ7d9cojfoG3iLFt45aCmi2QcAHTxXJXfXxy"],"enrUri":"enr:-L24QH_Pxh7foBUH4q5qmkoC1GarlBm9qLJmA1QEyfBs4c1eZfTQxUpzpoMT9V1pleOUXl8u0wN1oPW9vHuFye0vsDoCgmlkgnY0gmlwhKwS7q2KbXVsdGlhZGRyc5YACASsEu6tBqwdAAoErBLurQasHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECplyDLQFmjlcTI-g-PhYkO9e7iA3fOseJ13hsv2n1M1aDdGNwgqwdg3VkcIKsH4V3YWt1MgM"}'
2025-02-11 04:05:03.645 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:03.646 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44060/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.217.111/tcp/16242/p2p/16Uiu2HAmUDSRzPMxU4XqeohLLQnYfFneKpieSCFgBRmuzCxdcShA"]'
2025-02-11 04:05:03.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:03.649 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16241/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:05:03.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:03.651 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44060/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:05:03.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:03.655 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:03.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16241/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:03.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:03.661 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:03.862 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:03.862 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16241/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:03.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:03.868 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:04.069 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:04.069 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16241/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:04.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:04.074 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:04.275 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:04.275 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16241/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:04.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:04.281 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:04.482 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16241/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:04.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b"}]}'
2025-02-11 04:05:04.485 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16241/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:04.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd32dc6cbd05301df4b863a70f0dac60a5a1c2accd7b9b170e5bd9c0b145b3550"},{"messageHash":"0xc1cdf0fe5b12d9c03942f014a66c24770f9593ed87c19c61aea547482fdcdfb9"},{"messageHash":"0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b"},{"messageHash":"0x44ec3e672aa1a828b205ff004720f8a6a686d13a5f2c2613561ade9c2a74d243"}]}'
2025-02-11 04:05:04.489 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44060/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:04.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b"}]}'
2025-02-11 04:05:04.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44060/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:04.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd32dc6cbd05301df4b863a70f0dac60a5a1c2accd7b9b170e5bd9c0b145b3550"},{"messageHash":"0xc1cdf0fe5b12d9c03942f014a66c24770f9593ed87c19c61aea547482fdcdfb9"},{"messageHash":"0xebf96184bd9643a21a42b4aee9af5aeb9d9be7ef55196dc7379af4119deb9b0b"},{"messageHash":"0x44ec3e672aa1a828b205ff004720f8a6a686d13a5f2c2613561ade9c2a74d243"}]}'
2025-02-11 04:05:04.496 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:05:04.497 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:05:04.497 DEBUG [src.node.waku_node] Stopping container with id a6d2960cc80e
2025-02-11 04:05:05.162 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:05.162 DEBUG [src.node.waku_node] Stopping container with id 18afd131692c
2025-02-11 04:05:05.974 ERROR [src.node.docker_mananger] Max retries reached for container a6d2960cc80e. Exiting log stream.
2025-02-11 04:05:06.606 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:06.608 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:05:06.614 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:05:06.619 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
