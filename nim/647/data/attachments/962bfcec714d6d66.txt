2025-02-11 04:08:05.888 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:08:05.888 DEBUG [tests.conftest] Running test: test_invalid_pagination_cursor_param with id: 2025-02-11_04-08-05__55be5cec-f53d-475f-8866-b9d810c2e305
2025-02-11 04:08:05.889 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:08:05.889 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 04:08:05.889 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 04:08:05.895 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:08:05.895 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_04-08-05__55be5cec-f53d-475f-8866-b9d810c2e305__wakuorg_nwaku:latest.log
2025-02-11 04:08:05.895 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:08:05.896 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:08:05.897 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:08:05.897 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.45.17
2025-02-11 04:08:05.897 DEBUG [src.node.docker_mananger] Generated ports ['43549', '43550', '43551', '43552', '43553']
2025-02-11 04:08:05.897 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:08:05.897 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:08:05.897 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:08:05.898 DEBUG [src.node.docker_mananger] docker run -i -t -p 43549:43549 -p 43550:43550 -p 43551:43551 -p 43552:43552 -p 43553:43553 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43551 --rest-port=43549 --tcp-port=43550 --discv5-udp-port=43552 --rest-address=0.0.0.0 --nat=extip:172.18.45.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb3abbaeed093fecc444dd6d2cc4999a511dda23dfabf007ada6f6d6578ddb07 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43553 --metrics-logging=true --store=true --relay=true
2025-02-11 04:08:06.118 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.45.17 waku ccf92130cd9d00b38366c37105d7838a98dffb64d6288fea348e3ca7a2f65903
2025-02-11 04:08:06.163 DEBUG [src.node.docker_mananger] Container started with ID ccf92130cd9d. Setting up logs at ./log/docker/publishing_node1_2025-02-11_04-08-05__55be5cec-f53d-475f-8866-b9d810c2e305__wakuorg_nwaku:latest.log
2025-02-11 04:08:06.165 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43549
2025-02-11 04:08:06.167 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:08:06.693 ERROR [src.node.docker_mananger] Max retries reached for container 1f53504d94bb. Exiting log stream.
2025-02-11 04:08:07.168 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43549/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:07.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:08:07.171 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:08:07.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43549/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:07.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.17/tcp/43550/p2p/16Uiu2HAmAukC5miK9YDv9uFwJnGdGKUBSqz6yaarBBLDzjvqAa89","/ip4/172.18.45.17/tcp/43551/ws/p2p/16Uiu2HAmAukC5miK9YDv9uFwJnGdGKUBSqz6yaarBBLDzjvqAa89"],"enrUri":"enr:-L24QGbNeTbtsxaUinGPwcqYdL7pK70-nDJIpYGEOceRQBFdHebxu4hPnUobX5YcXapVVGB1c9vypXGJs6qmelltNRYCgmlkgnY0gmlwhKwSLRGKbXVsdGlhZGRyc5YACASsEi0RBqoeAAoErBItEQaqH90DgnJzhQADAQAAiXNlY3AyNTZrMaEC5hBUNeTBMHyz3PZj-tC_j1wC7RB7kz9paZrAimL8ysqDdGNwgqoeg3VkcIKqIIV3YWt1MgM"}'
2025-02-11 04:08:07.173 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:08:07.180 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:08:07.180 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_04-08-05__55be5cec-f53d-475f-8866-b9d810c2e305__wakuorg_nwaku:latest.log
2025-02-11 04:08:07.180 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:08:07.181 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:08:07.182 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:08:07.182 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.67.187
2025-02-11 04:08:07.182 DEBUG [src.node.docker_mananger] Generated ports ['47372', '47373', '47374', '47375', '47376']
2025-02-11 04:08:07.182 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:08:07.182 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:08:07.183 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:08:07.183 DEBUG [src.node.docker_mananger] docker run -i -t -p 47372:47372 -p 47373:47373 -p 47374:47374 -p 47375:47375 -p 47376:47376 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47374 --rest-port=47372 --tcp-port=47373 --discv5-udp-port=47375 --rest-address=0.0.0.0 --nat=extip:172.18.67.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb38dadecbae1be3ad3f915fe45a1db74edec721fa41970fdab40c3b9a0f08ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47376 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGbNeTbtsxaUinGPwcqYdL7pK70-nDJIpYGEOceRQBFdHebxu4hPnUobX5YcXapVVGB1c9vypXGJs6qmelltNRYCgmlkgnY0gmlwhKwSLRGKbXVsdGlhZGRyc5YACASsEi0RBqoeAAoErBItEQaqH90DgnJzhQADAQAAiXNlY3AyNTZrMaEC5hBUNeTBMHyz3PZj-tC_j1wC7RB7kz9paZrAimL8ysqDdGNwgqoeg3VkcIKqIIV3YWt1MgM --storenode=/ip4/172.18.45.17/tcp/43550/p2p/16Uiu2HAmAukC5miK9YDv9uFwJnGdGKUBSqz6yaarBBLDzjvqAa89 --store=true --relay=true
2025-02-11 04:08:07.409 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.67.187 waku 96f3703cdad4c25d07c8a2bfb40f64681f50a90c0345c4be1aa8f767f34419c3
2025-02-11 04:08:07.460 DEBUG [src.node.docker_mananger] Container started with ID 96f3703cdad4. Setting up logs at ./log/docker/store_node1_2025-02-11_04-08-05__55be5cec-f53d-475f-8866-b9d810c2e305__wakuorg_nwaku:latest.log
2025-02-11 04:08:07.460 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47372
2025-02-11 04:08:07.461 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:08:08.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47372/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:08.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:08:08.464 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:08:08.464 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47372/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:08.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.187/tcp/47373/p2p/16Uiu2HAkyYJkPjZPeT7pFBdjnxDhdmTa6EEnCop9QQwnuGbYcWdJ","/ip4/172.18.67.187/tcp/47374/ws/p2p/16Uiu2HAkyYJkPjZPeT7pFBdjnxDhdmTa6EEnCop9QQwnuGbYcWdJ"],"enrUri":"enr:-L24QNerDhaGrCZ0-BsvPZmG1PRpj5H1RumOYrNN7dOoltmKFZ4NuEyE-KuXRzSaxkvPNlIH7jLq6g8AkPb8jL5hgSgCgmlkgnY0gmlwhKwSQ7uKbXVsdGlhZGRyc5YACASsEkO7BrkNAAoErBJDuwa5Dt0DgnJzhQADAQAAiXNlY3AyNTZrMaECPSHOrlAYYT3UQxIojfG2H7nbKKMxu-z8_LO3nz-l6bWDdGNwgrkNg3VkcIK5D4V3YWt1MgM"}'
2025-02-11 04:08:08.467 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:08:08.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47372/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.17/tcp/43550/p2p/16Uiu2HAmAukC5miK9YDv9uFwJnGdGKUBSqz6yaarBBLDzjvqAa89"]'
2025-02-11 04:08:08.470 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:08.470 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43549/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:08:08.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:08.473 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47372/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:08:08.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:08.476 DEBUG [src.steps.store] Relaying message
2025-02-11 04:08:08.476 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:08.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:08.481 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:08:08.682 DEBUG [src.steps.store] Relaying message
2025-02-11 04:08:08.682 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:08.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:08.688 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:08:08.888 DEBUG [src.steps.store] Relaying message
2025-02-11 04:08:08.889 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:08.894 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:08.895 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:08:09.096 DEBUG [src.steps.store] Relaying message
2025-02-11 04:08:09.096 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:09.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:09.102 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:08:09.303 DEBUG [src.steps.store] Relaying message
2025-02-11 04:08:09.303 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:08:09.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:08:09.310 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:08:09.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43549/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:09.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x762c6cbbb0b9a97384535663a50d780ad63707d641aa8a3cfbcbbdd9657d2fb6"},{"messageHash":"0x30f4c1ae1d5d1450f00ba4c31a091d554d6cb0f910cdba2f6f6b3554acffbce3"},{"messageHash":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}],"paginationCursor":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}'
2025-02-11 04:08:09.514 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43549/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true&paginationCursor=0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:09.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x762c6cbbb0b9a97384535663a50d780ad63707d641aa8a3cfbcbbdd9657d2fb6"},{"messageHash":"0x30f4c1ae1d5d1450f00ba4c31a091d554d6cb0f910cdba2f6f6b3554acffbce3"},{"messageHash":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}],"paginationCursor":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}'
2025-02-11 04:08:09.518 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43549/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:09.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2a2a704ecbb84e355d2297eeedef9885bc9e65af2d0f32c22293e602ef0f91e2"},{"messageHash":"0x61f6fc0343661bbedb5ca206e4632ccbcaa0e95d927633dfee552893cf1dcea4"}]}'
2025-02-11 04:08:09.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47372/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:09.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x762c6cbbb0b9a97384535663a50d780ad63707d641aa8a3cfbcbbdd9657d2fb6"},{"messageHash":"0x30f4c1ae1d5d1450f00ba4c31a091d554d6cb0f910cdba2f6f6b3554acffbce3"},{"messageHash":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}],"paginationCursor":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}'
2025-02-11 04:08:09.524 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47372/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=3&ascending=true&paginationCursor=0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:09.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x762c6cbbb0b9a97384535663a50d780ad63707d641aa8a3cfbcbbdd9657d2fb6"},{"messageHash":"0x30f4c1ae1d5d1450f00ba4c31a091d554d6cb0f910cdba2f6f6b3554acffbce3"},{"messageHash":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}],"paginationCursor":"0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2"}'
2025-02-11 04:08:09.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47372/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0xa48725733783f54b126b0eed28b21b51c8fde53af4de0f783c7ec2e755c6a6a2&pageSize=3&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:08:09.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2a2a704ecbb84e355d2297eeedef9885bc9e65af2d0f32c22293e602ef0f91e2"},{"messageHash":"0x61f6fc0343661bbedb5ca206e4632ccbcaa0e95d927633dfee552893cf1dcea4"}]}'
2025-02-11 04:08:09.532 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:08:09.533 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:08:09.533 DEBUG [src.node.waku_node] Stopping container with id ccf92130cd9d
2025-02-11 04:08:10.318 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:08:10.319 DEBUG [src.node.waku_node] Stopping container with id 96f3703cdad4
2025-02-11 04:08:11.130 ERROR [src.node.docker_mananger] Max retries reached for container ccf92130cd9d. Exiting log stream.
2025-02-11 04:08:11.469 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:08:11.471 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:08:11.477 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:08:11.483 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
