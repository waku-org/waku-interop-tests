2025-02-11 04:05:51.606 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:05:51.607 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2025-02-11_04-05-51__a3f6d7d4-5c05-46e9-adff-7dd305397585
2025-02-11 04:05:51.607 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:05:51.607 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:05:51.607 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:05:51.614 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:51.614 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-05-51__a3f6d7d4-5c05-46e9-adff-7dd305397585__wakuorg_nwaku:latest.log
2025-02-11 04:05:51.614 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:51.614 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:51.616 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:51.616 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.205.10
2025-02-11 04:05:51.616 DEBUG [src.node.docker_mananger] Generated ports ['28572', '28573', '28574', '28575', '28576']
2025-02-11 04:05:51.616 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:51.616 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:51.616 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:51.617 DEBUG [src.node.docker_mananger] docker run -i -t -p 28572:28572 -p 28573:28573 -p 28574:28574 -p 28575:28575 -p 28576:28576 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28574 --rest-port=28572 --tcp-port=28573 --discv5-udp-port=28575 --rest-address=0.0.0.0 --nat=extip:172.18.205.10 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=65c3a0c522b2cdb7111efe29ac5e4cc2bfc90ccb7fa8745dccc38d26cb2387bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28576 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-11 04:05:51.837 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.205.10 waku d9f4eb59d9631ae5f9ad6a6c8b81270d66d18716eb1279deb9fc216c8389035a
2025-02-11 04:05:51.887 DEBUG [src.node.docker_mananger] Container started with ID d9f4eb59d963. Setting up logs at ./log/docker/node1_2025-02-11_04-05-51__a3f6d7d4-5c05-46e9-adff-7dd305397585__wakuorg_nwaku:latest.log
2025-02-11 04:05:51.889 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28572
2025-02-11 04:05:51.889 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:52.410 ERROR [src.node.docker_mananger] Max retries reached for container 7f0bdfde96fa. Exiting log stream.
2025-02-11 04:05:52.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:52.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:52.893 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:52.893 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:52.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.205.10/tcp/28573/p2p/16Uiu2HAkxaone2kkLXJoMGa4jhXwmWrCDNLn5keUHWGYkeBnAT6V","/ip4/172.18.205.10/tcp/28574/ws/p2p/16Uiu2HAkxaone2kkLXJoMGa4jhXwmWrCDNLn5keUHWGYkeBnAT6V"],"enrUri":"enr:-L24QA3KECAByu8MNcaB3PbTD15mUpoWXL2Y2Dne_nw73JDzB9Crb7WmoAZ5gBbcqK2CpZVZJNY86tWR8I3ygkrzDZ4CgmlkgnY0gmlwhKwSzQqKbXVsdGlhZGRyc5YACASsEs0KBm-dAAoErBLNCgZvnt0DgnJzhQACAQAAiXNlY3AyNTZrMaECLuodwdJWa4Tex5XuTxLHmsSokrJFNlIFdYC1D5DQGh6DdGNwgm-dg3VkcIJvn4V3YWt1MgU"}'
2025-02-11 04:05:52.895 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:52.901 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:52.902 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-05-51__a3f6d7d4-5c05-46e9-adff-7dd305397585__wakuorg_nwaku:latest.log
2025-02-11 04:05:52.902 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:52.902 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:52.903 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:52.903 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.9.183
2025-02-11 04:05:52.903 DEBUG [src.node.docker_mananger] Generated ports ['21226', '21227', '21228', '21229', '21230']
2025-02-11 04:05:52.904 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:52.904 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:52.904 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:52.904 DEBUG [src.node.docker_mananger] docker run -i -t -p 21226:21226 -p 21227:21227 -p 21228:21228 -p 21229:21229 -p 21230:21230 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21228 --rest-port=21226 --tcp-port=21227 --discv5-udp-port=21229 --rest-address=0.0.0.0 --nat=extip:172.18.9.183 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0bd442b15303b0def0d630a01c6c524891a8aeecaf76bd0ed1f2efbc9dd2ba0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21230 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA3KECAByu8MNcaB3PbTD15mUpoWXL2Y2Dne_nw73JDzB9Crb7WmoAZ5gBbcqK2CpZVZJNY86tWR8I3ygkrzDZ4CgmlkgnY0gmlwhKwSzQqKbXVsdGlhZGRyc5YACASsEs0KBm-dAAoErBLNCgZvnt0DgnJzhQACAQAAiXNlY3AyNTZrMaECLuodwdJWa4Tex5XuTxLHmsSokrJFNlIFdYC1D5DQGh6DdGNwgm-dg3VkcIJvn4V3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-11 04:05:53.142 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.9.183 waku 48d759b82ff7a903e4aaf75a2ad780788d34f1d3d2116fff5880a83014874436
2025-02-11 04:05:53.193 DEBUG [src.node.docker_mananger] Container started with ID 48d759b82ff7. Setting up logs at ./log/docker/node2_2025-02-11_04-05-51__a3f6d7d4-5c05-46e9-adff-7dd305397585__wakuorg_nwaku:latest.log
2025-02-11 04:05:53.193 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21226
2025-02-11 04:05:53.193 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:54.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:54.201 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:54.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.183/tcp/21227/p2p/16Uiu2HAmKb7iRsoh7WZgRBAtPvKHLfj7rXkN4GPNhVHEk5E8dxu2","/ip4/172.18.9.183/tcp/21228/ws/p2p/16Uiu2HAmKb7iRsoh7WZgRBAtPvKHLfj7rXkN4GPNhVHEk5E8dxu2"],"enrUri":"enr:-L24QHIt-E8BJJ1CregUx6RNGf4O3BNPlYWBWSOacZmq2qRrbVi_aOQApfqFfhrMoB0Z6B4NLfGCKGyJZCg73LwOKK8CgmlkgnY0gmlwhKwSCbeKbXVsdGlhZGRyc5YACASsEgm3BlLrAAoErBIJtwZS7N0DgnJzhQACAQAAiXNlY3AyNTZrMaEDZwPP8mE5yXJYiaH1tqeu6NRS23hAFJRb2u8Za6zgCjWDdGNwglLrg3VkcIJS7YV3YWt1MgE"}'
2025-02-11 04:05:54.210 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:54.211 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21226/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.205.10/tcp/28573/p2p/16Uiu2HAkxaone2kkLXJoMGa4jhXwmWrCDNLn5keUHWGYkeBnAT6V"]'
2025-02-11 04:05:54.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:05:54.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.226 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21226/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:05:54.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.248 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.256 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:54.356 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246754248448256,"ephemeral":false}]'
2025-02-11 04:05:54.361 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246754248448256,"ephemeral":false}]'
2025-02-11 04:05:54.365 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.371 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:54.471 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246754365459968,"ephemeral":false}]'
2025-02-11 04:05:54.475 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246754365459968,"ephemeral":false}]'
2025-02-11 04:05:54.481 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.486 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:54.586 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246754481062912,"ephemeral":false}]'
2025-02-11 04:05:54.591 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246754481062912,"ephemeral":false}]'
2025-02-11 04:05:54.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.601 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:54.701 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.701 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246754595360000,"ephemeral":false}]'
2025-02-11 04:05:54.705 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.705 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246754595360000,"ephemeral":false}]'
2025-02-11 04:05:54.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.715 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:54.815 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246754709317120,"ephemeral":false}]'
2025-02-11 04:05:54.820 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246754709317120,"ephemeral":false}]'
2025-02-11 04:05:54.824 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.830 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:54.930 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246754824451072,"ephemeral":false}]'
2025-02-11 04:05:54.935 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:54.936 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:54.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246754824451072,"ephemeral":false}]'
2025-02-11 04:05:54.939 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:54.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:54.945 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.045 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246754939843584,"ephemeral":false}]'
2025-02-11 04:05:55.050 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246754939843584,"ephemeral":false}]'
2025-02-11 04:05:55.054 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.060 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.160 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246755054786560,"ephemeral":false}]'
2025-02-11 04:05:55.165 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.165 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21226/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246755054786560,"ephemeral":false}]'
2025-02-11 04:05:55.169 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:28572/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:05:55.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.187 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21226/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:05:55.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.203 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.206 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.306 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.307 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.309 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-11 04:05:55.311 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.314 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.414 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.415 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.417 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-11 04:05:55.419 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.422 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.522 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.522 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.525 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-11 04:05:55.527 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.530 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.630 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.630 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.633 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-11 04:05:55.635 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.638 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.738 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.741 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-11 04:05:55.743 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.746 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.846 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.849 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-11 04:05:55.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.854 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:55.954 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:55.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:55.957 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-11 04:05:55.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28572/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:55.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:55.962 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:05:56.062 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:05:56.062 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:56.065 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:28572/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-11 04:05:56.067 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:05:56.068 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:05:56.069 DEBUG [src.node.waku_node] Stopping container with id d9f4eb59d963
2025-02-11 04:05:57.367 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:57.367 DEBUG [src.node.waku_node] Stopping container with id 48d759b82ff7
2025-02-11 04:05:58.215 ERROR [src.node.docker_mananger] Max retries reached for container d9f4eb59d963. Exiting log stream.
2025-02-11 04:05:58.850 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:58.851 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:05:58.873 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:05:58.884 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
