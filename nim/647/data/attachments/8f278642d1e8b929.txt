2025-02-11 04:05:42.603 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:05:42.603 DEBUG [tests.conftest] Running test: test_negative_number_page_size with id: 2025-02-11_04-05-42__2f0fcefd-19aa-476c-b8b5-decf4b917579
2025-02-11 04:05:42.604 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:05:42.604 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 04:05:42.604 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 04:05:42.610 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:42.611 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_04-05-42__2f0fcefd-19aa-476c-b8b5-decf4b917579__wakuorg_nwaku:latest.log
2025-02-11 04:05:42.611 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:42.611 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:42.612 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:42.612 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.74.44
2025-02-11 04:05:42.612 DEBUG [src.node.docker_mananger] Generated ports ['43461', '43462', '43463', '43464', '43465']
2025-02-11 04:05:42.613 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:42.613 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:42.613 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:42.613 DEBUG [src.node.docker_mananger] docker run -i -t -p 43461:43461 -p 43462:43462 -p 43463:43463 -p 43464:43464 -p 43465:43465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43463 --rest-port=43461 --tcp-port=43462 --discv5-udp-port=43464 --rest-address=0.0.0.0 --nat=extip:172.18.74.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be2cbb172dd6ce3babcaadcf57bef2bef67354c9ee41e38ea7cce5e0edb1f1af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43465 --metrics-logging=true --store=true --relay=true
2025-02-11 04:05:42.846 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.74.44 waku 723ef17593f8b88ac822be27beb77087d5ffc58bb8a994967a1e8494c1f97616
2025-02-11 04:05:42.906 DEBUG [src.node.docker_mananger] Container started with ID 723ef17593f8. Setting up logs at ./log/docker/publishing_node1_2025-02-11_04-05-42__2f0fcefd-19aa-476c-b8b5-decf4b917579__wakuorg_nwaku:latest.log
2025-02-11 04:05:42.909 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43461
2025-02-11 04:05:42.909 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:43.403 ERROR [src.node.docker_mananger] Max retries reached for container 176a832d7615. Exiting log stream.
2025-02-11 04:05:43.910 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43461/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:43.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:43.913 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:43.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:43.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.44/tcp/43462/p2p/16Uiu2HAm3h9CXu6inp6CErcYqgh7XmczCNh8k2uX24qYPTYZNjfC","/ip4/172.18.74.44/tcp/43463/ws/p2p/16Uiu2HAm3h9CXu6inp6CErcYqgh7XmczCNh8k2uX24qYPTYZNjfC"],"enrUri":"enr:-L24QAcwTTuEDi83MHOKWAH87QNXIXZG74EveB-jLhAAqJnBEREWNIGlUPTjPrGQCdLPdTMZpWAEEZsPgAh-vqrhAj4CgmlkgnY0gmlwhKwSSiyKbXVsdGlhZGRyc5YACASsEkosBqnGAAoErBJKLAapx90DgnJzhQADAQAAiXNlY3AyNTZrMaECetP8Iwr2VMxp_h6JzquLf4F_GIqO5IGO9xp9vV_L8reDdGNwgqnGg3VkcIKpyIV3YWt1MgM"}'
2025-02-11 04:05:43.915 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:43.922 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:05:43.922 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_04-05-42__2f0fcefd-19aa-476c-b8b5-decf4b917579__wakuorg_nwaku:latest.log
2025-02-11 04:05:43.923 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:05:43.923 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:05:43.924 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:05:43.924 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.129.137
2025-02-11 04:05:43.924 DEBUG [src.node.docker_mananger] Generated ports ['49697', '49698', '49699', '49700', '49701']
2025-02-11 04:05:43.925 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:05:43.925 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:05:43.925 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:05:43.925 DEBUG [src.node.docker_mananger] docker run -i -t -p 49697:49697 -p 49698:49698 -p 49699:49699 -p 49700:49700 -p 49701:49701 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49699 --rest-port=49697 --tcp-port=49698 --discv5-udp-port=49700 --rest-address=0.0.0.0 --nat=extip:172.18.129.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2b9e944bb8e0dbe2cfee7b5cdacff4edde473ef3eafcfbf3ddf89656a8ebd99a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49701 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QAcwTTuEDi83MHOKWAH87QNXIXZG74EveB-jLhAAqJnBEREWNIGlUPTjPrGQCdLPdTMZpWAEEZsPgAh-vqrhAj4CgmlkgnY0gmlwhKwSSiyKbXVsdGlhZGRyc5YACASsEkosBqnGAAoErBJKLAapx90DgnJzhQADAQAAiXNlY3AyNTZrMaECetP8Iwr2VMxp_h6JzquLf4F_GIqO5IGO9xp9vV_L8reDdGNwgqnGg3VkcIKpyIV3YWt1MgM --storenode=/ip4/172.18.74.44/tcp/43462/p2p/16Uiu2HAm3h9CXu6inp6CErcYqgh7XmczCNh8k2uX24qYPTYZNjfC --store=true --relay=true
2025-02-11 04:05:44.162 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.129.137 waku 45ad64412f52796664798a42cd9682fb49451f6ebc31a0785956891edb09ca5b
2025-02-11 04:05:44.208 DEBUG [src.node.docker_mananger] Container started with ID 45ad64412f52. Setting up logs at ./log/docker/store_node1_2025-02-11_04-05-42__2f0fcefd-19aa-476c-b8b5-decf4b917579__wakuorg_nwaku:latest.log
2025-02-11 04:05:44.209 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49697
2025-02-11 04:05:44.209 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:05:45.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49697/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:45.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:05:45.213 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:05:45.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49697/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:45.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.137/tcp/49698/p2p/16Uiu2HAkv1wYQaU3hrGbqFyQHf2Lwg6nymdpYRN7ixK4yVYqyKMw","/ip4/172.18.129.137/tcp/49699/ws/p2p/16Uiu2HAkv1wYQaU3hrGbqFyQHf2Lwg6nymdpYRN7ixK4yVYqyKMw"],"enrUri":"enr:-L24QHVXP_Vde0HLPK0994Q8QOHoIDxvqjtQk8qsGMjcMXRVE6VQNouPdxmAKS53ZFa2gyOE_JCZ3_kk_Y_S1mex7L8CgmlkgnY0gmlwhKwSgYmKbXVsdGlhZGRyc5YACASsEoGJBsIiAAoErBKBiQbCI90DgnJzhQADAQAAiXNlY3AyNTZrMaECCMdYB4orUjyk4Y4ow5-a0st0Be9jH7n3Qtk_mTnuMWaDdGNwgsIig3VkcILCJIV3YWt1MgM"}'
2025-02-11 04:05:45.215 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:05:45.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49697/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.44/tcp/43462/p2p/16Uiu2HAm3h9CXu6inp6CErcYqgh7XmczCNh8k2uX24qYPTYZNjfC"]'
2025-02-11 04:05:45.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:05:45.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.221 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49697/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 04:05:45.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.224 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:45.225 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:45.230 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.231 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:45.432 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:45.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:45.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.440 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:45.641 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:45.641 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:45.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.648 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:45.849 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:45.849 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:45.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:45.857 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:46.058 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:46.058 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:46.064 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:46.065 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:46.266 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:46.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:46.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:46.274 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:46.474 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:46.475 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:46.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:46.482 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:46.683 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:46.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:46.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:46.690 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:46.890 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:46.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:46.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:46.897 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:47.097 DEBUG [src.steps.store] Relaying message
2025-02-11 04:05:47.098 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:05:47.104 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:05:47.104 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 04:05:47.304 DEBUG [tests.store.test_page_size] requesting stored message with wrong page_size = -1
2025-02-11 04:05:47.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43461/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=-1&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:47.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf52223f7ddce054f088599e007a7f60d1cdc9cb86ed5abd6f5079ea61451ca94"},{"messageHash":"0xd0f33f9f2f831d6ccaad0a2358fc788dd7ca1de85ca672403095246407305c75"},{"messageHash":"0x710bc5640e88099f58c933fff66800e5a41c8f90280c6d2838fd1b662eec909a"},{"messageHash":"0x566ad0e075b1273d2820244d343a7eb5ce28f2807e2ae295d855eade56813f05"},{"messageHash":"0x75eaea0eb6517338400c90b469c6759c5ae2c1ff39776459b7f9f12bd23d4485"},{"messageHash":"0x2d5cc0a12d399bc58ee761173ba91705acd32137f68b0736735fb3ae798e7336"},{"messageHash":"0xe54407d06ad095ffb46028077469bc253475bbb8a8b6dba6de3f434d9b319d5e"},{"messageHash":"0x883fd1a4852be9ee48c15cc8a65ee5ee0502e3b33f288df46c08031461961334"},{"messageHash":"0xcd796981991c9c2683fce0650bdfe809441b50a3300d9178406f30f8eae81d59"},{"messageHash":"0xb0bf86594503bc58234939ee7dea445b39278b26ea89de1d2210da99497c78e9"}]}'
2025-02-11 04:05:47.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49697/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=-1&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:05:47.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf52223f7ddce054f088599e007a7f60d1cdc9cb86ed5abd6f5079ea61451ca94"},{"messageHash":"0xd0f33f9f2f831d6ccaad0a2358fc788dd7ca1de85ca672403095246407305c75"},{"messageHash":"0x710bc5640e88099f58c933fff66800e5a41c8f90280c6d2838fd1b662eec909a"},{"messageHash":"0x566ad0e075b1273d2820244d343a7eb5ce28f2807e2ae295d855eade56813f05"},{"messageHash":"0x75eaea0eb6517338400c90b469c6759c5ae2c1ff39776459b7f9f12bd23d4485"},{"messageHash":"0x2d5cc0a12d399bc58ee761173ba91705acd32137f68b0736735fb3ae798e7336"},{"messageHash":"0xe54407d06ad095ffb46028077469bc253475bbb8a8b6dba6de3f434d9b319d5e"},{"messageHash":"0x883fd1a4852be9ee48c15cc8a65ee5ee0502e3b33f288df46c08031461961334"},{"messageHash":"0xcd796981991c9c2683fce0650bdfe809441b50a3300d9178406f30f8eae81d59"},{"messageHash":"0xb0bf86594503bc58234939ee7dea445b39278b26ea89de1d2210da99497c78e9"}]}'
2025-02-11 04:05:47.313 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:05:47.314 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:05:47.314 DEBUG [src.node.waku_node] Stopping container with id 723ef17593f8
2025-02-11 04:05:48.450 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:48.450 DEBUG [src.node.waku_node] Stopping container with id 45ad64412f52
2025-02-11 04:05:49.263 ERROR [src.node.docker_mananger] Max retries reached for container 723ef17593f8. Exiting log stream.
2025-02-11 04:05:49.987 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:05:49.988 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:05:49.994 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:05:50.001 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
