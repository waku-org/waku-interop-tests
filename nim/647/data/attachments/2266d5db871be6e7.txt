2025-02-11 04:04:52.625 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 04:04:52.625 DEBUG [tests.conftest] Running test: test_multiple_content_topics_different_shard with id: 2025-02-11_04-04-52__1b59aa90-83aa-41b4-98a9-de49b14aa71d
2025-02-11 04:04:52.625 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 04:04:52.626 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 04:04:52.626 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 04:04:52.633 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:52.633 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_04-04-52__1b59aa90-83aa-41b4-98a9-de49b14aa71d__wakuorg_nwaku:latest.log
2025-02-11 04:04:52.633 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:52.633 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:52.634 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:52.634 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.220
2025-02-11 04:04:52.635 DEBUG [src.node.docker_mananger] Generated ports ['40220', '40221', '40222', '40223', '40224']
2025-02-11 04:04:52.635 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:52.635 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:52.635 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:52.635 DEBUG [src.node.docker_mananger] docker run -i -t -p 40220:40220 -p 40221:40221 -p 40222:40222 -p 40223:40223 -p 40224:40224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40222 --rest-port=40220 --tcp-port=40221 --discv5-udp-port=40223 --rest-address=0.0.0.0 --nat=extip:172.18.94.220 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=2afea10e2fe7afe45f9bd3ce653ffc7dff66b51124eab14f20fd388211ea2de2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40224 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding
2025-02-11 04:04:52.863 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.220 waku d0321fe6fd2a852590837189e2634dff924097fba36ae794c1bc1bd092de257c
2025-02-11 04:04:52.919 DEBUG [src.node.docker_mananger] Container started with ID d0321fe6fd2a. Setting up logs at ./log/docker/node1_2025-02-11_04-04-52__1b59aa90-83aa-41b4-98a9-de49b14aa71d__wakuorg_nwaku:latest.log
2025-02-11 04:04:52.920 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40220
2025-02-11 04:04:52.920 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:53.427 ERROR [src.node.docker_mananger] Max retries reached for container a7b13c8be27f. Exiting log stream.
2025-02-11 04:04:53.920 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:53.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:53.923 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:53.924 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:53.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.220/tcp/40221/p2p/16Uiu2HAmAKiLcgGaGwi3bBuyHPX77KRF2PQtgiFZJLamwqakkZAj","/ip4/172.18.94.220/tcp/40222/ws/p2p/16Uiu2HAmAKiLcgGaGwi3bBuyHPX77KRF2PQtgiFZJLamwqakkZAj"],"enrUri":"enr:-L24QGJfoVK1XWpe2IxGVknpIzch79I2czVV7DjpsqJkyja0V14CWtQ7MSeVOedIAEx0Y6xFJZnWrh-guWveRngwVZYCgmlkgnY0gmlwhKwSXtyKbXVsdGlhZGRyc5YACASsEl7cBp0dAAoErBJe3AadHt0DgnJzhQACAQAAiXNlY3AyNTZrMaEC3Vh8g1Lmbvpe8aL0ZQ-5j0DyvTXXqx_zflex0brlg7yDdGNwgp0dg3VkcIKdH4V3YWt1MgU"}'
2025-02-11 04:04:53.926 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:53.932 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 04:04:53.932 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_04-04-52__1b59aa90-83aa-41b4-98a9-de49b14aa71d__wakuorg_nwaku:latest.log
2025-02-11 04:04:53.932 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 04:04:53.932 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 04:04:53.934 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 04:04:53.934 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.142.168
2025-02-11 04:04:53.934 DEBUG [src.node.docker_mananger] Generated ports ['53667', '53668', '53669', '53670', '53671']
2025-02-11 04:04:53.934 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 04:04:53.934 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 04:04:53.934 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 04:04:53.934 DEBUG [src.node.docker_mananger] docker run -i -t -p 53667:53667 -p 53668:53668 -p 53669:53669 -p 53670:53670 -p 53671:53671 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53669 --rest-port=53667 --tcp-port=53668 --discv5-udp-port=53670 --rest-address=0.0.0.0 --nat=extip:172.18.142.168 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a23b45edaeb5bc5bc7c51fe9021c426d0df51fa7dbf1b181547a3177e4347eeb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53671 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGJfoVK1XWpe2IxGVknpIzch79I2czVV7DjpsqJkyja0V14CWtQ7MSeVOedIAEx0Y6xFJZnWrh-guWveRngwVZYCgmlkgnY0gmlwhKwSXtyKbXVsdGlhZGRyc5YACASsEl7cBp0dAAoErBJe3AadHt0DgnJzhQACAQAAiXNlY3AyNTZrMaEC3Vh8g1Lmbvpe8aL0ZQ-5j0DyvTXXqx_zflex0brlg7yDdGNwgp0dg3VkcIKdH4V3YWt1MgU --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding
2025-02-11 04:04:54.178 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.142.168 waku 123a56e6062f9ab868df196fab489a40d890b4ae8e613d71c673f4fecfcaf33f
2025-02-11 04:04:54.226 DEBUG [src.node.docker_mananger] Container started with ID 123a56e6062f. Setting up logs at ./log/docker/node2_2025-02-11_04-04-52__1b59aa90-83aa-41b4-98a9-de49b14aa71d__wakuorg_nwaku:latest.log
2025-02-11 04:04:54.226 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53667
2025-02-11 04:04:54.227 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 04:04:55.229 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 04:04:55.245 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 04:04:55.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.265 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.168/tcp/53668/p2p/16Uiu2HAmDyNf8vnxCAJNteH44Tr4cdDHUCnc7yvf8RpqM1LcAy6X","/ip4/172.18.142.168/tcp/53669/ws/p2p/16Uiu2HAmDyNf8vnxCAJNteH44Tr4cdDHUCnc7yvf8RpqM1LcAy6X"],"enrUri":"enr:-L24QImmjeFwzQvUA7mdMt6_7PcS4MB_L3VLdTWcDEKJ0XN6cwM6bezik5HCl0Sv10RZ4VbMtoxPT8irvHZcTiHKuJsCgmlkgnY0gmlwhKwSjqiKbXVsdGlhZGRyc5YACASsEo6oBtGkAAoErBKOqAbRpd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDE5FdaoGJ2YFax7dDzpn6OQE7gqsDWOZWHcOB735KMJiDdGNwgtGkg3VkcILRpoV3YWt1MgE"}'
2025-02-11 04:04:55.265 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 04:04:55.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53667/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.220/tcp/40221/p2p/16Uiu2HAmAKiLcgGaGwi3bBuyHPX77KRF2PQtgiFZJLamwqakkZAj"]'
2025-02-11 04:04:55.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.272 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:04:55.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.277 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53667/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-11 04:04:55.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.280 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.285 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:55.386 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246695280391168,"ephemeral":false}]'
2025-02-11 04:04:55.390 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739246695280391168,"ephemeral":false}]'
2025-02-11 04:04:55.394 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.400 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:55.500 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246695394738432,"ephemeral":false}]'
2025-02-11 04:04:55.504 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739246695394738432,"ephemeral":false}]'
2025-02-11 04:04:55.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.513 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:55.614 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246695508400384,"ephemeral":false}]'
2025-02-11 04:04:55.618 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739246695508400384,"ephemeral":false}]'
2025-02-11 04:04:55.623 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.628 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:55.729 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246695623025152,"ephemeral":false}]'
2025-02-11 04:04:55.734 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739246695623025152,"ephemeral":false}]'
2025-02-11 04:04:55.738 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.743 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:55.843 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246695738277376,"ephemeral":false}]'
2025-02-11 04:04:55.848 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739246695738277376,"ephemeral":false}]'
2025-02-11 04:04:55.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.857 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:55.957 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246695851858432,"ephemeral":false}]'
2025-02-11 04:04:55.962 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:55.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:55.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739246695851858432,"ephemeral":false}]'
2025-02-11 04:04:55.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:55.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:55.971 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:56.072 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:56.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:56.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246695966488064,"ephemeral":false}]'
2025-02-11 04:04:56.077 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:56.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:56.080 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739246695966488064,"ephemeral":false}]'
2025-02-11 04:04:56.081 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40220/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 04:04:56.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 04:04:56.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 04:04:56.187 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:56.187 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40220/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:56.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246696081665024,"ephemeral":false}]'
2025-02-11 04:04:56.191 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-11 04:04:56.192 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53667/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-11 04:04:56.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739246696081665024,"ephemeral":false}]'
2025-02-11 04:04:56.198 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 04:04:56.200 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 04:04:56.200 DEBUG [src.node.waku_node] Stopping container with id d0321fe6fd2a
2025-02-11 04:04:57.400 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:57.401 DEBUG [src.node.waku_node] Stopping container with id 123a56e6062f
2025-02-11 04:04:58.240 ERROR [src.node.docker_mananger] Max retries reached for container d0321fe6fd2a. Exiting log stream.
2025-02-11 04:04:58.901 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 04:04:58.902 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 04:04:58.919 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 04:04:58.928 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
