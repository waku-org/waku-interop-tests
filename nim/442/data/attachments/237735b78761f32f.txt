[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47513', '47514', '47515', '47516', '47517']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47513:47513 -p 47514:47514 -p 47515:47515 -p 47516:47516 -p 47517:47517 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47515 --rest-port=47513 --tcp-port=47514 --discv5-udp-port=47516 --rest-address=0.0.0.0 --nat=extip:172.18.216.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abc519abfd08137baf0c0dd5aa11fecd2fd8fe53e0292e1c8c7bd3ceebadaf2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47517 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.185 waku bfad557c580e3ede7cbf53117bf4d908b8b857ec6e6752bb47a487100802ed58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bfad557c580e. Setting up logs at ./log/docker/node1_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47513
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3c7507aec9cf. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47513/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47513/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.185/tcp/47514/p2p/16Uiu2HAmG1A1Pe5xWKnP7xJutE6tahQpjhVQDuCWK2dot3vkWoUK","/ip4/172.18.216.185/tcp/47515/ws/p2p/16Uiu2HAmG1A1Pe5xWKnP7xJutE6tahQpjhVQDuCWK2dot3vkWoUK"],"enrUri":"enr:-L24QKg-Bmh_bfjx7pazFjkWHOHyvrpy8M2rc12-KZgRUleLQK7MWUoj_3Vv1xjjS0xotzzrkNoe29aPV-DFeEmlGgsCgmlkgnY0gmlwhKwS2LmKbXVsdGlhZGRyc5YACASsEti5BrmaAAoErBLYuQa5m90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMb2YmEAOlvdV3CwAs05yK2-3ZhHeyn3MnHHsi-s5YwCDdGNwgrmag3VkcIK5nIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.180.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2674', '2675', '2676', '2677', '2678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2674:2674 -p 2675:2675 -p 2676:2676 -p 2677:2677 -p 2678:2678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2676 --rest-port=2674 --tcp-port=2675 --discv5-udp-port=2677 --rest-address=0.0.0.0 --nat=extip:172.18.180.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7163f5280def6528c25a46be853cffb9dd66d4b7a7ac0aa7bbe597fbe43aebd1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2678 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKg-Bmh_bfjx7pazFjkWHOHyvrpy8M2rc12-KZgRUleLQK7MWUoj_3Vv1xjjS0xotzzrkNoe29aPV-DFeEmlGgsCgmlkgnY0gmlwhKwS2LmKbXVsdGlhZGRyc5YACASsEti5BrmaAAoErBLYuQa5m90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMb2YmEAOlvdV3CwAs05yK2-3ZhHeyn3MnHHsi-s5YwCDdGNwgrmag3VkcIK5nIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.180.138 waku 4a56b8b83d5851df29cc04957b51c8a471d692598de889295d6b92b79b79786d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4a56b8b83d58. Setting up logs at ./log/docker/node2_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2674
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2674/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.138/tcp/2675/p2p/16Uiu2HAmBNowMDNYc68Hosw1sEXooVtRJ22xEqSFtKfWnWtVhF89","/ip4/172.18.180.138/tcp/2676/ws/p2p/16Uiu2HAmBNowMDNYc68Hosw1sEXooVtRJ22xEqSFtKfWnWtVhF89"],"enrUri":"enr:-L24QEcNbdkIEsStr-1dGhMBcXrdpvIULHPfh-yOObx35fxDMZCd8sQeMfz6uRbO76LXORVWeLQNKYTqUdnsnTOO6FACgmlkgnY0gmlwhKwStIqKbXVsdGlhZGRyc5YACASsErSKBgpzAAoErBK0igYKdN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7P8_ElylPftTkz_v5pYgVUbZvJpe3FfFLHXcS0HskzaDdGNwggpzg3VkcIIKdYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.185/tcp/47514/p2p/16Uiu2HAmG1A1Pe5xWKnP7xJutE6tahQpjhVQDuCWK2dot3vkWoUK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.98.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58945', '58946', '58947', '58948', '58949']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58945:58945 -p 58946:58946 -p 58947:58947 -p 58948:58948 -p 58949:58949 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58947 --rest-port=58945 --tcp-port=58946 --discv5-udp-port=58948 --rest-address=0.0.0.0 --nat=extip:172.18.98.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf7e36ab930cc4ab7d6e6cdea89f2fcb2db27ba8cbb0604b1ca1cbd3bdd2e810 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58949 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKg-Bmh_bfjx7pazFjkWHOHyvrpy8M2rc12-KZgRUleLQK7MWUoj_3Vv1xjjS0xotzzrkNoe29aPV-DFeEmlGgsCgmlkgnY0gmlwhKwS2LmKbXVsdGlhZGRyc5YACASsEti5BrmaAAoErBLYuQa5m90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMb2YmEAOlvdV3CwAs05yK2-3ZhHeyn3MnHHsi-s5YwCDdGNwgrmag3VkcIK5nIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.98.186 waku a0b301c1c751f15a031101f4f1410c69b0bd79a211be336a5888c398ffeab425
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a0b301c1c751. Setting up logs at ./log/docker/node3_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58945
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58945/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58945/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.186/tcp/58946/p2p/16Uiu2HAm3Tfpo6DbBrgZsSWGymczr769mhACvXT9uvJ82kGSYq8V","/ip4/172.18.98.186/tcp/58947/ws/p2p/16Uiu2HAm3Tfpo6DbBrgZsSWGymczr769mhACvXT9uvJ82kGSYq8V"],"enrUri":"enr:-L24QJEVzoHozvYxeO524mO7XNEygBnvviPdESZWVfXaNAUoBACrLrF1agwsgEiuNk94zzkaEeJJaomWyQAv4gUZ9vQCgmlkgnY0gmlwhKwSYrqKbXVsdGlhZGRyc5YACASsEmK6BuZCAAoErBJiugbmQ90DgnJzhQADAQAAiXNlY3AyNTZrMaECd2B7Sv4iskZ-ROL6AE1YuVIIixmJuIGoQT4X7Up0OnqDdGNwguZCg3VkcILmRIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58945/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.185/tcp/47514/p2p/16Uiu2HAmG1A1Pe5xWKnP7xJutE6tahQpjhVQDuCWK2dot3vkWoUK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.180.78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55629', '55630', '55631', '55632', '55633']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55629:55629 -p 55630:55630 -p 55631:55631 -p 55632:55632 -p 55633:55633 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55631 --rest-port=55629 --tcp-port=55630 --discv5-udp-port=55632 --rest-address=0.0.0.0 --nat=extip:172.18.180.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=40da0bed8afb08f1cebbdddd9c9f4c7cd85e2eb9fab6e5dcb1cd9e5e0c2c0e02 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55633 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKg-Bmh_bfjx7pazFjkWHOHyvrpy8M2rc12-KZgRUleLQK7MWUoj_3Vv1xjjS0xotzzrkNoe29aPV-DFeEmlGgsCgmlkgnY0gmlwhKwS2LmKbXVsdGlhZGRyc5YACASsEti5BrmaAAoErBLYuQa5m90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMb2YmEAOlvdV3CwAs05yK2-3ZhHeyn3MnHHsi-s5YwCDdGNwgrmag3VkcIK5nIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.180.78 waku 3ef04b4f163ac07ec3c7944e591fa585bb30b5ad390e1d42fb4b7fcc4fe978fc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3ef04b4f163a. Setting up logs at ./log/docker/node4_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55629
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55629/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55629/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.78/tcp/55630/p2p/16Uiu2HAm5uXgA4RVXTvt8QBhsXJsUkxXk9LAVYbKAUcckCeZdQ4D","/ip4/172.18.180.78/tcp/55631/ws/p2p/16Uiu2HAm5uXgA4RVXTvt8QBhsXJsUkxXk9LAVYbKAUcckCeZdQ4D"],"enrUri":"enr:-L24QFB5Hsy1WtNzf90HK6O6XxWvE0AFwTle5_ojSwAQuFGuHm-NifTnCtb5czqI7zKrAEiE_qSKmZ4X2i57X0-MqWoCgmlkgnY0gmlwhKwStE6KbXVsdGlhZGRyc5YACASsErROBtlOAAoErBK0TgbZT90DgnJzhQADAQAAiXNlY3AyNTZrMaECm7e-ElBsU8DKNXW1q3D0__nWtw8cyEKJDrsXec5Ji_aDdGNwgtlOg3VkcILZUIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55629/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.185/tcp/47514/p2p/16Uiu2HAmG1A1Pe5xWKnP7xJutE6tahQpjhVQDuCWK2dot3vkWoUK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.182.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59882', '59883', '59884', '59885', '59886']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59882:59882 -p 59883:59883 -p 59884:59884 -p 59885:59885 -p 59886:59886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59884 --rest-port=59882 --tcp-port=59883 --discv5-udp-port=59885 --rest-address=0.0.0.0 --nat=extip:172.18.182.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0e8a4b1d2ef0a8eef8bee8c7fcd6ab67a9f12b50d9cae341d9dc1eefec2be9de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59886 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKg-Bmh_bfjx7pazFjkWHOHyvrpy8M2rc12-KZgRUleLQK7MWUoj_3Vv1xjjS0xotzzrkNoe29aPV-DFeEmlGgsCgmlkgnY0gmlwhKwS2LmKbXVsdGlhZGRyc5YACASsEti5BrmaAAoErBLYuQa5m90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMb2YmEAOlvdV3CwAs05yK2-3ZhHeyn3MnHHsi-s5YwCDdGNwgrmag3VkcIK5nIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.182.95 waku a21a809f89554a4c11ee87c1fadbc87049b6443bdb9c76b2fccd50c5a64271a0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a21a809f8955. Setting up logs at ./log/docker/node5_2024-11-09_04-14-53__57df52da-2d12-4552-bb3b-d4ac644655fa__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59882
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59882/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.95/tcp/59883/p2p/16Uiu2HAmAcPyBfS8Xwz15nay9jhdRsEXEnsaCvcFjUpqTRK7qQgR","/ip4/172.18.182.95/tcp/59884/ws/p2p/16Uiu2HAmAcPyBfS8Xwz15nay9jhdRsEXEnsaCvcFjUpqTRK7qQgR"],"enrUri":"enr:-L24QBuU7smjStEEBR4hNZUxACD3911nAo0QxXnPiSH-lTI7ZOq8g1w6sFSFcfx-_gJ0jDpQkr4v2UlGl1edqk29KnUCgmlkgnY0gmlwhKwStl-KbXVsdGlhZGRyc5YACASsErZfBunrAAoErBK2Xwbp7N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4Z6W9HcEAhaWTCHO3jeUSwlXtlysibVmj7P1y53Jy0qDdGNwgunrg3VkcILp7YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59882/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.185/tcp/47514/p2p/16Uiu2HAmG1A1Pe5xWKnP7xJutE6tahQpjhVQDuCWK2dot3vkWoUK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47513/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2674/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58945/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55629/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47513/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47513/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701854246656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701854246656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58945/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701854246656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701854246656,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701854246656,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47513/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47513/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701983288576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701983288576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58945/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701983288576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701983288576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125701983288576,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4a56b8b83d58
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47513/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58945/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125703848280576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125703848280576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125703848280576,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bfad557c580e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4a56b8b83d58. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a0b301c1c751
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bfad557c580e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3ef04b4f163a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a0b301c1c751. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a21a809f8955
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3ef04b4f163a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.