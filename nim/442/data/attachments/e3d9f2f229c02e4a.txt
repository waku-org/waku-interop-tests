[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.113.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62583', '62584', '62585', '62586', '62587']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62583:62583 -p 62584:62584 -p 62585:62585 -p 62586:62586 -p 62587:62587 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62585 --rest-port=62583 --tcp-port=62584 --discv5-udp-port=62586 --rest-address=0.0.0.0 --nat=extip:172.18.113.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb867dab4aaecafb5f640e9aadb82f94ea885ed070bf5c5ddebce3a3de9ae30c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62587 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.113.186 waku 52bf58483840b31270b268defac5ccdcd62242200898fdcba88a3ef27bfddc6e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 52bf58483840. Setting up logs at ./log/docker/node1_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62583
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9e221f73517a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62583/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62583/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.186/tcp/62584/p2p/16Uiu2HAmTC3CpPnEUWJWWs6k9GbVjdn4uZGwDe3mjkvCCY5Dudgk","/ip4/172.18.113.186/tcp/62585/ws/p2p/16Uiu2HAmTC3CpPnEUWJWWs6k9GbVjdn4uZGwDe3mjkvCCY5Dudgk"],"enrUri":"enr:-L24QIw6oJVI8x4VI2ZSUXNpu1ed2ozqyjFOhIb8AoPODcUgICCHTVS5apDjDILhtqH1NN3h4EPHwCN4ZJ5hWK9Z5_0CgmlkgnY0gmlwhKwScbqKbXVsdGlhZGRyc5YACASsEnG6BvR4AAoErBJxugb0ed0DgnJzhQADAQAAiXNlY3AyNTZrMaED1_fZWCkmQmuc5xHQKk8mljBcyboVz3eCc5hdc1-mI7GDdGNwgvR4g3VkcIL0eoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.54.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21628', '21629', '21630', '21631', '21632']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21628:21628 -p 21629:21629 -p 21630:21630 -p 21631:21631 -p 21632:21632 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21630 --rest-port=21628 --tcp-port=21629 --discv5-udp-port=21631 --rest-address=0.0.0.0 --nat=extip:172.18.54.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7e61c89ff275bd8fe00e071fbabd7ebc7f4d9a102e5ccb46d4adcafeec5eddc3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21632 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIw6oJVI8x4VI2ZSUXNpu1ed2ozqyjFOhIb8AoPODcUgICCHTVS5apDjDILhtqH1NN3h4EPHwCN4ZJ5hWK9Z5_0CgmlkgnY0gmlwhKwScbqKbXVsdGlhZGRyc5YACASsEnG6BvR4AAoErBJxugb0ed0DgnJzhQADAQAAiXNlY3AyNTZrMaED1_fZWCkmQmuc5xHQKk8mljBcyboVz3eCc5hdc1-mI7GDdGNwgvR4g3VkcIL0eoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.54.163 waku 5ee9256e93f19d61d735cf2fccd2537f529eef8e6ce8ed238803a11c4cfb06b2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5ee9256e93f1. Setting up logs at ./log/docker/node2_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21628
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21628/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21628/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.163/tcp/21629/p2p/16Uiu2HAkvCMNWiBw2gMGqiCJRejhenm49Urq9UJ4G8E9MY8j7f8s","/ip4/172.18.54.163/tcp/21630/ws/p2p/16Uiu2HAkvCMNWiBw2gMGqiCJRejhenm49Urq9UJ4G8E9MY8j7f8s"],"enrUri":"enr:-L24QCKKDPgInVLpEnz8lvjEpBI_JK3Al_mIkOtTqYmq6FGXHpwDkDBmwV32vx1wkYBW6ult3SXgM1jWXzXLqKqiOf0CgmlkgnY0gmlwhKwSNqOKbXVsdGlhZGRyc5YACASsEjajBlR9AAoErBI2owZUft0DgnJzhQADAQAAiXNlY3AyNTZrMaECC3IYkH-1ihK5sAv_gW-rr8m7MWzpCVslx8lK_bgCP9CDdGNwglR9g3VkcIJUf4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21628/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.186/tcp/62584/p2p/16Uiu2HAmTC3CpPnEUWJWWs6k9GbVjdn4uZGwDe3mjkvCCY5Dudgk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.225.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1507', '1508', '1509', '1510', '1511']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1507:1507 -p 1508:1508 -p 1509:1509 -p 1510:1510 -p 1511:1511 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1509 --rest-port=1507 --tcp-port=1508 --discv5-udp-port=1510 --rest-address=0.0.0.0 --nat=extip:172.18.225.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea475092b18c8f8c413fc1ec5dbe7b3aaed5d47baabfae61dd20e5bd7f47bdd5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1511 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIw6oJVI8x4VI2ZSUXNpu1ed2ozqyjFOhIb8AoPODcUgICCHTVS5apDjDILhtqH1NN3h4EPHwCN4ZJ5hWK9Z5_0CgmlkgnY0gmlwhKwScbqKbXVsdGlhZGRyc5YACASsEnG6BvR4AAoErBJxugb0ed0DgnJzhQADAQAAiXNlY3AyNTZrMaED1_fZWCkmQmuc5xHQKk8mljBcyboVz3eCc5hdc1-mI7GDdGNwgvR4g3VkcIL0eoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.225.93 waku b80ed78f8d291925382bd3ec97c3af2515edb9879ec77ee71733e4c74109d7ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b80ed78f8d29. Setting up logs at ./log/docker/node3_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1507
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1507/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1507/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.93/tcp/1508/p2p/16Uiu2HAmAs8jzgPwrJxCM8DkSqV2ady3zQBizM9eoBSvMK6SnUzP","/ip4/172.18.225.93/tcp/1509/ws/p2p/16Uiu2HAmAs8jzgPwrJxCM8DkSqV2ady3zQBizM9eoBSvMK6SnUzP"],"enrUri":"enr:-L24QNEffg1dtZ13OacKTkpQncw41y1TcJGO4t-ZMdL5b5tKKK4Hsca1l0LDO0O4XdGYezQ8K0AaZbe6UWmLgUgAHz0CgmlkgnY0gmlwhKwS4V2KbXVsdGlhZGRyc5YACASsEuFdBgXkAAoErBLhXQYF5d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC5WUViS7ZhQAG35ifko4LpFqXZOXzBe2JfLxstUc0BQSDdGNwggXkg3VkcIIF5oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1507/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.186/tcp/62584/p2p/16Uiu2HAmTC3CpPnEUWJWWs6k9GbVjdn4uZGwDe3mjkvCCY5Dudgk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.62.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9119', '9120', '9121', '9122', '9123']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9119:9119 -p 9120:9120 -p 9121:9121 -p 9122:9122 -p 9123:9123 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9121 --rest-port=9119 --tcp-port=9120 --discv5-udp-port=9122 --rest-address=0.0.0.0 --nat=extip:172.18.62.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d4e69fb9c4aa0cfd912841abaec88caa0b65eadefd4692dacfae82dcba9184f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9123 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIw6oJVI8x4VI2ZSUXNpu1ed2ozqyjFOhIb8AoPODcUgICCHTVS5apDjDILhtqH1NN3h4EPHwCN4ZJ5hWK9Z5_0CgmlkgnY0gmlwhKwScbqKbXVsdGlhZGRyc5YACASsEnG6BvR4AAoErBJxugb0ed0DgnJzhQADAQAAiXNlY3AyNTZrMaED1_fZWCkmQmuc5xHQKk8mljBcyboVz3eCc5hdc1-mI7GDdGNwgvR4g3VkcIL0eoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.62.19 waku 9e9b622d4e08b8235ff2a29d4e6c08c1c7c3eaa8568754e120d96842eb6e6a7a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9e9b622d4e08. Setting up logs at ./log/docker/node4_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9119
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9119/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9119/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.19/tcp/9120/p2p/16Uiu2HAmSa8iK88wLGNEE6oTcogL7EcmkeS32Ls3UU7ugjhMZXcu","/ip4/172.18.62.19/tcp/9121/ws/p2p/16Uiu2HAmSa8iK88wLGNEE6oTcogL7EcmkeS32Ls3UU7ugjhMZXcu"],"enrUri":"enr:-L24QBNDTQH6Bs5VzXFJlp41QbVrSoeNg8qL5s-4d8y9OGzZBt6zj--LnvGhEuBW46AWTg13KxDQS0ZG4kLHkIZuKycCgmlkgnY0gmlwhKwSPhOKbXVsdGlhZGRyc5YACASsEj4TBiOgAAoErBI-EwYjod0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzsUrHFqG0GUdUT2MgZYVsWhRLWMGfb_3IG5M0udCsZqDdGNwgiOgg3VkcIIjooV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9119/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.186/tcp/62584/p2p/16Uiu2HAmTC3CpPnEUWJWWs6k9GbVjdn4uZGwDe3mjkvCCY5Dudgk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.77.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49523', '49524', '49525', '49526', '49527']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49523:49523 -p 49524:49524 -p 49525:49525 -p 49526:49526 -p 49527:49527 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49525 --rest-port=49523 --tcp-port=49524 --discv5-udp-port=49526 --rest-address=0.0.0.0 --nat=extip:172.18.77.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd3affcf6bfbc0cb0658f85ac8bf1296a98abbd1c7b00fc6a381db59d7ca0ebf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49527 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIw6oJVI8x4VI2ZSUXNpu1ed2ozqyjFOhIb8AoPODcUgICCHTVS5apDjDILhtqH1NN3h4EPHwCN4ZJ5hWK9Z5_0CgmlkgnY0gmlwhKwScbqKbXVsdGlhZGRyc5YACASsEnG6BvR4AAoErBJxugb0ed0DgnJzhQADAQAAiXNlY3AyNTZrMaED1_fZWCkmQmuc5xHQKk8mljBcyboVz3eCc5hdc1-mI7GDdGNwgvR4g3VkcIL0eoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.77.182 waku 3c7507aec9cfb46603c73bb89685b04bdfecb54fe573f885bb5b648e5c88337b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3c7507aec9cf. Setting up logs at ./log/docker/node5_2024-11-09_04-14-31__9b70fb67-eff0-4456-8081-9632332c4248__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49523
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49523/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49523/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.182/tcp/49524/p2p/16Uiu2HAkwka9g1b8DPeg41if2B23NX5z3tfgd2fiaHgQPtw3cwAv","/ip4/172.18.77.182/tcp/49525/ws/p2p/16Uiu2HAkwka9g1b8DPeg41if2B23NX5z3tfgd2fiaHgQPtw3cwAv"],"enrUri":"enr:-L24QNlGPnQ9Y26ayifpAlQl3Ddrd811vzRG_O7N1sqs4aTibMEdT0uaoFp1dz7VqNJqOAsNcFYn98F07SmwgTdlTvMCgmlkgnY0gmlwhKwSTbaKbXVsdGlhZGRyc5YACASsEk22BsF0AAoErBJNtgbBdd0DgnJzhQADAQAAiXNlY3AyNTZrMaECIo7RTvGBqKxiyC44BlRtxlLo69gAbFlKunySuXkJ7--DdGNwgsF0g3VkcILBdoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49523/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.186/tcp/62584/p2p/16Uiu2HAmTC3CpPnEUWJWWs6k9GbVjdn4uZGwDe3mjkvCCY5Dudgk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21628/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1507/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9119/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49523/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680600395520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21628/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680600395520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1507/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680600395520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9119/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680600395520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49523/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680600395520,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49523/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680738430976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21628/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680738430976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1507/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680738430976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9119/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680738430976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49523/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125680738430976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 52bf58483840
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5ee9256e93f1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 52bf58483840. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b80ed78f8d29
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5ee9256e93f1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9e9b622d4e08
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b80ed78f8d29. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3c7507aec9cf
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9e9b622d4e08. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.