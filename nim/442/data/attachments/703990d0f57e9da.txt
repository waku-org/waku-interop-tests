[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4373', '4374', '4375', '4376', '4377']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4373:4373 -p 4374:4374 -p 4375:4375 -p 4376:4376 -p 4377:4377 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4375 --rest-port=4373 --tcp-port=4374 --discv5-udp-port=4376 --rest-address=0.0.0.0 --nat=extip:172.18.89.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd47d0cf45669a1dcbf7dae3e91031a0cac2bbdde4cccd5cd5a0df611debf21e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4377 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.89.142 waku 8b7632e4701d0141c1ffed3c124b4f49f888801791646dae2dbff97bf8b20f0b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8b7632e4701d. Setting up logs at ./log/docker/node1_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4373
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d6b6501cb086. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4373/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4373/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU","/ip4/172.18.89.142/tcp/4375/ws/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU"],"enrUri":"enr:-L24QKxr8sUTgukKRLoaRi98VhOyHmHyJCt_SOeAAlOcc0AQdDILBkCKe6s4tPzkLx6wF7myc6u5vfUF86YqOjENzGsCgmlkgnY0gmlwhKwSWY6KbXVsdGlhZGRyc5YACASsElmOBhEWAAoErBJZjgYRF90DgnJzhQADAQAAiXNlY3AyNTZrMaECaMFxhRuXeUooRu3PDNXE874vMJZorEswm7ewaV1srhODdGNwghEWg3VkcIIRGIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.85.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22715', '22716', '22717', '22718', '22719']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22715:22715 -p 22716:22716 -p 22717:22717 -p 22718:22718 -p 22719:22719 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22717 --rest-port=22715 --tcp-port=22716 --discv5-udp-port=22718 --rest-address=0.0.0.0 --nat=extip:172.18.85.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfec4d2ec96fbd5bbb031ecc5feebe4e169dc0d1c13dc0898f6b639b59adda3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22719 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QKxr8sUTgukKRLoaRi98VhOyHmHyJCt_SOeAAlOcc0AQdDILBkCKe6s4tPzkLx6wF7myc6u5vfUF86YqOjENzGsCgmlkgnY0gmlwhKwSWY6KbXVsdGlhZGRyc5YACASsElmOBhEWAAoErBJZjgYRF90DgnJzhQADAQAAiXNlY3AyNTZrMaECaMFxhRuXeUooRu3PDNXE874vMJZorEswm7ewaV1srhODdGNwghEWg3VkcIIRGIV3YWt1MgU --filternode=/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.85.108 waku 7f502e32b0d63711311d4274d95aab22388f56fb346f749dadd48d172dfdd934
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7f502e32b0d6. Setting up logs at ./log/docker/node2_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22715
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22715/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22715/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.108/tcp/22716/p2p/16Uiu2HAmLE3ydUFnRjKT54mR61XoGwxd42Y82MDZRGC6x4xn4kBX","/ip4/172.18.85.108/tcp/22717/ws/p2p/16Uiu2HAmLE3ydUFnRjKT54mR61XoGwxd42Y82MDZRGC6x4xn4kBX"],"enrUri":"enr:-L24QCJAZN2OGWGTkje6AWKkHSttM7jdD__Z0AV7sePPogKTbnCHKOuuZDqwkUGldc0Cgps_jBn-GfeMFpC_EZhOnDMCgmlkgnY0gmlwhKwSVWyKbXVsdGlhZGRyc5YACASsElVsBli8AAoErBJVbAZYvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDcHoTY0q7SVG6MGEtcqf6np6a5rSCgmHcgf1KTcYH6laDdGNwgli8g3VkcIJYvoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22715/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.55.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63820', '63821', '63822', '63823', '63824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63820:63820 -p 63821:63821 -p 63822:63822 -p 63823:63823 -p 63824:63824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63822 --rest-port=63820 --tcp-port=63821 --discv5-udp-port=63823 --rest-address=0.0.0.0 --nat=extip:172.18.55.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efb85ecebe67817ac2a829b96bd22f58aebfccdcf2ebbf81f9c8853d380abfa9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63824 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QKxr8sUTgukKRLoaRi98VhOyHmHyJCt_SOeAAlOcc0AQdDILBkCKe6s4tPzkLx6wF7myc6u5vfUF86YqOjENzGsCgmlkgnY0gmlwhKwSWY6KbXVsdGlhZGRyc5YACASsElmOBhEWAAoErBJZjgYRF90DgnJzhQADAQAAiXNlY3AyNTZrMaECaMFxhRuXeUooRu3PDNXE874vMJZorEswm7ewaV1srhODdGNwghEWg3VkcIIRGIV3YWt1MgU --filternode=/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.55.162 waku 1e3dd26f1e3f0757d83279ca23158b066bcf76f876b5b8cf0215c5d496326c27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1e3dd26f1e3f. Setting up logs at ./log/docker/node3_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.162/tcp/63821/p2p/16Uiu2HAm2Xqqt4Wvb7mw5uAMXejVejmJhtUxxFkJTFwY4SrQmJbV","/ip4/172.18.55.162/tcp/63822/ws/p2p/16Uiu2HAm2Xqqt4Wvb7mw5uAMXejVejmJhtUxxFkJTFwY4SrQmJbV"],"enrUri":"enr:-L24QPxzTfuzZ_mzrJdpu1q2SIblmSmw0CY1UBiKctAwRFZ9Tr2sF_bwBvaLZinkmB95TGWleCNJQNqKx9j8D_HkBpgCgmlkgnY0gmlwhKwSN6KKbXVsdGlhZGRyc5YACASsEjeiBvlNAAoErBI3ogb5Tt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaZZyNTntujL_iDBKFqSudpdEb1AEXsC61vQ9W9lApOSDdGNwgvlNg3VkcIL5T4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63820/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.205
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23887', '23888', '23889', '23890', '23891']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23887:23887 -p 23888:23888 -p 23889:23889 -p 23890:23890 -p 23891:23891 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23889 --rest-port=23887 --tcp-port=23888 --discv5-udp-port=23890 --rest-address=0.0.0.0 --nat=extip:172.18.79.205 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0675ec2e20e96bb9e29aa2188fff14eb8ed4d56148fcf6df40edde9e59ee3d4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23891 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QKxr8sUTgukKRLoaRi98VhOyHmHyJCt_SOeAAlOcc0AQdDILBkCKe6s4tPzkLx6wF7myc6u5vfUF86YqOjENzGsCgmlkgnY0gmlwhKwSWY6KbXVsdGlhZGRyc5YACASsElmOBhEWAAoErBJZjgYRF90DgnJzhQADAQAAiXNlY3AyNTZrMaECaMFxhRuXeUooRu3PDNXE874vMJZorEswm7ewaV1srhODdGNwghEWg3VkcIIRGIV3YWt1MgU --filternode=/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.205 waku 9403308c9302e233382037d000d2ff5bc1e79f7f2ca0d1f470c945cc32e35c9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9403308c9302. Setting up logs at ./log/docker/node4_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23887
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23887/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23887/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.205/tcp/23888/p2p/16Uiu2HAmATAz1QbMFdFghAZBa9m8ie4PHERgSJZVarxU8C43B3Sk","/ip4/172.18.79.205/tcp/23889/ws/p2p/16Uiu2HAmATAz1QbMFdFghAZBa9m8ie4PHERgSJZVarxU8C43B3Sk"],"enrUri":"enr:-L24QFkFhwM2dJML_DyaIUx89bsWeTFZljn-SxzxAO09Brt-JLeW7g-qXrasnNXlkQWLps7XurF2p-g9qwZ_wbmn__oCgmlkgnY0gmlwhKwST82KbXVsdGlhZGRyc5YACASsEk_NBl1QAAoErBJPzQZdUd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC30Gt5b7_zridrlS2orvOGEq1UgAaeH19Yd870UBKa-2DdGNwgl1Qg3VkcIJdUoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14899', '14900', '14901', '14902', '14903']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14899:14899 -p 14900:14900 -p 14901:14901 -p 14902:14902 -p 14903:14903 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14901 --rest-port=14899 --tcp-port=14900 --discv5-udp-port=14902 --rest-address=0.0.0.0 --nat=extip:172.18.84.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4ef25d7fc8e55afb815db99eec738a44dd0bdffd12df7f8ef6b912e7fdf9b0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14903 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QKxr8sUTgukKRLoaRi98VhOyHmHyJCt_SOeAAlOcc0AQdDILBkCKe6s4tPzkLx6wF7myc6u5vfUF86YqOjENzGsCgmlkgnY0gmlwhKwSWY6KbXVsdGlhZGRyc5YACASsElmOBhEWAAoErBJZjgYRF90DgnJzhQADAQAAiXNlY3AyNTZrMaECaMFxhRuXeUooRu3PDNXE874vMJZorEswm7ewaV1srhODdGNwghEWg3VkcIIRGIV3YWt1MgU --filternode=/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.162 waku 1d85debfbbe94f82c9236c052476304920b80f4e43bb78b9b9072bb6cd3e60aa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1d85debfbbe9. Setting up logs at ./log/docker/node5_2024-11-09_04-06-21__58874f50-0fe7-4d1b-a4ee-c7deb66f25c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14899
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14899/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14899/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.162/tcp/14900/p2p/16Uiu2HAkwAytaTPAbGtHxBBPsrDoEZuZfeFUTbB38DPtpgEjjq3k","/ip4/172.18.84.162/tcp/14901/ws/p2p/16Uiu2HAkwAytaTPAbGtHxBBPsrDoEZuZfeFUTbB38DPtpgEjjq3k"],"enrUri":"enr:-L24QA4L6z-EpnbwQUoe42IxWUf2Jm6d58M85aLX7d9uoGjHClGe5s2d_HEvXoEzhE8A7sJyBSWD2yjibGDj0JC4IN4CgmlkgnY0gmlwhKwSVKKKbXVsdGlhZGRyc5YACASsElSiBjo0AAoErBJUogY6Nd0DgnJzhQADAQAAiXNlY3AyNTZrMaECGfPpppcQfTOgsOHu-TiRdNfYGNlDsAg7deL3Tzrl9--DdGNwgjo0g3VkcII6NoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14899/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.142/tcp/4374/p2p/16Uiu2HAm2UbToXsJ9w3adsA4CRkg3YFgfogAX1gCp7X5oQ1eVjHU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4373/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22715/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "10a0f3fc-d2e7-4f68-ad54-a1f4a23df714", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"10a0f3fc-d2e7-4f68-ad54-a1f4a23df714","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63820/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d05c3a73-0975-4f20-9320-5ced5313f58e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d05c3a73-0975-4f20-9320-5ced5313f58e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23887/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "db996dbd-a75d-4b92-b0e8-38824c33f855", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"db996dbd-a75d-4b92-b0e8-38824c33f855","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14899/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f4c0fc3b-fd01-45ef-87ec-37ee925a39ef", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f4c0fc3b-fd01-45ef-87ec-37ee925a39ef","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22715/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731125189394529280,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4373/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63820/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63820/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8b7632e4701d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7f502e32b0d6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8b7632e4701d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1e3dd26f1e3f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7f502e32b0d6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9403308c9302
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1e3dd26f1e3f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1d85debfbbe9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9403308c9302. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.