[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.221.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63273', '63274', '63275', '63276', '63277']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63273:63273 -p 63274:63274 -p 63275:63275 -p 63276:63276 -p 63277:63277 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63275 --rest-port=63273 --tcp-port=63274 --discv5-udp-port=63276 --rest-address=0.0.0.0 --nat=extip:172.18.221.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=432cead61b8be1fa6debef0c7a0b1e1762e7c4a1cc6a68bbb6c8d7bea28bf0d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63277 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8c314cfa811f. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.221.19 waku 1c35369f0f08f66328de0a03b1e57aeea2541057c7779ba2685e437a2b140b9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1c35369f0f08. Setting up logs at ./log/docker/node1_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63273
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63273/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63273/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.19/tcp/63274/p2p/16Uiu2HAmLA4j5n9bYWCvoAWe68rbiWiqa54uSZNfAaVKraQi6Y8Z","/ip4/172.18.221.19/tcp/63275/ws/p2p/16Uiu2HAmLA4j5n9bYWCvoAWe68rbiWiqa54uSZNfAaVKraQi6Y8Z"],"enrUri":"enr:-L24QPXiKSWhLiv8fmkdbM4VSTgyDmyPCNAbVNPlBNpgxaibJtoh3IF5jqnIgQC1NhG1OLIhJo3zdrLtMD2u_psCXNwCgmlkgnY0gmlwhKwS3ROKbXVsdGlhZGRyc5YACASsEt0TBvcqAAoErBLdEwb3K90DgnJzhQADAQAAiXNlY3AyNTZrMaEDb3SZgLvA3pfyCO6104-DTKiI9xsUBWWUcbObDz85y4qDdGNwgvcqg3VkcIL3LIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.30.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63751', '63752', '63753', '63754', '63755']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63751:63751 -p 63752:63752 -p 63753:63753 -p 63754:63754 -p 63755:63755 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63753 --rest-port=63751 --tcp-port=63752 --discv5-udp-port=63754 --rest-address=0.0.0.0 --nat=extip:172.18.30.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d1bcd7eee8ddbfde14db192dba4f5eee2f41af2dbacac09fac5a593ff0b9cacc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63755 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPXiKSWhLiv8fmkdbM4VSTgyDmyPCNAbVNPlBNpgxaibJtoh3IF5jqnIgQC1NhG1OLIhJo3zdrLtMD2u_psCXNwCgmlkgnY0gmlwhKwS3ROKbXVsdGlhZGRyc5YACASsEt0TBvcqAAoErBLdEwb3K90DgnJzhQADAQAAiXNlY3AyNTZrMaEDb3SZgLvA3pfyCO6104-DTKiI9xsUBWWUcbObDz85y4qDdGNwgvcqg3VkcIL3LIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.30.245 waku 9dbb1745b54179d5bc601fd767c2b0b7351281881e593da4b728b73371066351
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9dbb1745b541. Setting up logs at ./log/docker/node2_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63751
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63751/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63751/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.245/tcp/63752/p2p/16Uiu2HAmHUSW1MZBtwKBT5rB1ZVVsXSuPn6uTbpLqRjkVkPiX5Xi","/ip4/172.18.30.245/tcp/63753/ws/p2p/16Uiu2HAmHUSW1MZBtwKBT5rB1ZVVsXSuPn6uTbpLqRjkVkPiX5Xi"],"enrUri":"enr:-L24QGNplhYZFtv0yCzwptJT1bWykY9dWdLcp_icd5k9XsQkAeLtU3mqal1YeSmXQmdCkkXJnO-IeTvbcd2l3z2r0OECgmlkgnY0gmlwhKwSHvWKbXVsdGlhZGRyc5YACASsEh71BvkIAAoErBIe9Qb5Cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDR5adLLfxsoBUS1qw0gtmlt-OBov9olZF6Ij5Km8A8UWDdGNwgvkIg3VkcIL5CoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63751/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.19/tcp/63274/p2p/16Uiu2HAmLA4j5n9bYWCvoAWe68rbiWiqa54uSZNfAaVKraQi6Y8Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33242', '33243', '33244', '33245', '33246']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33242:33242 -p 33243:33243 -p 33244:33244 -p 33245:33245 -p 33246:33246 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33244 --rest-port=33242 --tcp-port=33243 --discv5-udp-port=33245 --rest-address=0.0.0.0 --nat=extip:172.18.11.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bab64ed472baaafaa9edc2d264ba79bb61d56cb15aa2f9e083e3c9ca7db52de3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33246 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPXiKSWhLiv8fmkdbM4VSTgyDmyPCNAbVNPlBNpgxaibJtoh3IF5jqnIgQC1NhG1OLIhJo3zdrLtMD2u_psCXNwCgmlkgnY0gmlwhKwS3ROKbXVsdGlhZGRyc5YACASsEt0TBvcqAAoErBLdEwb3K90DgnJzhQADAQAAiXNlY3AyNTZrMaEDb3SZgLvA3pfyCO6104-DTKiI9xsUBWWUcbObDz85y4qDdGNwgvcqg3VkcIL3LIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.214 waku d8c0de07762a5d1e13ae962b6a1b1eee3abc1ac28e9368a2f312230f976f81e5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d8c0de07762a. Setting up logs at ./log/docker/node3_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33242
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33242/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33242/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.214/tcp/33243/p2p/16Uiu2HAm9wCHGgUDpWRVFedv5fYNPcc8b6Edkc4xUR8crA5KrvPu","/ip4/172.18.11.214/tcp/33244/ws/p2p/16Uiu2HAm9wCHGgUDpWRVFedv5fYNPcc8b6Edkc4xUR8crA5KrvPu"],"enrUri":"enr:-L24QKk9xw-rnAx_VYo53NHphu27rPgrjYHwb5WjSJ7DZWoIfTMPg78qKRk1HF0nvp-OnzYUdOASvYLylw3HqFw4TEsCgmlkgnY0gmlwhKwSC9aKbXVsdGlhZGRyc5YACASsEgvWBoHbAAoErBIL1gaB3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC15O45l68goMoBhKU0BcabTJZfWMKjcwZ9lhFyC8XHKyDdGNwgoHbg3VkcIKB3YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33242/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.19/tcp/63274/p2p/16Uiu2HAmLA4j5n9bYWCvoAWe68rbiWiqa54uSZNfAaVKraQi6Y8Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.25.237
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5458', '5459', '5460', '5461', '5462']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5458:5458 -p 5459:5459 -p 5460:5460 -p 5461:5461 -p 5462:5462 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5460 --rest-port=5458 --tcp-port=5459 --discv5-udp-port=5461 --rest-address=0.0.0.0 --nat=extip:172.18.25.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c2eff55680de89618feafdba9f2f0cfeba79a1ad22f0de84d7ee8cbe62aaaea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5462 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPXiKSWhLiv8fmkdbM4VSTgyDmyPCNAbVNPlBNpgxaibJtoh3IF5jqnIgQC1NhG1OLIhJo3zdrLtMD2u_psCXNwCgmlkgnY0gmlwhKwS3ROKbXVsdGlhZGRyc5YACASsEt0TBvcqAAoErBLdEwb3K90DgnJzhQADAQAAiXNlY3AyNTZrMaEDb3SZgLvA3pfyCO6104-DTKiI9xsUBWWUcbObDz85y4qDdGNwgvcqg3VkcIL3LIV3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3220', '3221', '3222', '3223', '3224']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3220:3220 -p 3221:3221 -p 3222:3222 -p 3223:3223 -p 3224:3224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3222 --rest-port=3220 --tcp-port=3221 --discv5-udp-port=3223 --rest-address=0.0.0.0 --nat=extip:172.18.252.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c9267aeaa72addb3ef38773b7aedbea06c9baa703c602becbddbc50ebaafd8f6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3224 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPXiKSWhLiv8fmkdbM4VSTgyDmyPCNAbVNPlBNpgxaibJtoh3IF5jqnIgQC1NhG1OLIhJo3zdrLtMD2u_psCXNwCgmlkgnY0gmlwhKwS3ROKbXVsdGlhZGRyc5YACASsEt0TBvcqAAoErBLdEwb3K90DgnJzhQADAQAAiXNlY3AyNTZrMaEDb3SZgLvA3pfyCO6104-DTKiI9xsUBWWUcbObDz85y4qDdGNwgvcqg3VkcIL3LIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.251 waku 61243a3872137d2d474f64f4235820c4349f91934fb926ea50843a61d00cfa78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 61243a387213. Setting up logs at ./log/docker/node4_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3220
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.251/tcp/3221/p2p/16Uiu2HAkufmKuXDZMkKP58Txhc9dQFqX9vhX2Gg7v1pjbwB3Vcq4","/ip4/172.18.252.251/tcp/3222/ws/p2p/16Uiu2HAkufmKuXDZMkKP58Txhc9dQFqX9vhX2Gg7v1pjbwB3Vcq4"],"enrUri":"enr:-L24QPU6SdU3EnuM0pM6ojSpTP07xtXmaBIIlrdpJftw2A5fJ5cIgzm0sREF2TcxNC7jp1koQLfBTzHy-PAXXxs0ovQCgmlkgnY0gmlwhKwS_PuKbXVsdGlhZGRyc5YACASsEvz7BgyVAAoErBL8-wYMlt0DgnJzhQADAQAAiXNlY3AyNTZrMaECA5wtTBtHrMh3-FiXYeeQrqtftNwBBJQuo_y62U8BdA-DdGNwggyVg3VkcIIMl4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3220/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.19/tcp/63274/p2p/16Uiu2HAmLA4j5n9bYWCvoAWe68rbiWiqa54uSZNfAaVKraQi6Y8Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.142.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53870', '53871', '53872', '53873', '53874']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53870:53870 -p 53871:53871 -p 53872:53872 -p 53873:53873 -p 53874:53874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53872 --rest-port=53870 --tcp-port=53871 --discv5-udp-port=53873 --rest-address=0.0.0.0 --nat=extip:172.18.142.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8b071db6a6b2dcbddbfa878eee1a848307e0d43b0deca5f83fc77af91f16f3b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53874 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPXiKSWhLiv8fmkdbM4VSTgyDmyPCNAbVNPlBNpgxaibJtoh3IF5jqnIgQC1NhG1OLIhJo3zdrLtMD2u_psCXNwCgmlkgnY0gmlwhKwS3ROKbXVsdGlhZGRyc5YACASsEt0TBvcqAAoErBLdEwb3K90DgnJzhQADAQAAiXNlY3AyNTZrMaEDb3SZgLvA3pfyCO6104-DTKiI9xsUBWWUcbObDz85y4qDdGNwgvcqg3VkcIL3LIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.142.3 waku 9e221f73517a274ca2adae4b3bd6040c5a4cda49e7486578d91196c35e2c16f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9e221f73517a. Setting up logs at ./log/docker/node5_2024-11-09_04-14-13__f257da00-77e4-4215-8049-5fabce3f5304__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53870
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53870/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.3/tcp/53871/p2p/16Uiu2HAm7tvF7rapMHkhWkP3GXmvE8wWqRFoAVEY1Uapqz43aPmq","/ip4/172.18.142.3/tcp/53872/ws/p2p/16Uiu2HAm7tvF7rapMHkhWkP3GXmvE8wWqRFoAVEY1Uapqz43aPmq"],"enrUri":"enr:-L24QL5cR_Hrzrqx35TfDcJAeNpoMTHBeQ3-c35YAihBoK-9IxUhBYxjUfn1COEyeC_FiB2IGcq3DZ26G4a_afsB0FkCgmlkgnY0gmlwhKwSjgOKbXVsdGlhZGRyc5YACASsEo4DBtJvAAoErBKOAwbScN0DgnJzhQADAQAAiXNlY3AyNTZrMaECuUcNt3HvRdq7vRPix9UpTmK3f7Rv8R1cy3oqGM6OBqiDdGNwgtJvg3VkcILScYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53870/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.19/tcp/63274/p2p/16Uiu2HAmLA4j5n9bYWCvoAWe68rbiWiqa54uSZNfAaVKraQi6Y8Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63751/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33242/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3220/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661800291840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661800291840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33242/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661800291840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661800291840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661800291840,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661937336064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63751/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661937336064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33242/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661937336064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661937336064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731125661937336064,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1c35369f0f08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9dbb1745b541
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1c35369f0f08. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d8c0de07762a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9dbb1745b541. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 61243a387213
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d8c0de07762a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9e221f73517a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 61243a387213. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.