[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.107.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14855', '14856', '14857', '14858', '14859']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14855:14855 -p 14856:14856 -p 14857:14857 -p 14858:14858 -p 14859:14859 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14857 --rest-port=14855 --tcp-port=14856 --discv5-udp-port=14858 --rest-address=0.0.0.0 --nat=extip:172.18.107.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e0388bad20befa50b9d63efac2fffb4e2eead6a9a488efd1cfe687ec120aa7d1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14859 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.107.13 waku 74e28cfa4fda2ea84284da588011eb6ccd0bd0b2cb1c4a27dd9905105f7a402c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 74e28cfa4fda. Setting up logs at ./log/docker/receiving_node1_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14855
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14855/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14855/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v","/ip4/172.18.107.13/tcp/14857/ws/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v"],"enrUri":"enr:-LO4QNTjEoi6YerHH9U_UUZ-xmM3tGex_4BlO7bNSeA4x2wKKgWtWq1PogEJ_HwaLz1k4rPHsr_Y9nufoDwRHqWQijMBgmlkgnY0gmlwhKwSaw2KbXVsdGlhZGRyc4wACgSsEmsNBjoJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO2_p7Wwx2ur9VuKydbBz2Fq6KYaAsrHEyBr0S69LmzWYN0Y3CCOgiDdWRwgjoKhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.113.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47900', '47901', '47902', '47903', '47904']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47900:47900 -p 47901:47901 -p 47902:47902 -p 47903:47903 -p 47904:47904 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47902 --rest-port=47900 --tcp-port=47901 --discv5-udp-port=47903 --rest-address=0.0.0.0 --nat=extip:172.18.113.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2b9b6f83d5a0cd7621d4ac07bfc6ea2bd8238c515fedebf670ffdab9696cdd68 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47904 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.113.228 waku 93b6214f7650087bdcd9bf73ffb769a50616619c6556c3daa5498c7050addebc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 93b6214f7650. Setting up logs at ./log/docker/receiving_node2_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47900
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47900/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47900/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.228/tcp/47901/p2p/16Uiu2HAmDkqR7iAzusTtkiNejYc2kXmaAkuXfTvWVQU5YPVRHSvT","/ip4/172.18.113.228/tcp/47902/ws/p2p/16Uiu2HAmDkqR7iAzusTtkiNejYc2kXmaAkuXfTvWVQU5YPVRHSvT"],"enrUri":"enr:-LO4QMggjUnSRcvqTVAiUIQACJ6KkMwxfP6Iw0SuoePKeUNZXyTS83IslTOW1QWfk31SzPv3nIOZROtmvDLjNxGd0UABgmlkgnY0gmlwhKwSceSKbXVsdGlhZGRyc4wACgSsEnHkBrse3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQWxHuqzLBwZbvyWqz1I0xj1ymXHfNYCRLZ6_sKNTrIIN0Y3CCux2DdWRwgrsfhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47900/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.62.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64120', '64121', '64122', '64123', '64124']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64120:64120 -p 64121:64121 -p 64122:64122 -p 64123:64123 -p 64124:64124 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64122 --rest-port=64120 --tcp-port=64121 --discv5-udp-port=64123 --rest-address=0.0.0.0 --nat=extip:172.18.62.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f40cc65eeefbd70c2b7ac00dd8485b1e2b8db4075e0e1cdb2c2ce4c0efa595cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64124 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNTjEoi6YerHH9U_UUZ-xmM3tGex_4BlO7bNSeA4x2wKKgWtWq1PogEJ_HwaLz1k4rPHsr_Y9nufoDwRHqWQijMBgmlkgnY0gmlwhKwSaw2KbXVsdGlhZGRyc4wACgSsEmsNBjoJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO2_p7Wwx2ur9VuKydbBz2Fq6KYaAsrHEyBr0S69LmzWYN0Y3CCOgiDdWRwgjoKhXdha3UyCQ --lightpushnode=/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.62.17 waku 472d7f210dee452c41ed04548daefe60254e22551165b54e8f33220edd98a91f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 472d7f210dee. Setting up logs at ./log/docker/lightpush_node1_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 64120
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64120/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64120/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.17/tcp/64121/p2p/16Uiu2HAmHrnKLhpPpZEcwVFRUN7n1j7oRPRCvqM6UyLDCX3pDioj","/ip4/172.18.62.17/tcp/64122/ws/p2p/16Uiu2HAmHrnKLhpPpZEcwVFRUN7n1j7oRPRCvqM6UyLDCX3pDioj"],"enrUri":"enr:-LO4QMC5zQzNKmq-VgyZ_On0wD5B1PO-mLyZ68BMozeYLw6zOYhs6ELmkN3ZStYw_7nnhUSLdz-drZi2iq8uwS046RABgmlkgnY0gmlwhKwSPhGKbXVsdGlhZGRyc4wACgSsEj4RBvp63QOCcnOFAAMBAACJc2VjcDI1NmsxoQNNT8xC3MNXlQiKyI9_oLSuC63plsLvoKmdonRSWOzhaoN0Y3CC-nmDdWRwgvp7hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64120/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64120/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.228/tcp/47901/p2p/16Uiu2HAmDkqR7iAzusTtkiNejYc2kXmaAkuXfTvWVQU5YPVRHSvT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.210.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12235', '12236', '12237', '12238', '12239']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12235:12235 -p 12236:12236 -p 12237:12237 -p 12238:12238 -p 12239:12239 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12237 --rest-port=12235 --tcp-port=12236 --discv5-udp-port=12238 --rest-address=0.0.0.0 --nat=extip:172.18.210.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=30da3eac39ad5c602627c71ce2165c25ffa8aed43faccdfa34afafaf5fbaaebc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12239 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNTjEoi6YerHH9U_UUZ-xmM3tGex_4BlO7bNSeA4x2wKKgWtWq1PogEJ_HwaLz1k4rPHsr_Y9nufoDwRHqWQijMBgmlkgnY0gmlwhKwSaw2KbXVsdGlhZGRyc4wACgSsEmsNBjoJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO2_p7Wwx2ur9VuKydbBz2Fq6KYaAsrHEyBr0S69LmzWYN0Y3CCOgiDdWRwgjoKhXdha3UyCQ --lightpushnode=/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.210.61 waku ddfdf0c761eae44b86776f5459741e1ee4bdb63ac6979ba275f844990ad55ca0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ddfdf0c761ea. Setting up logs at ./log/docker/lightpush_node2_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12235
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12235/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12235/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.61/tcp/12236/p2p/16Uiu2HAm8tzWmHaGAoqqEZsXhQu1KrUaPPzCmM8iAbYYWH1FLS2q","/ip4/172.18.210.61/tcp/12237/ws/p2p/16Uiu2HAm8tzWmHaGAoqqEZsXhQu1KrUaPPzCmM8iAbYYWH1FLS2q"],"enrUri":"enr:-LO4QJExpXCBSqSFPrb_Z6A9-qd9llMvuvwNZsKsKPOeOioQMMBzTU54y6FybaHVzriWWR9TNbZTkOPMBIOsM7phvZUBgmlkgnY0gmlwhKwS0j2KbXVsdGlhZGRyc4wACgSsEtI9Bi_N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLIJ5F9y57XyZUj6gbEZ8pXzzczqljxrqOHbFUYIAZqRoN0Y3CCL8yDdWRwgi_OhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.228/tcp/47901/p2p/16Uiu2HAmDkqR7iAzusTtkiNejYc2kXmaAkuXfTvWVQU5YPVRHSvT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.209.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25674', '25675', '25676', '25677', '25678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25674:25674 -p 25675:25675 -p 25676:25676 -p 25677:25677 -p 25678:25678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25676 --rest-port=25674 --tcp-port=25675 --discv5-udp-port=25677 --rest-address=0.0.0.0 --nat=extip:172.18.209.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e984dcedeeddb12b69aaf5fcedce6bcec6c61aed6d71fafbceb479539cebcf2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25678 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNTjEoi6YerHH9U_UUZ-xmM3tGex_4BlO7bNSeA4x2wKKgWtWq1PogEJ_HwaLz1k4rPHsr_Y9nufoDwRHqWQijMBgmlkgnY0gmlwhKwSaw2KbXVsdGlhZGRyc4wACgSsEmsNBjoJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO2_p7Wwx2ur9VuKydbBz2Fq6KYaAsrHEyBr0S69LmzWYN0Y3CCOgiDdWRwgjoKhXdha3UyCQ --lightpushnode=/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.209.251 waku 206db1db13c1bf45d348a494b3bcb70adebcc011d49c87e5ff5d27dc386ae4f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 206db1db13c1. Setting up logs at ./log/docker/lightpush_node3_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25674
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25674/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.251/tcp/25675/p2p/16Uiu2HAmUYY2LQWTfR7xccWGDcYL9LDWyDiZXUCgPAWy1psKP8di","/ip4/172.18.209.251/tcp/25676/ws/p2p/16Uiu2HAmUYY2LQWTfR7xccWGDcYL9LDWyDiZXUCgPAWy1psKP8di"],"enrUri":"enr:-LO4QBCBkpborcPOm71ikJPTWPgXSCr9NGXZqe-V36pcZrTKGoUHd1Q0aJ_Phorft5YiiDgrs8H0Aa4Pofb997paYIgBgmlkgnY0gmlwhKwS0fuKbXVsdGlhZGRyc4wACgSsEtH7BmRM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPsE7z36ecylFEtQtFfzrVDSQt892VRPD7YBqa_rgXb3YN0Y3CCZEuDdWRwgmRNhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.228/tcp/47901/p2p/16Uiu2HAmDkqR7iAzusTtkiNejYc2kXmaAkuXfTvWVQU5YPVRHSvT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.95.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45251', '45252', '45253', '45254', '45255']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45251:45251 -p 45252:45252 -p 45253:45253 -p 45254:45254 -p 45255:45255 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45253 --rest-port=45251 --tcp-port=45252 --discv5-udp-port=45254 --rest-address=0.0.0.0 --nat=extip:172.18.95.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9df0ea7bcd92ddfd907ee753e8cead6d13ef0f3e2bdcf45ccb0b780c446ff35b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45255 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNTjEoi6YerHH9U_UUZ-xmM3tGex_4BlO7bNSeA4x2wKKgWtWq1PogEJ_HwaLz1k4rPHsr_Y9nufoDwRHqWQijMBgmlkgnY0gmlwhKwSaw2KbXVsdGlhZGRyc4wACgSsEmsNBjoJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO2_p7Wwx2ur9VuKydbBz2Fq6KYaAsrHEyBr0S69LmzWYN0Y3CCOgiDdWRwgjoKhXdha3UyCQ --lightpushnode=/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.95.214 waku 949e31bbb5c7922c4a1cfd9e10007e20cda194f9bf9ce9a4989bae54c5b47430
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 949e31bbb5c7. Setting up logs at ./log/docker/lightpush_node4_2024-09-10_15-11-29__536d670c-ba6b-4633-8dde-5d76dcd3f331__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45251
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45251/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45251/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.214/tcp/45252/p2p/16Uiu2HAm6RzsiFpoc1W1NbJA545NbEdDbxoyqNNFQBdoy1m18j9J","/ip4/172.18.95.214/tcp/45253/ws/p2p/16Uiu2HAm6RzsiFpoc1W1NbJA545NbEdDbxoyqNNFQBdoy1m18j9J"],"enrUri":"enr:-LO4QHdX9qp9LaC61wVXAhMZQS11yPM5X9-8C-awywBAkcclQufXok14Bh5osMF01fMh85f3Nrf27LHnMRPm7OiE_EkBgmlkgnY0gmlwhKwSX9aKbXVsdGlhZGRyc4wACgSsEl_WBrDF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKjhevGzMRQeAK3yZLbbwN5IqaTb5CtESnlw_Z2NjjaYYN0Y3CCsMSDdWRwgrDGhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45251/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.107.13/tcp/14856/p2p/16Uiu2HAmQyKjq6EmNHBYReJV3ogk6tLFVMKxrNxvpgH6Ajttrd7v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45251/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.228/tcp/47901/p2p/16Uiu2HAmDkqR7iAzusTtkiNejYc2kXmaAkuXfTvWVQU5YPVRHSvT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14855/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47900/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64120/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725981099482082048}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14855/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099482082048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47900/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099482082048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12235/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725981099602998784}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14855/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099602998784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47900/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099602998784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25674/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725981099719121152}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14855/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099719121152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47900/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099719121152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45251/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725981099838190080}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14855/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099838190080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47900/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725981099838190080,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 74e28cfa4fda
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 93b6214f7650
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 472d7f210dee
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ddfdf0c761ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 206db1db13c1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 949e31bbb5c7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.