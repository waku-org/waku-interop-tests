[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.138.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36906', '36907', '36908', '36909', '36910']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36906:36906 -p 36907:36907 -p 36908:36908 -p 36909:36909 -p 36910:36910 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36908 --rest-port=36906 --tcp-port=36907 --discv5-udp-port=36909 --rest-address=0.0.0.0 --nat=extip:172.18.138.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df9cabfcd8cabb0d03e3afff74fb9efedcf835ef2d7cadfbea3f47bd4fd8d8ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36910 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.138.253 waku 145596ced2bfa611edc08afff4e7d3745c9c6bd26df980c425c7d81da61cfc23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 145596ced2bf. Setting up logs at ./log/docker/node1_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36906
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36906/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36906/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz","/ip4/172.18.138.253/tcp/36908/ws/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz"],"enrUri":"enr:-LO4QGA2VCw5gfEcWCO3RnDt5UXTvtJf9s64PQjgkkmaWnDkI1KSdQ_vUSGfHFLEAtl4kMVi1eTtY0gXOsxeuBbeAi0BgmlkgnY0gmlwhKwSiv2KbXVsdGlhZGRyc4wACgSsEor9BpAs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLlaLKLpjEZoBiGJCfDuxnfqHSlElZqbKeaiQiB4sTlT4N0Y3CCkCuDdWRwgpAthXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56750', '56751', '56752', '56753', '56754']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56750:56750 -p 56751:56751 -p 56752:56752 -p 56753:56753 -p 56754:56754 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56752 --rest-port=56750 --tcp-port=56751 --discv5-udp-port=56753 --rest-address=0.0.0.0 --nat=extip:172.18.221.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8a7d8b8bd5cb7f92d5dade81a314c43fddaf875dc03df7ab89efa3b695abcbdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56754 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGA2VCw5gfEcWCO3RnDt5UXTvtJf9s64PQjgkkmaWnDkI1KSdQ_vUSGfHFLEAtl4kMVi1eTtY0gXOsxeuBbeAi0BgmlkgnY0gmlwhKwSiv2KbXVsdGlhZGRyc4wACgSsEor9BpAs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLlaLKLpjEZoBiGJCfDuxnfqHSlElZqbKeaiQiB4sTlT4N0Y3CCkCuDdWRwgpAthXdha3UyBQ --filternode=/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.24 waku 7cdf170b1afc8adaf2ca70e50237ed4c635fcbbed7bdf82760d66c43cf442f08
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7cdf170b1afc. Setting up logs at ./log/docker/node2_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56750
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56750/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56750/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.24/tcp/56751/p2p/16Uiu2HAmEqSR1AwTSsHEn89XyMjSomJE3kWW8Hm4Vw1oZUMBcwvw","/ip4/172.18.221.24/tcp/56752/ws/p2p/16Uiu2HAmEqSR1AwTSsHEn89XyMjSomJE3kWW8Hm4Vw1oZUMBcwvw"],"enrUri":"enr:-LO4QBIcaJ8IytaA53pK_5yFw_RuGuLTKEpm57pzYMi_UuAvaDoOB0LPjCRmFrjOHG0yObgFEmvHXWo2HL8j5H-kuKYBgmlkgnY0gmlwhKwS3RiKbXVsdGlhZGRyc4wACgSsEt0YBt2w3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMgZKcTW_juxMdJbC59TDYETlOC__Fs3bvygSUz9AxnKIN0Y3CC3a-DdWRwgt2xhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56750/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.208.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16932', '16933', '16934', '16935', '16936']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16932:16932 -p 16933:16933 -p 16934:16934 -p 16935:16935 -p 16936:16936 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16934 --rest-port=16932 --tcp-port=16933 --discv5-udp-port=16935 --rest-address=0.0.0.0 --nat=extip:172.18.208.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da8d74959baac3f7cdccb340c8fd903727ad85ed6f309fbf66e7eadf84adaad4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16936 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGA2VCw5gfEcWCO3RnDt5UXTvtJf9s64PQjgkkmaWnDkI1KSdQ_vUSGfHFLEAtl4kMVi1eTtY0gXOsxeuBbeAi0BgmlkgnY0gmlwhKwSiv2KbXVsdGlhZGRyc4wACgSsEor9BpAs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLlaLKLpjEZoBiGJCfDuxnfqHSlElZqbKeaiQiB4sTlT4N0Y3CCkCuDdWRwgpAthXdha3UyBQ --filternode=/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.208.192 waku ed4ca802bf4c278220aedf65c2bcec918b97023fbc76cea6d49fbe2470e1f5d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ed4ca802bf4c. Setting up logs at ./log/docker/node3_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16932
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16932/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16932/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.192/tcp/16933/p2p/16Uiu2HAmH6TtyrPsoV2xSKVfBYJDsq9TeNPH2yViyM2CntG8dNRF","/ip4/172.18.208.192/tcp/16934/ws/p2p/16Uiu2HAmH6TtyrPsoV2xSKVfBYJDsq9TeNPH2yViyM2CntG8dNRF"],"enrUri":"enr:-LO4QDHTTOoQ2Yoj5BRmQk02ZZcXYVx97lf6sQbGzaonLDNSUFU_o2uJQ4WokB65Gt-Ji0zHN-j9-Cu7ui4LM30yQkABgmlkgnY0gmlwhKwS0MCKbXVsdGlhZGRyc4wACgSsEtDABkIm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNB9WosuO_p1WEf2H3edxc23yTLAScWqc1Dd4BsNntDIoN0Y3CCQiWDdWRwgkInhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16932/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.28.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61882', '61883', '61884', '61885', '61886']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61882:61882 -p 61883:61883 -p 61884:61884 -p 61885:61885 -p 61886:61886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61884 --rest-port=61882 --tcp-port=61883 --discv5-udp-port=61885 --rest-address=0.0.0.0 --nat=extip:172.18.28.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=00a3005a26afd48a6332eb710c4aff8293aadafb8a83ff8ac9ba9b5c06122394 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61886 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGA2VCw5gfEcWCO3RnDt5UXTvtJf9s64PQjgkkmaWnDkI1KSdQ_vUSGfHFLEAtl4kMVi1eTtY0gXOsxeuBbeAi0BgmlkgnY0gmlwhKwSiv2KbXVsdGlhZGRyc4wACgSsEor9BpAs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLlaLKLpjEZoBiGJCfDuxnfqHSlElZqbKeaiQiB4sTlT4N0Y3CCkCuDdWRwgpAthXdha3UyBQ --filternode=/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.28.91 waku 8f8d5b5eaf61279ad5db8dec0ebb6076f1b8742da96be8d651e6ab7231d5bfda
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8f8d5b5eaf61. Setting up logs at ./log/docker/node4_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61882
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61882/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.91/tcp/61883/p2p/16Uiu2HAmMYZrfp5rSrX8aqjWwzDhJk2yjPjh59Ewrj3ynKGHwUHa","/ip4/172.18.28.91/tcp/61884/ws/p2p/16Uiu2HAmMYZrfp5rSrX8aqjWwzDhJk2yjPjh59Ewrj3ynKGHwUHa"],"enrUri":"enr:-LO4QPgudJRfaarx_2GefhPlkAIIpMbaGYNCzU58HWLG27iKK8uoftIBXTYZ9DCu5Jy0FgkhMg8y-HHPzJMukWRF5YQBgmlkgnY0gmlwhKwSHFuKbXVsdGlhZGRyc4wACgSsEhxbBvG83QOCcnOFAAMBAACJc2VjcDI1NmsxoQOEFACt-KF1NDC5ZbOFuygRFNxUaIqkXH_cq5_kUmQFXYN0Y3CC8buDdWRwgvG9hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61882/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.236.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41969', '41970', '41971', '41972', '41973']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41969:41969 -p 41970:41970 -p 41971:41971 -p 41972:41972 -p 41973:41973 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41971 --rest-port=41969 --tcp-port=41970 --discv5-udp-port=41972 --rest-address=0.0.0.0 --nat=extip:172.18.236.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f91ffd508c5c018da89a66dbd5ff02c1e3d93b2b66aa73e17604c0caecbe5e5c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41973 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGA2VCw5gfEcWCO3RnDt5UXTvtJf9s64PQjgkkmaWnDkI1KSdQ_vUSGfHFLEAtl4kMVi1eTtY0gXOsxeuBbeAi0BgmlkgnY0gmlwhKwSiv2KbXVsdGlhZGRyc4wACgSsEor9BpAs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLlaLKLpjEZoBiGJCfDuxnfqHSlElZqbKeaiQiB4sTlT4N0Y3CCkCuDdWRwgpAthXdha3UyBQ --filternode=/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.236.246 waku 599f45fee3313a7e015e5cca3c17d7f2479dfb9aeab26e1a7d09fe5bddefdb3a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 599f45fee331. Setting up logs at ./log/docker/node5_2024-09-10_15-07-43__41f9c3d7-df65-435a-a90b-41d742b7aa39__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41969
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41969/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41969/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.236.246/tcp/41970/p2p/16Uiu2HAmFZ9r5sjPpoKLkaQXauXxvoErsxeazukwW4hJfhPkukTB","/ip4/172.18.236.246/tcp/41971/ws/p2p/16Uiu2HAmFZ9r5sjPpoKLkaQXauXxvoErsxeazukwW4hJfhPkukTB"],"enrUri":"enr:-LO4QBxO-X8zCH_s2KPYAom3DttfJ3neXhaWugFCB9o6w5x9BnSkPIQk-KXq4wfMWIcI2e4RDe4Xwiz-PfSYZk7VLbMBgmlkgnY0gmlwhKwS7PaKbXVsdGlhZGRyc4wACgSsEuz2BqPz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrFFBI4oXgp0CkU9qeQt0Lw77SPxDfA2F9BPdnaqP2ioN0Y3CCo_KDdWRwgqP0hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41969/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.138.253/tcp/36907/p2p/16Uiu2HAmAsBwLodLQ8ZizsitRXJAT3WcmDdkg85iZ2Pb3zkaFkSz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36906/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56750/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4c3350ba-9176-489e-98a6-b4e80de17d42", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4c3350ba-9176-489e-98a6-b4e80de17d42","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16932/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cfb6eff1-7796-4e26-ac59-798b134de212", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cfb6eff1-7796-4e26-ac59-798b134de212","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61882/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "33717f4c-509f-4a58-96a2-62e160c8eb2a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"33717f4c-509f-4a58-96a2-62e160c8eb2a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41969/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3dc6dcbf-faac-416c-a575-fe733168f7e6", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3dc6dcbf-faac-416c-a575-fe733168f7e6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56750/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1725980872050612480,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36906/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16932/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:16932/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 145596ced2bf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7cdf170b1afc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ed4ca802bf4c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8f8d5b5eaf61
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 599f45fee331
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.