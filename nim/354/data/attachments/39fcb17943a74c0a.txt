[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_different_cursor_and_indexes[2-4] with id: 2024-09-10_15-22-57__7a04c6c8-7ded-426c-91ca-30def645ce05
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-10_15-22-57__7a04c6c8-7ded-426c-91ca-30def645ce05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.21.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2587', '2588', '2589', '2590', '2591']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2587:2587 -p 2588:2588 -p 2589:2589 -p 2590:2590 -p 2591:2591 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2589 --rest-port=2587 --tcp-port=2588 --discv5-udp-port=2590 --rest-address=0.0.0.0 --nat=extip:172.18.21.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4eda49dcfd3be25cc667c0668fadd8cb74dca375331fee54b8b4c4fd98e26cc5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2591 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.21.216 waku 887eee17ee83ff0c3dc46b456218e006d9edfbc044414f8b2f14a7d540102311
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 887eee17ee83. Setting up logs at ./log/docker/publishing_node1_2024-09-10_15-22-57__7a04c6c8-7ded-426c-91ca-30def645ce05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2587
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2587/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2587/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.216/tcp/2588/p2p/16Uiu2HAm4cDhdoZ4RzkcBnhi7JLvyj2wsX6MJiX8qKgQYijLXY5i","/ip4/172.18.21.216/tcp/2589/ws/p2p/16Uiu2HAm4cDhdoZ4RzkcBnhi7JLvyj2wsX6MJiX8qKgQYijLXY5i"],"enrUri":"enr:-LO4QMAljqRTIrF_5lU3AlVCN2S2TIwpjjW2ZclSUFxx8nbfOKZtGzDVuuO7cnoIOYur3ogQXzJASqjnhGHeAq2zUkIBgmlkgnY0gmlwhKwSFdiKbXVsdGlhZGRyc4wACgSsEhXYBgod3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKIbNuiDZNrIVj9rjfwDL_IpDa7GvThzsoQjg4APGJYTYN0Y3CCChyDdWRwggoehXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-10_15-22-57__7a04c6c8-7ded-426c-91ca-30def645ce05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.181.235
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55174', '55175', '55176', '55177', '55178']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55174:55174 -p 55175:55175 -p 55176:55176 -p 55177:55177 -p 55178:55178 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55176 --rest-port=55174 --tcp-port=55175 --discv5-udp-port=55177 --rest-address=0.0.0.0 --nat=extip:172.18.181.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aaddb8ddcd9e89bd46bc862be4c254bf22feed728140c442cdef79f4ec28e6d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55178 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QMAljqRTIrF_5lU3AlVCN2S2TIwpjjW2ZclSUFxx8nbfOKZtGzDVuuO7cnoIOYur3ogQXzJASqjnhGHeAq2zUkIBgmlkgnY0gmlwhKwSFdiKbXVsdGlhZGRyc4wACgSsEhXYBgod3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKIbNuiDZNrIVj9rjfwDL_IpDa7GvThzsoQjg4APGJYTYN0Y3CCChyDdWRwggoehXdha3UyAw --storenode=/ip4/172.18.21.216/tcp/2588/p2p/16Uiu2HAm4cDhdoZ4RzkcBnhi7JLvyj2wsX6MJiX8qKgQYijLXY5i --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.181.235 waku 64c44bb94a4637c691a36d3ab024e655726a4b8f1cb23d6bd881ee537d6826a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 64c44bb94a46. Setting up logs at ./log/docker/store_node1_2024-09-10_15-22-57__7a04c6c8-7ded-426c-91ca-30def645ce05__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55174
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55174/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55174/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.235/tcp/55175/p2p/16Uiu2HAm1pTS8Wu2zgmkPq2fUQ9MHULEzuuSgVEnTnFaQX9YsZem","/ip4/172.18.181.235/tcp/55176/ws/p2p/16Uiu2HAm1pTS8Wu2zgmkPq2fUQ9MHULEzuuSgVEnTnFaQX9YsZem"],"enrUri":"enr:-LO4QIrqjWl-MlXWPA0DR86mpvMjoWCsKO2s5NR6ii7C6p-eEubc0gJ2qiykZ126d9W9DDzGPJd7Sg33Z7FikPzHfwkBgmlkgnY0gmlwhKwSteuKbXVsdGlhZGRyc4wACgSsErXrBteI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJe_EthXmpG9wYmeOn9gpu20twTH_JY1rtccz8P11C4zoN0Y3CC14eDdWRwgteJhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55174/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.21.216/tcp/2588/p2p/16Uiu2HAm4cDhdoZ4RzkcBnhi7JLvyj2wsX6MJiX8qKgQYijLXY5i"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2587/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55174/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2587/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ACDXm+KUKdRZPEDu/MEo+qqhDrjciVLmQBR7mdPYCeM="},{"messageHash":"ADQbAsol8ztibWlHZXD91ZVBkdtuUi5v0lxvlPfoX/Y="}],"paginationCursor":"ADQbAsol8ztibWlHZXD91ZVBkdtuUi5v0lxvlPfoX/Y="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=2&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ACDXm+KUKdRZPEDu/MEo+qqhDrjciVLmQBR7mdPYCeM="},{"messageHash":"ADQbAsol8ztibWlHZXD91ZVBkdtuUi5v0lxvlPfoX/Y="}],"paginationCursor":"ADQbAsol8ztibWlHZXD91ZVBkdtuUi5v0lxvlPfoX/Y="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2587/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=ADQbAsol8ztibWlHZXD91ZVBkdtuUi5v0lxvlPfoX%2FY%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"r4uGp9SldPAK1hLb7r9OjGVeZaEp2JE44Qsh2RIbh6g="},{"messageHash":"uCGPI9LlDuRacB3rTufWsM/MMKHRJoYv66ket7FfRv8="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=ADQbAsol8ztibWlHZXD91ZVBkdtuUi5v0lxvlPfoX%2FY%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"r4uGp9SldPAK1hLb7r9OjGVeZaEp2JE44Qsh2RIbh6g="},{"messageHash":"uCGPI9LlDuRacB3rTufWsM/MMKHRJoYv66ket7FfRv8="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 887eee17ee83
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 64c44bb94a46
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.