[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_non_base64_characters_in_hash with id: 2025-01-10_04-05-58__3e2582c0-9804-496f-a5a3-e63960879a0d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-10_04-05-58__3e2582c0-9804-496f-a5a3-e63960879a0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.53.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62905', '62906', '62907', '62908', '62909']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62905:62905 -p 62906:62906 -p 62907:62907 -p 62908:62908 -p 62909:62909 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62907 --rest-port=62905 --tcp-port=62906 --discv5-udp-port=62908 --rest-address=0.0.0.0 --nat=extip:172.18.53.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=36c74ae61d4b55b2cdabf7ad032db9e88088fa79b7ea8fada70b34dc717b1cc0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62909 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.53.167 waku 5f095505988e2f957b6a7b1f164a5ba6c3d0412565961af1c6db330025942070
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5f095505988e. Setting up logs at ./log/docker/publishing_node1_2025-01-10_04-05-58__3e2582c0-9804-496f-a5a3-e63960879a0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62905
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 96df24ad74b2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62905/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62905/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.167/tcp/62906/p2p/16Uiu2HAmHZNNue8uZabXZrWSZ9ZJ2qtKSLAXvMyBrfQyZyv7HGZL","/ip4/172.18.53.167/tcp/62907/ws/p2p/16Uiu2HAmHZNNue8uZabXZrWSZ9ZJ2qtKSLAXvMyBrfQyZyv7HGZL"],"enrUri":"enr:-L24QL2oXx4ZH-dr6YQU2bRuw6okDOwOv7JZmQwSZKYXVCK6GLy6l89u1kdwG8zHi2PUy6kd9lQrGhQ-NuPRG57L0jgCgmlkgnY0gmlwhKwSNaeKbXVsdGlhZGRyc5YACASsEjWnBvW6AAoErBI1pwb1u90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNnbV-GIUvz2hwh3cmXfHTcTnx8gYPKxrAaHF2j6k2-DdGNwgvW6g3VkcIL1vIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-10_04-05-58__3e2582c0-9804-496f-a5a3-e63960879a0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.120.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56393', '56394', '56395', '56396', '56397']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56393:56393 -p 56394:56394 -p 56395:56395 -p 56396:56396 -p 56397:56397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56395 --rest-port=56393 --tcp-port=56394 --discv5-udp-port=56396 --rest-address=0.0.0.0 --nat=extip:172.18.120.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb7efacc3114ca7aebefc8c02be8b176f05bd1faad974acbae1a998ceddecdbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56397 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QL2oXx4ZH-dr6YQU2bRuw6okDOwOv7JZmQwSZKYXVCK6GLy6l89u1kdwG8zHi2PUy6kd9lQrGhQ-NuPRG57L0jgCgmlkgnY0gmlwhKwSNaeKbXVsdGlhZGRyc5YACASsEjWnBvW6AAoErBI1pwb1u90DgnJzhQADAQAAiXNlY3AyNTZrMaEDSNnbV-GIUvz2hwh3cmXfHTcTnx8gYPKxrAaHF2j6k2-DdGNwgvW6g3VkcIL1vIV3YWt1MgM --storenode=/ip4/172.18.53.167/tcp/62906/p2p/16Uiu2HAmHZNNue8uZabXZrWSZ9ZJ2qtKSLAXvMyBrfQyZyv7HGZL --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.120.199 waku 9cfb2466b20040c5c15b4509c50cd790a3c3e3634cc4039858de3364b7e0f7b1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9cfb2466b200. Setting up logs at ./log/docker/store_node1_2025-01-10_04-05-58__3e2582c0-9804-496f-a5a3-e63960879a0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56393
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56393/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.199/tcp/56394/p2p/16Uiu2HAkvVZChtFGxB6PF5ky5qTqZzfgi1tCcowKQBUti8Fene6D","/ip4/172.18.120.199/tcp/56395/ws/p2p/16Uiu2HAkvVZChtFGxB6PF5ky5qTqZzfgi1tCcowKQBUti8Fene6D"],"enrUri":"enr:-L24QMg_fGHLOguem65JtGwHivaZftbc_kV3eabvCQAlNJ8xZAi9ngiE9RZHGR8IsawhxhPrVWAWmY1DQhfkdCqnxYQCgmlkgnY0gmlwhKwSeMeKbXVsdGlhZGRyc5YACASsEnjHBtxKAAoErBJ4xwbcS90DgnJzhQADAQAAiXNlY3AyNTZrMaECD9pY0k_ZxVTkGn6SsKZ842aMzkDIg5nJAb5DglEC_bqDdGNwgtxKg3VkcILcTIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.167/tcp/62906/p2p/16Uiu2HAmHZNNue8uZabXZrWSZ9ZJ2qtKSLAXvMyBrfQyZyv7HGZL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62905/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56393/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62905/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:62905/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: Incorrect base64 string'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56393/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:56393/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: Incorrect base64 string'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5f095505988e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9cfb2466b200
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5f095505988e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.