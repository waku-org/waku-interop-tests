[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_request_id with id: 2025-01-10_04-04-30__650e80b3-84ff-4614-9099-2989a9c221c6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-10_04-04-30__650e80b3-84ff-4614-9099-2989a9c221c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.141.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44212', '44213', '44214', '44215', '44216']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44212:44212 -p 44213:44213 -p 44214:44214 -p 44215:44215 -p 44216:44216 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44214 --rest-port=44212 --tcp-port=44213 --discv5-udp-port=44215 --rest-address=0.0.0.0 --nat=extip:172.18.141.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fa2e2039fbf8797c5cb16ecc1fd88531f15a07a8a6ef63b3ecdd2acf3a35f4ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44216 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.141.254 waku 272cac87b96e0292038a18e31121359c35b863603b864ed89079cd3c7ffd46b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 272cac87b96e. Setting up logs at ./log/docker/node1_2025-01-10_04-04-30__650e80b3-84ff-4614-9099-2989a9c221c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 44212
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f06aae9b793c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44212/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44212/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.254/tcp/44213/p2p/16Uiu2HAm74NiqdK6FzrDs3p2dFoLqxAiJKPPqZ8NwknyHHfArizE","/ip4/172.18.141.254/tcp/44214/ws/p2p/16Uiu2HAm74NiqdK6FzrDs3p2dFoLqxAiJKPPqZ8NwknyHHfArizE"],"enrUri":"enr:-L24QFJPcjXMQuW6FKC9nW-y0fieQDwdHey_l59a_G1Y1cRLLqV8E6OtBCgr7FX-d3iOa2x-xcq3Z1pkG4MRQ3D5lRkCgmlkgnY0gmlwhKwSjf6KbXVsdGlhZGRyc5YACASsEo3-Bqy1AAoErBKN_gastt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrNeIWoqN962z47JX0JB7BnLzao1o8mZrP4R_nLKmdrODdGNwgqy1g3VkcIKst4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-10_04-04-30__650e80b3-84ff-4614-9099-2989a9c221c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.69.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59987', '59988', '59989', '59990', '59991']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59987:59987 -p 59988:59988 -p 59989:59989 -p 59990:59990 -p 59991:59991 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59989 --rest-port=59987 --tcp-port=59988 --discv5-udp-port=59990 --rest-address=0.0.0.0 --nat=extip:172.18.69.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9fc9ada30fcfa641dae5bab5ac3cb0b5c1cddbb02e5cd9baed8efed9b8c7bdc8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59991 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QFJPcjXMQuW6FKC9nW-y0fieQDwdHey_l59a_G1Y1cRLLqV8E6OtBCgr7FX-d3iOa2x-xcq3Z1pkG4MRQ3D5lRkCgmlkgnY0gmlwhKwSjf6KbXVsdGlhZGRyc5YACASsEo3-Bqy1AAoErBKN_gastt0DgnJzhQADAQAAiXNlY3AyNTZrMaECrNeIWoqN962z47JX0JB7BnLzao1o8mZrP4R_nLKmdrODdGNwgqy1g3VkcIKst4V3YWt1MgU --filternode=/ip4/172.18.141.254/tcp/44213/p2p/16Uiu2HAm74NiqdK6FzrDs3p2dFoLqxAiJKPPqZ8NwknyHHfArizE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.69.122 waku a097b9e05b663c2f363c55bf35f133dbaf37873e9fe037972cc43bac220e01bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a097b9e05b66. Setting up logs at ./log/docker/node2_2025-01-10_04-04-30__650e80b3-84ff-4614-9099-2989a9c221c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59987
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59987/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59987/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.122/tcp/59988/p2p/16Uiu2HAkufJ2udfRR4YzzwpwjW8nWeBBp733JJffs2sPMdUz7KLN","/ip4/172.18.69.122/tcp/59989/ws/p2p/16Uiu2HAkufJ2udfRR4YzzwpwjW8nWeBBp733JJffs2sPMdUz7KLN"],"enrUri":"enr:-L24QKSl_9ZWWxq8V7dGJyHVdALYj8Tt7afhaEHlxx0N7BrlGqTi8sQsPesGbZtLun0CB4qHkhpAw9m3VDujfJ2HjrwCgmlkgnY0gmlwhKwSRXqKbXVsdGlhZGRyc5YACASsEkV6BupUAAoErBJFegbqVd0DgnJzhQADAQAAiXNlY3AyNTZrMaECA31RCrH3NaEdIqFK2Kh0Vo6eFGY2_XFwyhiqO5Dir0uDdGNwgupUg3VkcILqVoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59987/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.141.254/tcp/44213/p2p/16Uiu2HAm74NiqdK6FzrDs3p2dFoLqxAiJKPPqZ8NwknyHHfArizE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44212/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59987/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2549d4c7-b379-4dd2-9d65-bdd96c6432c4", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2549d4c7-b379-4dd2-9d65-bdd96c6432c4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59987/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59987/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 272cac87b96e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a097b9e05b66
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 272cac87b96e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.