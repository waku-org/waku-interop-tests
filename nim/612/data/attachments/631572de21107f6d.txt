[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.222.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8623', '8624', '8625', '8626', '8627']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8623:8623 -p 8624:8624 -p 8625:8625 -p 8626:8626 -p 8627:8627 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8625 --rest-port=8623 --tcp-port=8624 --discv5-udp-port=8626 --rest-address=0.0.0.0 --nat=extip:172.18.222.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=172707f0fc900fdad3e1ba83af5d1d40e76f014aa3fcecfadaa36fe30307e0be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8627 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.222.124 waku e1442dcdb9a00547b3d639bcc594d749b8d397f553b0c42c580d3b2e386b220c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e1442dcdb9a0. Setting up logs at ./log/docker/node1_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8623
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f2a5c82ab7a2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8623/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8623/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.124/tcp/8624/p2p/16Uiu2HAm7zWEws7JDL4cMiPU29r474pnMWUL7RKXepQw9mbLJUQr","/ip4/172.18.222.124/tcp/8625/ws/p2p/16Uiu2HAm7zWEws7JDL4cMiPU29r474pnMWUL7RKXepQw9mbLJUQr"],"enrUri":"enr:-L24QBGzwnFtNiWgywtosHQnFVQl9mffpVgAi2af-xH4U4SKEMK-NjLtO8JTFS5HdWiTr5L0RK0PEMvEn_7SjMLHrwYCgmlkgnY0gmlwhKwS3nyKbXVsdGlhZGRyc5YACASsEt58BiGwAAoErBLefAYhsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECurVl78rij8E2lrveuQgOULszvvEN5-3sZ92U2fqx00uDdGNwgiGwg3VkcIIhsoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61535', '61536', '61537', '61538', '61539']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61535:61535 -p 61536:61536 -p 61537:61537 -p 61538:61538 -p 61539:61539 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61537 --rest-port=61535 --tcp-port=61536 --discv5-udp-port=61538 --rest-address=0.0.0.0 --nat=extip:172.18.117.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de2f5223cbe11980eebd71ee7fcadfcad16ac15e6cd7d89729e03ddaca4b3cfa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61539 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBGzwnFtNiWgywtosHQnFVQl9mffpVgAi2af-xH4U4SKEMK-NjLtO8JTFS5HdWiTr5L0RK0PEMvEn_7SjMLHrwYCgmlkgnY0gmlwhKwS3nyKbXVsdGlhZGRyc5YACASsEt58BiGwAAoErBLefAYhsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECurVl78rij8E2lrveuQgOULszvvEN5-3sZ92U2fqx00uDdGNwgiGwg3VkcIIhsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.127 waku 973dcc976454b1bd80249f29b36eb134a3dd7ce2762579343c56f26fe162d775
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 973dcc976454. Setting up logs at ./log/docker/node2_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61535
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61535/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61535/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.127/tcp/61536/p2p/16Uiu2HAmLREfnCwSLr6NVL9aLM9sg43CDqXpWLHaFkMsyDYMLLrU","/ip4/172.18.117.127/tcp/61537/ws/p2p/16Uiu2HAmLREfnCwSLr6NVL9aLM9sg43CDqXpWLHaFkMsyDYMLLrU"],"enrUri":"enr:-L24QJWnapYuCT7348dE-0y4m4cUn0WlHZVGzUZZELyhMgeWY0QQ6MEdognqABTf2bOwBlnLBVn1IN5wbtTUU9amAsUCgmlkgnY0gmlwhKwSdX-KbXVsdGlhZGRyc5YACASsEnV_BvBgAAoErBJ1fwbwYd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc1eN7UNRt_dVBuJS2tJPFhKaUL-UoWM5m14zCj-AtnmDdGNwgvBgg3VkcILwYoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61535/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.124/tcp/8624/p2p/16Uiu2HAm7zWEws7JDL4cMiPU29r474pnMWUL7RKXepQw9mbLJUQr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27477', '27478', '27479', '27480', '27481']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27477:27477 -p 27478:27478 -p 27479:27479 -p 27480:27480 -p 27481:27481 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27479 --rest-port=27477 --tcp-port=27478 --discv5-udp-port=27480 --rest-address=0.0.0.0 --nat=extip:172.18.126.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4d1ae3627be918d1b3b0feed3ccc737b1bf9b4f7e34fbeafcf606df6b852afb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27481 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBGzwnFtNiWgywtosHQnFVQl9mffpVgAi2af-xH4U4SKEMK-NjLtO8JTFS5HdWiTr5L0RK0PEMvEn_7SjMLHrwYCgmlkgnY0gmlwhKwS3nyKbXVsdGlhZGRyc5YACASsEt58BiGwAAoErBLefAYhsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECurVl78rij8E2lrveuQgOULszvvEN5-3sZ92U2fqx00uDdGNwgiGwg3VkcIIhsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.57 waku e76c21e42c589787089eb7ab80985de4726411ab897caf3ef1b6ad4f8a73cc2e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e76c21e42c58. Setting up logs at ./log/docker/node3_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 27477
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27477/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27477/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.57/tcp/27478/p2p/16Uiu2HAm4HexcsV53PeTd58h1obBS1k5USRGe6H43QEJq3sQKBG7","/ip4/172.18.126.57/tcp/27479/ws/p2p/16Uiu2HAm4HexcsV53PeTd58h1obBS1k5USRGe6H43QEJq3sQKBG7"],"enrUri":"enr:-L24QMvY4R03Ac6mgwJPCckyFb2VJSMPKOns5M_ZW4qi1a0cJ8roOLtF0kl0Lw2zoQNyeo5mtZkrr3hFQnZpKE7_wAUCgmlkgnY0gmlwhKwSfjmKbXVsdGlhZGRyc5YACASsEn45BmtWAAoErBJ-OQZrV90DgnJzhQADAQAAiXNlY3AyNTZrMaECg6th3GSwB0ncJo4g6rjohgB78C1iVGokZXtMAYLtRtSDdGNwgmtWg3VkcIJrWIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27477/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.124/tcp/8624/p2p/16Uiu2HAm7zWEws7JDL4cMiPU29r474pnMWUL7RKXepQw9mbLJUQr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.27.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64534', '64535', '64536', '64537', '64538']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64534:64534 -p 64535:64535 -p 64536:64536 -p 64537:64537 -p 64538:64538 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64536 --rest-port=64534 --tcp-port=64535 --discv5-udp-port=64537 --rest-address=0.0.0.0 --nat=extip:172.18.27.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9fd4d6ecebff9333d9ee06ccbb1cca93baeae785f96c18cf65ebc2751b6ee4bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64538 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBGzwnFtNiWgywtosHQnFVQl9mffpVgAi2af-xH4U4SKEMK-NjLtO8JTFS5HdWiTr5L0RK0PEMvEn_7SjMLHrwYCgmlkgnY0gmlwhKwS3nyKbXVsdGlhZGRyc5YACASsEt58BiGwAAoErBLefAYhsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECurVl78rij8E2lrveuQgOULszvvEN5-3sZ92U2fqx00uDdGNwgiGwg3VkcIIhsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.27.44 waku 5cf7510f20015ab5fd18e8d490b934b8a58734c2e1e64790d0e9bd09c05a0013
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5cf7510f2001. Setting up logs at ./log/docker/node4_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64534
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64534/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64534/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.44/tcp/64535/p2p/16Uiu2HAkxxbfbCHiWyUyK9Mspaag85zSKQbads7JXeacME8A78HH","/ip4/172.18.27.44/tcp/64536/ws/p2p/16Uiu2HAkxxbfbCHiWyUyK9Mspaag85zSKQbads7JXeacME8A78HH"],"enrUri":"enr:-L24QBYVw5BuJjdgpbtWvcKtFzjuD5KIwG_RKfbJZcD1a3lgf0iqCWfP-IiD-7Sjg9yDLCqU2_MIn1MEk2wLKn_wIvsCgmlkgnY0gmlwhKwSGyyKbXVsdGlhZGRyc5YACASsEhssBvwXAAoErBIbLAb8GN0DgnJzhQADAQAAiXNlY3AyNTZrMaECNH8wLGt85PnzvsRGpeOrbqtrLsgO9tVEGD820dXKfcyDdGNwgvwXg3VkcIL8GYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64534/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.124/tcp/8624/p2p/16Uiu2HAm7zWEws7JDL4cMiPU29r474pnMWUL7RKXepQw9mbLJUQr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.112.160
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38093', '38094', '38095', '38096', '38097']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38093:38093 -p 38094:38094 -p 38095:38095 -p 38096:38096 -p 38097:38097 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38095 --rest-port=38093 --tcp-port=38094 --discv5-udp-port=38096 --rest-address=0.0.0.0 --nat=extip:172.18.112.160 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e65ec8ccf24b6b731eb36ec200f5abbc1c3aade3beedb97f72eebb91bd0edf9c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38097 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBGzwnFtNiWgywtosHQnFVQl9mffpVgAi2af-xH4U4SKEMK-NjLtO8JTFS5HdWiTr5L0RK0PEMvEn_7SjMLHrwYCgmlkgnY0gmlwhKwS3nyKbXVsdGlhZGRyc5YACASsEt58BiGwAAoErBLefAYhsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECurVl78rij8E2lrveuQgOULszvvEN5-3sZ92U2fqx00uDdGNwgiGwg3VkcIIhsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.112.160 waku f75d0a8f6b46cac6829f62f032658c8f313e27ca1310ee3284fd70710f0162c0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f75d0a8f6b46. Setting up logs at ./log/docker/node5_2025-01-10_04-04-03__4aa28f8f-44a5-48ab-b569-e0f033459364__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38093
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38093/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38093/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.160/tcp/38094/p2p/16Uiu2HAm7AB1KaPczt8cnYHJRZvGuebapxBJw1pxN5WaZj4gg4pD","/ip4/172.18.112.160/tcp/38095/ws/p2p/16Uiu2HAm7AB1KaPczt8cnYHJRZvGuebapxBJw1pxN5WaZj4gg4pD"],"enrUri":"enr:-L24QKnMkhyRug1kJGn-QieyCH-Qizhfwys0EeeulvhtH1SmbYSp7hCyEan_Ek4-hpCgCHaMIf86z3nxHwQ5-0MOCIcCgmlkgnY0gmlwhKwScKCKbXVsdGlhZGRyc5YACASsEnCgBpTOAAoErBJwoAaUz90DgnJzhQADAQAAiXNlY3AyNTZrMaECrlPFNgJ4jtJ1N3GJSm7nS9dq1yhbeZRMeuyFmodqHgaDdGNwgpTOg3VkcIKU0IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38093/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.124/tcp/8624/p2p/16Uiu2HAm7zWEws7JDL4cMiPU29r474pnMWUL7RKXepQw9mbLJUQr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8623/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61535/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27477/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64534/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38093/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850201277696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850201277696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27477/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850201277696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64534/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850201277696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38093/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850201277696,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38093/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850331832064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850331832064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27477/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850331832064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64534/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850331832064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38093/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736481850331832064,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e1442dcdb9a0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 973dcc976454
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e1442dcdb9a0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e76c21e42c58
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 973dcc976454. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5cf7510f2001
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e76c21e42c58. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f75d0a8f6b46
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5cf7510f2001. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.