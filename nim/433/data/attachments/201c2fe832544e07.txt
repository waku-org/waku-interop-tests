[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_negative_number_page_size with id: 2024-11-07_05-04-09__b1cf4c85-d983-4580-8e71-ec4439fc212b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-07_05-04-09__b1cf4c85-d983-4580-8e71-ec4439fc212b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.55.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34885', '34886', '34887', '34888', '34889']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34885:34885 -p 34886:34886 -p 34887:34887 -p 34888:34888 -p 34889:34889 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34887 --rest-port=34885 --tcp-port=34886 --discv5-udp-port=34888 --rest-address=0.0.0.0 --nat=extip:172.18.55.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4da4b14fdffbe2826d9f08400bb9288c7dd893f0fcb336e9c83ea65d0cb7acaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34889 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.55.30 waku 4644b65250ca64e41c99a0558dd744852189b0c8000e25bcfd04c8a94678d8e3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4644b65250ca. Setting up logs at ./log/docker/publishing_node1_2024-11-07_05-04-09__b1cf4c85-d983-4580-8e71-ec4439fc212b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34885
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 69acdc072a90. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34885/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34885/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.30/tcp/34886/p2p/16Uiu2HAkxv5yMcSjQM9Pn1z44UwjDuZv88vrkd6cKAuAf9hVMNuq","/ip4/172.18.55.30/tcp/34887/ws/p2p/16Uiu2HAkxv5yMcSjQM9Pn1z44UwjDuZv88vrkd6cKAuAf9hVMNuq"],"enrUri":"enr:-L24QG1Ap2cLi22ZOeb3lT-tOeLRarCF3PiuEGLqgSvtb-NtbwhoOjQtxKFB94VIU1R_m1Uk_vl8DaO_zq0rU2soV_MCgmlkgnY0gmlwhKwSNx6KbXVsdGlhZGRyc5YACASsEjceBohGAAoErBI3HgaIR90DgnJzhQADAQAAiXNlY3AyNTZrMaECM9pzqMLN0raCBgrDAxQOoinS9ZZuPHOCvqfaFFDDT8yDdGNwgohGg3VkcIKISIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-07_05-04-09__b1cf4c85-d983-4580-8e71-ec4439fc212b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.210.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35028', '35029', '35030', '35031', '35032']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35028:35028 -p 35029:35029 -p 35030:35030 -p 35031:35031 -p 35032:35032 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35030 --rest-port=35028 --tcp-port=35029 --discv5-udp-port=35031 --rest-address=0.0.0.0 --nat=extip:172.18.210.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6bbcc8c9b8a1cd4c6ffb9c8ad4e94c34c2ecf7a3ed050abbcbf7eeaa7dd2bd6d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35032 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QG1Ap2cLi22ZOeb3lT-tOeLRarCF3PiuEGLqgSvtb-NtbwhoOjQtxKFB94VIU1R_m1Uk_vl8DaO_zq0rU2soV_MCgmlkgnY0gmlwhKwSNx6KbXVsdGlhZGRyc5YACASsEjceBohGAAoErBI3HgaIR90DgnJzhQADAQAAiXNlY3AyNTZrMaECM9pzqMLN0raCBgrDAxQOoinS9ZZuPHOCvqfaFFDDT8yDdGNwgohGg3VkcIKISIV3YWt1MgM --storenode=/ip4/172.18.55.30/tcp/34886/p2p/16Uiu2HAkxv5yMcSjQM9Pn1z44UwjDuZv88vrkd6cKAuAf9hVMNuq --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.210.35 waku 248cb445f96c55297cadb3ede04888e7dcd069c3f36e503da8d51323b23ad3ec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 248cb445f96c. Setting up logs at ./log/docker/store_node1_2024-11-07_05-04-09__b1cf4c85-d983-4580-8e71-ec4439fc212b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35028
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35028/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35028/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.35/tcp/35029/p2p/16Uiu2HAkwXHcRhZsP9tXsEQAJWLnZ2QRgmUMVpKqMucKbTzREQXm","/ip4/172.18.210.35/tcp/35030/ws/p2p/16Uiu2HAkwXHcRhZsP9tXsEQAJWLnZ2QRgmUMVpKqMucKbTzREQXm"],"enrUri":"enr:-L24QIssplYJg7sK9X6ECEHuS8eUqKuEI3p1Kzt2J_zBsEpABSbbew3mtDLy6Houetspz7ltdmLQ7vb2fe83UlCxeD0CgmlkgnY0gmlwhKwS0iOKbXVsdGlhZGRyc5YACASsEtIjBojVAAoErBLSIwaI1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECHyeREitqX22rNVrkNBvQNeTMQa6Yd7RLMOX4w4fUCtyDdGNwgojVg3VkcIKI14V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35028/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.55.30/tcp/34886/p2p/16Uiu2HAkxv5yMcSjQM9Pn1z44UwjDuZv88vrkd6cKAuAf9hVMNuq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35028/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_page_size:test_page_size.py:53 requesting stored message with wrong page_size = -1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=-1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"JQYqZ3vK0IzOUTUh5QLiiXqxOHsTEJXwxzlsduthJsM="},{"messageHash":"fHM8InEQB/NiNFF+iKiUSpLP85rBrv/etHhu4fpkYZo="},{"messageHash":"rI33+WTM17oH8M+cZ4CWQkNy52Ed+td2l+7YxCEBoVU="},{"messageHash":"0iVAVCwLr7nCgdzH0LRbbo4YjrljX625ZT6WPibE7iw="},{"messageHash":"/8u3J+YsnLIBVjCBqjPrKc2er/Ol4Ll1/FVcjD4sbnU="},{"messageHash":"uLiygDTH9ciNLl2Ha6xnQkKG9QwWBDoFYrvmmX9oz/k="},{"messageHash":"eJldyM7Nki/9g4qV58wejWCMloeMysc8elWnWbVUpAs="},{"messageHash":"jLLuoT8F8LwreUuro7eHxJO04reL82Lc23wG7AFNZU0="},{"messageHash":"DuSRxVjGcE2M983vn79PeEIyDdyYvbKnAQuAEepKhjc="},{"messageHash":"EvqTTSmpy2lek5b00I5qoMEifcy7Nt5A3g08ljSHjv0="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35028/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=-1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"JQYqZ3vK0IzOUTUh5QLiiXqxOHsTEJXwxzlsduthJsM="},{"messageHash":"fHM8InEQB/NiNFF+iKiUSpLP85rBrv/etHhu4fpkYZo="},{"messageHash":"rI33+WTM17oH8M+cZ4CWQkNy52Ed+td2l+7YxCEBoVU="},{"messageHash":"0iVAVCwLr7nCgdzH0LRbbo4YjrljX625ZT6WPibE7iw="},{"messageHash":"/8u3J+YsnLIBVjCBqjPrKc2er/Ol4Ll1/FVcjD4sbnU="},{"messageHash":"uLiygDTH9ciNLl2Ha6xnQkKG9QwWBDoFYrvmmX9oz/k="},{"messageHash":"eJldyM7Nki/9g4qV58wejWCMloeMysc8elWnWbVUpAs="},{"messageHash":"jLLuoT8F8LwreUuro7eHxJO04reL82Lc23wG7AFNZU0="},{"messageHash":"DuSRxVjGcE2M983vn79PeEIyDdyYvbKnAQuAEepKhjc="},{"messageHash":"EvqTTSmpy2lek5b00I5qoMEifcy7Nt5A3g08ljSHjv0="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4644b65250ca
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 248cb445f96c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4644b65250ca. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.