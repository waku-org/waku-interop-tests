[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10954', '10955', '10956', '10957', '10958']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10954:10954 -p 10955:10955 -p 10956:10956 -p 10957:10957 -p 10958:10958 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10956 --rest-port=10954 --tcp-port=10955 --discv5-udp-port=10957 --rest-address=0.0.0.0 --nat=extip:172.18.22.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb14ad3abfcdc77bce91f6dbaba5e5a04fce477ff267411d3e7dcd1d64aca4bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10958 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.255 waku 3ee46a0191c5ab6310f3300e2c7c2742ec7d0c955c90bd70b46f8785b657ff03
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3ee46a0191c5. Setting up logs at ./log/docker/node1_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10954
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 24b378c23a69. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10954/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10954/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM","/ip4/172.18.22.255/tcp/10956/ws/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM"],"enrUri":"enr:-L24QECNQuqiVyNsdbJAe2McO1OpOz-CK5qqTrEK_b2lSkGBX9UbmnLbRHqpqdPul9_PqrpIRDh8pefQy2K3SUoLBM8CgmlkgnY0gmlwhKwSFv-KbXVsdGlhZGRyc5YACASsEhb_BirLAAoErBIW_wYqzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1UtNxTS7WLzS0CbAFeatzvZf1W7AeKnFSRAar-yDsPKDdGNwgirLg3VkcIIqzYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.253.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28854', '28855', '28856', '28857', '28858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28854:28854 -p 28855:28855 -p 28856:28856 -p 28857:28857 -p 28858:28858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28856 --rest-port=28854 --tcp-port=28855 --discv5-udp-port=28857 --rest-address=0.0.0.0 --nat=extip:172.18.253.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f14b8d95f7fd0a975d9069353f61b4ece0bc86da40a47d818e2e0b6e9a607b15 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28858 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QECNQuqiVyNsdbJAe2McO1OpOz-CK5qqTrEK_b2lSkGBX9UbmnLbRHqpqdPul9_PqrpIRDh8pefQy2K3SUoLBM8CgmlkgnY0gmlwhKwSFv-KbXVsdGlhZGRyc5YACASsEhb_BirLAAoErBIW_wYqzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1UtNxTS7WLzS0CbAFeatzvZf1W7AeKnFSRAar-yDsPKDdGNwgirLg3VkcIIqzYV3YWt1MgU --filternode=/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.253.81 waku de617f922b237710adeeb9c12f53f7eba8c8f6cd1d9e3e12ea5e9f3cade3956d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID de617f922b23. Setting up logs at ./log/docker/node2_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28854/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.81/tcp/28855/p2p/16Uiu2HAm23o7V1TtD3KPmJq274tmhJY63WdMccLSZRCuknitKvAZ","/ip4/172.18.253.81/tcp/28856/ws/p2p/16Uiu2HAm23o7V1TtD3KPmJq274tmhJY63WdMccLSZRCuknitKvAZ"],"enrUri":"enr:-L24QPYcAKWeK0Xs8s0I2mJoMyxFcgtkxDApH-FVKMUWFrphDRWFauSLJiVBuz7RwfomzWf9Fs2DKOhi6bXakn7RGboCgmlkgnY0gmlwhKwS_VGKbXVsdGlhZGRyc5YACASsEv1RBnC3AAoErBL9UQZwuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECYmcYdKAwsKseAe9R4xORCCnPnCLSRDqYco616qzTwP6DdGNwgnC3g3VkcIJwuYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.125.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25527', '25528', '25529', '25530', '25531']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25527:25527 -p 25528:25528 -p 25529:25529 -p 25530:25530 -p 25531:25531 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25529 --rest-port=25527 --tcp-port=25528 --discv5-udp-port=25530 --rest-address=0.0.0.0 --nat=extip:172.18.125.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3bd3744942077c61beabc1cfd8f8ca470dbe6cdd514be3b55edfebc6723a3d7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25531 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QECNQuqiVyNsdbJAe2McO1OpOz-CK5qqTrEK_b2lSkGBX9UbmnLbRHqpqdPul9_PqrpIRDh8pefQy2K3SUoLBM8CgmlkgnY0gmlwhKwSFv-KbXVsdGlhZGRyc5YACASsEhb_BirLAAoErBIW_wYqzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1UtNxTS7WLzS0CbAFeatzvZf1W7AeKnFSRAar-yDsPKDdGNwgirLg3VkcIIqzYV3YWt1MgU --filternode=/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.125.57 waku fcd1705339303a866f2fe78bde073c1b0524aabbb3e4627e6c8b0f959ea0fdc3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fcd170533930. Setting up logs at ./log/docker/node3_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25527
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25527/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25527/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.57/tcp/25528/p2p/16Uiu2HAm12gf6cP6uNUFZHdbR5GQHTRfTkzcpaoapunxZ6YRYMsm","/ip4/172.18.125.57/tcp/25529/ws/p2p/16Uiu2HAm12gf6cP6uNUFZHdbR5GQHTRfTkzcpaoapunxZ6YRYMsm"],"enrUri":"enr:-L24QAOpGPj9PX5qSMk_3Llkf3URRQbJpUp5efbmQ0vlRw5jV3rkJlEI6HvcTgGyr4OWDpf3GGokRZDpZ0tn8XfvnzgCgmlkgnY0gmlwhKwSfTmKbXVsdGlhZGRyc5YACASsEn05BmO4AAoErBJ9OQZjud0DgnJzhQADAQAAiXNlY3AyNTZrMaECU0KHeCTQp5QKw6cVLyLHCE6FhMj9Pzxn7FV6EMEBZUiDdGNwgmO4g3VkcIJjuoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25527/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34855', '34856', '34857', '34858', '34859']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34855:34855 -p 34856:34856 -p 34857:34857 -p 34858:34858 -p 34859:34859 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34857 --rest-port=34855 --tcp-port=34856 --discv5-udp-port=34858 --rest-address=0.0.0.0 --nat=extip:172.18.175.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0cca79fd5ac1be68e8fa8bceba4dd5bd3ceada2cfcdf68c5f67a6fbcc8eeb86a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34859 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QECNQuqiVyNsdbJAe2McO1OpOz-CK5qqTrEK_b2lSkGBX9UbmnLbRHqpqdPul9_PqrpIRDh8pefQy2K3SUoLBM8CgmlkgnY0gmlwhKwSFv-KbXVsdGlhZGRyc5YACASsEhb_BirLAAoErBIW_wYqzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1UtNxTS7WLzS0CbAFeatzvZf1W7AeKnFSRAar-yDsPKDdGNwgirLg3VkcIIqzYV3YWt1MgU --filternode=/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.49 waku b748b1a1efe7cbef036707aec6c822b0258385613f3694936d9b22fdf95355db
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b748b1a1efe7. Setting up logs at ./log/docker/node4_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34855
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34855/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34855/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.49/tcp/34856/p2p/16Uiu2HAkumTUJKx5Dc6xfT54ZegrFWmGHnr9NrpuadeAE8nrAW4R","/ip4/172.18.175.49/tcp/34857/ws/p2p/16Uiu2HAkumTUJKx5Dc6xfT54ZegrFWmGHnr9NrpuadeAE8nrAW4R"],"enrUri":"enr:-L24QOvyInPJEDbxAlUgh7kENUBJ_4x9VSbSOxYF8ijoKkgPHby7U_Vvg3npGm4xcx9Rx-RzizLmqOHrkq8GaGIs4rYCgmlkgnY0gmlwhKwSrzGKbXVsdGlhZGRyc5YACASsEq8xBogoAAoErBKvMQaIKd0DgnJzhQADAQAAiXNlY3AyNTZrMaECBRF5BpSvMjfQRAbtVdhWE0Ih7NrtbLBFS8SmwlwKbbKDdGNwgogog3VkcIKIKoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34855/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.36.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35275', '35276', '35277', '35278', '35279']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35275:35275 -p 35276:35276 -p 35277:35277 -p 35278:35278 -p 35279:35279 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35277 --rest-port=35275 --tcp-port=35276 --discv5-udp-port=35278 --rest-address=0.0.0.0 --nat=extip:172.18.36.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afc9d396e9bf79bd4c3d1e70d96f1ddbd1d770aebd8bdfa3c0fd12ec91f765cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35279 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QECNQuqiVyNsdbJAe2McO1OpOz-CK5qqTrEK_b2lSkGBX9UbmnLbRHqpqdPul9_PqrpIRDh8pefQy2K3SUoLBM8CgmlkgnY0gmlwhKwSFv-KbXVsdGlhZGRyc5YACASsEhb_BirLAAoErBIW_wYqzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC1UtNxTS7WLzS0CbAFeatzvZf1W7AeKnFSRAar-yDsPKDdGNwgirLg3VkcIIqzYV3YWt1MgU --filternode=/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.36.207 waku 6b50e1e45f963b2aee626146d1014be312ee87b20005a44c6dfd3f75a9e57aaa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6b50e1e45f96. Setting up logs at ./log/docker/node5_2024-11-06_16-48-13__16e6bdb4-a5bc-4bd1-8284-fca661665b62__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35275
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35275/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35275/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.36.207/tcp/35276/p2p/16Uiu2HAmAUyGnFqFUC9aidpBx693ntvD4tfKZwnUyugRzgSkDwvi","/ip4/172.18.36.207/tcp/35277/ws/p2p/16Uiu2HAmAUyGnFqFUC9aidpBx693ntvD4tfKZwnUyugRzgSkDwvi"],"enrUri":"enr:-L24QAyZawMKsuSqSfJvcuwmyE6s8viOu-3wVWxBsTfXt-47CY1F2sNnT5DsTZFytmg2IS4ZIjNS-B7l6wAC-pLj64wCgmlkgnY0gmlwhKwSJM-KbXVsdGlhZGRyc5YACASsEiTPBonMAAoErBIkzwaJzd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC37eZddtgBUFe8_O1nV8xhqPrh2x8tj23_DmlHdbcsjODdGNwgonMg3VkcIKJzoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35275/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.255/tcp/10955/p2p/16Uiu2HAm9nHREgp1oopT434Z5xcXweyYGipCPGRiqoASdGK7i6eM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10954/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28854/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4bcd55f9-d93c-4f50-af64-dd03a44ca0ab", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4bcd55f9-d93c-4f50-af64-dd03a44ca0ab","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25527/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dbd07ed9-41b2-4830-9f0a-78f2fbd41c2f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dbd07ed9-41b2-4830-9f0a-78f2fbd41c2f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34855/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ef54b4ed-bd88-4925-8a11-2717df394ee4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ef54b4ed-bd88-4925-8a11-2717df394ee4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35275/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7f9b41fe-477b-414d-9c3a-fe5c372b3232", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7f9b41fe-477b-414d-9c3a-fe5c372b3232","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28854/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730911701716331008,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25527/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:25527/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3ee46a0191c5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id de617f922b23
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3ee46a0191c5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fcd170533930
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container de617f922b23. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b748b1a1efe7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fcd170533930. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6b50e1e45f96
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b748b1a1efe7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.