[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63219', '63220', '63221', '63222', '63223']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63219:63219 -p 63220:63220 -p 63221:63221 -p 63222:63222 -p 63223:63223 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63221 --rest-port=63219 --tcp-port=63220 --discv5-udp-port=63222 --rest-address=0.0.0.0 --nat=extip:172.18.137.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2fe7e33cfdcb92475bc2bd1df6d4becaebcaedde1fc15c86d30adff4617bea2f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63223 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container df9744ad871c. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.137.239 waku e60f0e503e4ed62035fa86ad1e387eb818eb6879db7b76cbcbec1eb4d8fc9340
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e60f0e503e4e. Setting up logs at ./log/docker/node1_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63219
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63219/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63219/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.239/tcp/63220/p2p/16Uiu2HAm7EQgtBiKTbGSSpFBBZXyu7hakrd5Uzdr5xbqBXFBWifG","/ip4/172.18.137.239/tcp/63221/ws/p2p/16Uiu2HAm7EQgtBiKTbGSSpFBBZXyu7hakrd5Uzdr5xbqBXFBWifG"],"enrUri":"enr:-L24QPfyfH3l01JxGOTmLiBz80J61LrETyRlJzbH9dxog6UWCDvHwajJNQvlAx9UiQZ7cBidcvfcm9OyZhWZY_2osMoCgmlkgnY0gmlwhKwSie-KbXVsdGlhZGRyc5YACASsEonvBvb0AAoErBKJ7wb29d0DgnJzhQADAQAAiXNlY3AyNTZrMaECr2mQYklY7wJKI1ZsFqpjVkb3JcAqgWVGIntXt-uq39eDdGNwgvb0g3VkcIL29oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46461', '46462', '46463', '46464', '46465']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46461:46461 -p 46462:46462 -p 46463:46463 -p 46464:46464 -p 46465:46465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46463 --rest-port=46461 --tcp-port=46462 --discv5-udp-port=46464 --rest-address=0.0.0.0 --nat=extip:172.18.68.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad6fcb4b0acbdc6ac4d500db45ede1d7c95d6fe14713d9a54ee6727933ecbe4b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46465 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPfyfH3l01JxGOTmLiBz80J61LrETyRlJzbH9dxog6UWCDvHwajJNQvlAx9UiQZ7cBidcvfcm9OyZhWZY_2osMoCgmlkgnY0gmlwhKwSie-KbXVsdGlhZGRyc5YACASsEonvBvb0AAoErBKJ7wb29d0DgnJzhQADAQAAiXNlY3AyNTZrMaECr2mQYklY7wJKI1ZsFqpjVkb3JcAqgWVGIntXt-uq39eDdGNwgvb0g3VkcIL29oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.207 waku f739764aacfbdd7dc7ce552a42f6eca2911c16136f21584b267639e77dbc5788
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f739764aacfb. Setting up logs at ./log/docker/node2_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46461
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.207/tcp/46462/p2p/16Uiu2HAkwkYhAagbj5TibpQnWt2LHotoDWCinsJoZ1hXDbrJSxRe","/ip4/172.18.68.207/tcp/46463/ws/p2p/16Uiu2HAkwkYhAagbj5TibpQnWt2LHotoDWCinsJoZ1hXDbrJSxRe"],"enrUri":"enr:-L24QE6vX5hjQsizDq_gGMGanTIxvun1TVXcExDq4lqTMwWXRXpPJ9HDAPQ3U2KkDsLxfgcifJV_2Xj1umSKmBxdvx8CgmlkgnY0gmlwhKwSRM-KbXVsdGlhZGRyc5YACASsEkTPBrV-AAoErBJEzwa1f90DgnJzhQADAQAAiXNlY3AyNTZrMaECIo0rjtcMJDyqVFvufYG4suwfYABrEEFoA1_g1mzyiGmDdGNwgrV-g3VkcIK1gIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46461/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.239/tcp/63220/p2p/16Uiu2HAm7EQgtBiKTbGSSpFBBZXyu7hakrd5Uzdr5xbqBXFBWifG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50179', '50180', '50181', '50182', '50183']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50179:50179 -p 50180:50180 -p 50181:50181 -p 50182:50182 -p 50183:50183 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50181 --rest-port=50179 --tcp-port=50180 --discv5-udp-port=50182 --rest-address=0.0.0.0 --nat=extip:172.18.219.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ae6e39da6ca17a93a107ede08dc1f0d33f0eea5aabd4a5edb85fff6db5d63e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50183 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPfyfH3l01JxGOTmLiBz80J61LrETyRlJzbH9dxog6UWCDvHwajJNQvlAx9UiQZ7cBidcvfcm9OyZhWZY_2osMoCgmlkgnY0gmlwhKwSie-KbXVsdGlhZGRyc5YACASsEonvBvb0AAoErBKJ7wb29d0DgnJzhQADAQAAiXNlY3AyNTZrMaECr2mQYklY7wJKI1ZsFqpjVkb3JcAqgWVGIntXt-uq39eDdGNwgvb0g3VkcIL29oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.141 waku 0c5149678dd440caea4a0831c8a93199192f62f8ef4bd157d2687495428e2db1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0c5149678dd4. Setting up logs at ./log/docker/node3_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50179
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50179/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50179/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.141/tcp/50180/p2p/16Uiu2HAkxZ6npvdrTyRFzcdHA88xS7pW55F4EDyKM2RgoMMLDRvu","/ip4/172.18.219.141/tcp/50181/ws/p2p/16Uiu2HAkxZ6npvdrTyRFzcdHA88xS7pW55F4EDyKM2RgoMMLDRvu"],"enrUri":"enr:-L24QCTp1KvW26NQVzo3wsq2VwuG7OA43rbZNYEilIjgylUGeXY2Xmx6ovsSjO5yPqPcpJ4i3K5vguYM0kxslhSDEIMCgmlkgnY0gmlwhKwS242KbXVsdGlhZGRyc5YACASsEtuNBsQEAAoErBLbjQbEBd0DgnJzhQADAQAAiXNlY3AyNTZrMaECLnouJHOrT7IlHlZ3kb9KnWfkZ14fo1VmR1T-U151BSaDdGNwgsQEg3VkcILEBoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50179/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.239/tcp/63220/p2p/16Uiu2HAm7EQgtBiKTbGSSpFBBZXyu7hakrd5Uzdr5xbqBXFBWifG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.145.46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48416', '48417', '48418', '48419', '48420']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48416:48416 -p 48417:48417 -p 48418:48418 -p 48419:48419 -p 48420:48420 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48418 --rest-port=48416 --tcp-port=48417 --discv5-udp-port=48419 --rest-address=0.0.0.0 --nat=extip:172.18.145.46 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c94aea1b4a8e5ed8eaa7f6222c6bbc4ccb39f2393b2038dfcfd8bc2fa1fb67eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48420 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPfyfH3l01JxGOTmLiBz80J61LrETyRlJzbH9dxog6UWCDvHwajJNQvlAx9UiQZ7cBidcvfcm9OyZhWZY_2osMoCgmlkgnY0gmlwhKwSie-KbXVsdGlhZGRyc5YACASsEonvBvb0AAoErBKJ7wb29d0DgnJzhQADAQAAiXNlY3AyNTZrMaECr2mQYklY7wJKI1ZsFqpjVkb3JcAqgWVGIntXt-uq39eDdGNwgvb0g3VkcIL29oV3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.226.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15115', '15116', '15117', '15118', '15119']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15115:15115 -p 15116:15116 -p 15117:15117 -p 15118:15118 -p 15119:15119 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15117 --rest-port=15115 --tcp-port=15116 --discv5-udp-port=15118 --rest-address=0.0.0.0 --nat=extip:172.18.226.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ece46bbc0d96cc30c8de814b083dbaad3af282fade2e74bc38892f9c734556af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15119 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPfyfH3l01JxGOTmLiBz80J61LrETyRlJzbH9dxog6UWCDvHwajJNQvlAx9UiQZ7cBidcvfcm9OyZhWZY_2osMoCgmlkgnY0gmlwhKwSie-KbXVsdGlhZGRyc5YACASsEonvBvb0AAoErBKJ7wb29d0DgnJzhQADAQAAiXNlY3AyNTZrMaECr2mQYklY7wJKI1ZsFqpjVkb3JcAqgWVGIntXt-uq39eDdGNwgvb0g3VkcIL29oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.226.251 waku feeea9410fb0147cbdc1c27553ec1b0d44feadc9c599664fc619a20af6078f8c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID feeea9410fb0. Setting up logs at ./log/docker/node4_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15115
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15115/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15115/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.226.251/tcp/15116/p2p/16Uiu2HAm2MTBQjJJHEiicV2bUMcVtfFb97jZZ9gN5odcnVqDvGMd","/ip4/172.18.226.251/tcp/15117/ws/p2p/16Uiu2HAm2MTBQjJJHEiicV2bUMcVtfFb97jZZ9gN5odcnVqDvGMd"],"enrUri":"enr:-L24QBgm2NA6cxag0Ol_24xSaSQbLuUYrmUZLo4GRGPzev6PDbFcWAQWba6s1XMfBT6syZdmTnVCgRrFxSjy2sJ0LDgCgmlkgnY0gmlwhKwS4vuKbXVsdGlhZGRyc5YACASsEuL7BjsMAAoErBLi-wY7Dd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZu0DN0cy6Db7XxMasvVcgW6HXY48AWvFxzCpZ0_l2VCDdGNwgjsMg3VkcII7DoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15115/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.239/tcp/63220/p2p/16Uiu2HAm7EQgtBiKTbGSSpFBBZXyu7hakrd5Uzdr5xbqBXFBWifG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43798', '43799', '43800', '43801', '43802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43798:43798 -p 43799:43799 -p 43800:43800 -p 43801:43801 -p 43802:43802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43800 --rest-port=43798 --tcp-port=43799 --discv5-udp-port=43801 --rest-address=0.0.0.0 --nat=extip:172.18.241.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9fff21f7ccdbd97cc38e90adaddc8cfb0b8ccaaf5bf270c48da9dcff136c9147 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43802 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPfyfH3l01JxGOTmLiBz80J61LrETyRlJzbH9dxog6UWCDvHwajJNQvlAx9UiQZ7cBidcvfcm9OyZhWZY_2osMoCgmlkgnY0gmlwhKwSie-KbXVsdGlhZGRyc5YACASsEonvBvb0AAoErBKJ7wb29d0DgnJzhQADAQAAiXNlY3AyNTZrMaECr2mQYklY7wJKI1ZsFqpjVkb3JcAqgWVGIntXt-uq39eDdGNwgvb0g3VkcIL29oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.178 waku 889598d9873d3502f92fc9af57a25b0ad8bd9b35a0bab54bef7bf84361efe77a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 889598d9873d. Setting up logs at ./log/docker/node5_2024-11-06_16-55-36__aab89ea9-2c76-458d-8393-02c61ed6395e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.178/tcp/43799/p2p/16Uiu2HAmDCuJmz14ANb9Mvnyq84CqZ2n2spCjgtg8ZustCkixyS2","/ip4/172.18.241.178/tcp/43800/ws/p2p/16Uiu2HAmDCuJmz14ANb9Mvnyq84CqZ2n2spCjgtg8ZustCkixyS2"],"enrUri":"enr:-L24QCXwdm3fdOyUq14wZcT3OBoOqcdxyp-Vdk2Fjdbfxfe-UrgXrEOERw9X3My9yJBzrlb17KYAUuj4B-GsIUsWrNECgmlkgnY0gmlwhKwS8bKKbXVsdGlhZGRyc5YACASsEvGyBqsXAAoErBLxsgarGN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCCziJKwqo1152_MbbUiStjFtU9p_lpuPruBBS6wc29ODdGNwgqsXg3VkcIKrGYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43798/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.239/tcp/63220/p2p/16Uiu2HAm7EQgtBiKTbGSSpFBBZXyu7hakrd5Uzdr5xbqBXFBWifG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63219/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50179/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15115/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43798/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146741569280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146741569280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50179/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146741569280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146741569280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146741569280,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146885272320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146885272320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50179/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146885272320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146885272320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730912146885272320,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e60f0e503e4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f739764aacfb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e60f0e503e4e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0c5149678dd4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f739764aacfb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id feeea9410fb0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0c5149678dd4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 889598d9873d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container feeea9410fb0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.