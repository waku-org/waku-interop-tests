[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_paused_and_unpaused with id: 2024-09-17_04-37-34__fc0a3726-af12-4f9b-ae8b-5605bd98a291
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-17_04-37-34__fc0a3726-af12-4f9b-ae8b-5605bd98a291__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.84.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6552', '6553', '6554', '6555', '6556']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6552:6552 -p 6553:6553 -p 6554:6554 -p 6555:6555 -p 6556:6556 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6554 --rest-port=6552 --tcp-port=6553 --discv5-udp-port=6555 --rest-address=0.0.0.0 --nat=extip:172.18.84.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5d8a5fedfaddd27edb1e1bb663ebd5ddeeaae14489ad4baf3c45be1fbcbd4b1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6556 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.84.151 waku ee952a225a08aa641cac35a43c7ee87d686214754e4e5a6ed8f0f41a9edf1929
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ee952a225a08. Setting up logs at ./log/docker/publishing_node1_2024-09-17_04-37-34__fc0a3726-af12-4f9b-ae8b-5605bd98a291__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6552
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6552/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6552/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.151/tcp/6553/p2p/16Uiu2HAmS5MBZKLbvQCPQ4kAAsywMz9HE48aw2NPgAUKu5iBFhqx","/ip4/172.18.84.151/tcp/6554/ws/p2p/16Uiu2HAmS5MBZKLbvQCPQ4kAAsywMz9HE48aw2NPgAUKu5iBFhqx"],"enrUri":"enr:-LO4QBYFoXhVut4Hu9ITvE4MojAeUxGUnicx3To96ajtz9IDXNw6dSdxgGG9Zegd_NZNzeB9hGk7jqdso-_ZQf4PVHUBgmlkgnY0gmlwhKwSVJeKbXVsdGlhZGRyc4wACgSsElSXBhma3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPHZWys9EKvYTwkB5UHjMQ3LsixYywXPSEXDyjI96MnJ4N0Y3CCGZmDdWRwghmbhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-17_04-37-34__fc0a3726-af12-4f9b-ae8b-5605bd98a291__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.35.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38131', '38132', '38133', '38134', '38135']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38131:38131 -p 38132:38132 -p 38133:38133 -p 38134:38134 -p 38135:38135 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38133 --rest-port=38131 --tcp-port=38132 --discv5-udp-port=38134 --rest-address=0.0.0.0 --nat=extip:172.18.35.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffafd0fa859b8f71abcb4fa2fadf8ae1825efd0ea06a5daee152c7de5d63cf8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38135 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBYFoXhVut4Hu9ITvE4MojAeUxGUnicx3To96ajtz9IDXNw6dSdxgGG9Zegd_NZNzeB9hGk7jqdso-_ZQf4PVHUBgmlkgnY0gmlwhKwSVJeKbXVsdGlhZGRyc4wACgSsElSXBhma3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPHZWys9EKvYTwkB5UHjMQ3LsixYywXPSEXDyjI96MnJ4N0Y3CCGZmDdWRwghmbhXdha3UyAw --storenode=/ip4/172.18.84.151/tcp/6553/p2p/16Uiu2HAmS5MBZKLbvQCPQ4kAAsywMz9HE48aw2NPgAUKu5iBFhqx --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.35.55 waku bea158f4510954e8f8d966b0db6861be55cc2d1590cb7b2934f5c18de7bae3eb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bea158f45109. Setting up logs at ./log/docker/store_node1_2024-09-17_04-37-34__fc0a3726-af12-4f9b-ae8b-5605bd98a291__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38131
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.55/tcp/38132/p2p/16Uiu2HAmRqS31CVZmhxpHidcYPirn6p3ScDjcH8WMvu6RCP98gP8","/ip4/172.18.35.55/tcp/38133/ws/p2p/16Uiu2HAmRqS31CVZmhxpHidcYPirn6p3ScDjcH8WMvu6RCP98gP8"],"enrUri":"enr:-LO4QDMRB0E4GXM4OTq2GdYSxlexta--qTOBwboDsOfRths_NahhaXnyXbclzU916PVpXkpZL4Y1BpYhD8P70LFJjV0BgmlkgnY0gmlwhKwSIzeKbXVsdGlhZGRyc4wACgSsEiM3BpT13QOCcnOFAAMBAACJc2VjcDI1NmsxoQPD1Meq1T2V_wrcJvoL1MtRyUjaourTXUgfIVELDbYyl4N0Y3CClPSDdWRwgpT2hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38131/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.84.151/tcp/6553/p2p/16Uiu2HAmS5MBZKLbvQCPQ4kAAsywMz9HE48aw2NPgAUKu5iBFhqx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6552/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38131/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:215 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6552/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"y/S9n6UF05hNs05wnaS7Z2zN+rcwA29fGT4JNpS3fA8="}]}'
[35mDEBUG   [0m src.steps.store:store.py:215 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"y/S9n6UF05hNs05wnaS7Z2zN+rcwA29fGT4JNpS3fA8="}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:249 Pausing container with id bea158f45109
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:254 Unpause container with id bea158f45109
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.55/tcp/38132/p2p/16Uiu2HAmRqS31CVZmhxpHidcYPirn6p3ScDjcH8WMvu6RCP98gP8","/ip4/172.18.35.55/tcp/38133/ws/p2p/16Uiu2HAmRqS31CVZmhxpHidcYPirn6p3ScDjcH8WMvu6RCP98gP8"],"enrUri":"enr:-LO4QDMRB0E4GXM4OTq2GdYSxlexta--qTOBwboDsOfRths_NahhaXnyXbclzU916PVpXkpZL4Y1BpYhD8P70LFJjV0BgmlkgnY0gmlwhKwSIzeKbXVsdGlhZGRyc4wACgSsEiM3BpT13QOCcnOFAAMBAACJc2VjcDI1NmsxoQPD1Meq1T2V_wrcJvoL1MtRyUjaourTXUgfIVELDbYyl4N0Y3CClPSDdWRwgpT2hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6552/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:215 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6552/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"y/S9n6UF05hNs05wnaS7Z2zN+rcwA29fGT4JNpS3fA8="},{"messageHash":"pxfuApcPL+6hTvNizd9yDlKDVbvrLIvGVqwNZhgDA/Y="}]}'
[35mDEBUG   [0m src.steps.store:store.py:215 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"y/S9n6UF05hNs05wnaS7Z2zN+rcwA29fGT4JNpS3fA8="},{"messageHash":"pxfuApcPL+6hTvNizd9yDlKDVbvrLIvGVqwNZhgDA/Y="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6552/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"y/S9n6UF05hNs05wnaS7Z2zN+rcwA29fGT4JNpS3fA8="},{"messageHash":"pxfuApcPL+6hTvNizd9yDlKDVbvrLIvGVqwNZhgDA/Y="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38131/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"y/S9n6UF05hNs05wnaS7Z2zN+rcwA29fGT4JNpS3fA8="},{"messageHash":"pxfuApcPL+6hTvNizd9yDlKDVbvrLIvGVqwNZhgDA/Y="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ee952a225a08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bea158f45109
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.