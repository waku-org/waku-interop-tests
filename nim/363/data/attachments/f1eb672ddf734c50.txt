[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_without_request_id with id: 2024-09-17_04-14-50__d4883aed-bac9-4580-9f45-2f9d6053290e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-17_04-14-50__d4883aed-bac9-4580-9f45-2f9d6053290e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.149.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39380', '39381', '39382', '39383', '39384']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39380:39380 -p 39381:39381 -p 39382:39382 -p 39383:39383 -p 39384:39384 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39382 --rest-port=39380 --tcp-port=39381 --discv5-udp-port=39383 --rest-address=0.0.0.0 --nat=extip:172.18.149.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=accdb7255ddcec98a8dfef0acdc5b86f52954d209fbadd32454dc811d9b8886f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39384 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.249.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43306', '43307', '43308', '43309', '43310']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43306:43306 -p 43307:43307 -p 43308:43308 -p 43309:43309 -p 43310:43310 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43308 --rest-port=43306 --tcp-port=43307 --discv5-udp-port=43309 --rest-address=0.0.0.0 --nat=extip:172.18.249.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ad32dcba054ac9de3c1b07cbf1c7fa743ae2ebce935d0aae5ab6c9a03faa0e7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43310 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.249.15 waku 0fde446b452aad6182434ff76a363bc00a03eacdcf45ca75146c6562ebbe6306
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0fde446b452a. Setting up logs at ./log/docker/node1_2024-09-17_04-14-50__d4883aed-bac9-4580-9f45-2f9d6053290e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43306
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43306/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43306/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.15/tcp/43307/p2p/16Uiu2HAmJAz2WSJFQGptkrBebBNNvK4Nz9X7hATz4p8RPqYsxW3u","/ip4/172.18.249.15/tcp/43308/ws/p2p/16Uiu2HAmJAz2WSJFQGptkrBebBNNvK4Nz9X7hATz4p8RPqYsxW3u"],"enrUri":"enr:-LO4QPFPm4sii6uflK8Xq9YKuZiCTrL8z8GxzTL-CnE2hl9mfuZf6rN35ZscUo8sD6ohERfxRBCUwA9oBCM3GTtXg4IBgmlkgnY0gmlwhKwS-Q-KbXVsdGlhZGRyc4wACgSsEvkPBqks3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNR-X4lhHD7NWGoCBowMo2EHs2CURzy6qfqqRjofL5s1IN0Y3CCqSuDdWRwgqkthXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-17_04-14-50__d4883aed-bac9-4580-9f45-2f9d6053290e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.202.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11019', '11020', '11021', '11022', '11023']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11019:11019 -p 11020:11020 -p 11021:11021 -p 11022:11022 -p 11023:11023 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11021 --rest-port=11019 --tcp-port=11020 --discv5-udp-port=11022 --rest-address=0.0.0.0 --nat=extip:172.18.202.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad08bed48e0ac660867fbc09341047f2afe579be28a367bdb7d8aab50660e8df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11023 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QPFPm4sii6uflK8Xq9YKuZiCTrL8z8GxzTL-CnE2hl9mfuZf6rN35ZscUo8sD6ohERfxRBCUwA9oBCM3GTtXg4IBgmlkgnY0gmlwhKwS-Q-KbXVsdGlhZGRyc4wACgSsEvkPBqks3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNR-X4lhHD7NWGoCBowMo2EHs2CURzy6qfqqRjofL5s1IN0Y3CCqSuDdWRwgqkthXdha3UyBQ --filternode=/ip4/172.18.249.15/tcp/43307/p2p/16Uiu2HAmJAz2WSJFQGptkrBebBNNvK4Nz9X7hATz4p8RPqYsxW3u
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.202.34 waku f3fdc483fdb391a959d6ee4b119e80ae8f0a5d64c0e9b7ac7b96be117aeaea6f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f3fdc483fdb3. Setting up logs at ./log/docker/node2_2024-09-17_04-14-50__d4883aed-bac9-4580-9f45-2f9d6053290e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11019
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11019/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.202.34/tcp/11020/p2p/16Uiu2HAm4YVupVLDHcfi6uz9UaT5TVk2Lsc5kkY6tXnu6HyjCVpC","/ip4/172.18.202.34/tcp/11021/ws/p2p/16Uiu2HAm4YVupVLDHcfi6uz9UaT5TVk2Lsc5kkY6tXnu6HyjCVpC"],"enrUri":"enr:-LO4QECYRpxkKhfNd4s54OG6spkAE8qKX7XiSu7RqVdJ6aFdeVIPWtr44Az7wdPQ7yaH7bp5Ii72-dA-R2t-wFl48ckBgmlkgnY0gmlwhKwSyiKKbXVsdGlhZGRyc4wACgSsEsoiBisN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKHeN0N5LNCDYB-Z3Fzs9k_1La5ToGdBUQ3v0y3kkBYeYN0Y3CCKwyDdWRwgisOhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11019/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.15/tcp/43307/p2p/16Uiu2HAmJAz2WSJFQGptkrBebBNNvK4Nz9X7hATz4p8RPqYsxW3u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43306/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11019/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2e2ab432-9c5a-4586-ba93-3e47414fe7ea", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2e2ab432-9c5a-4586-ba93-3e47414fe7ea","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11019/filter/v2/subscriptions/" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0fde446b452a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f3fdc483fdb3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.