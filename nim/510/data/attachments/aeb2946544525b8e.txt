[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_extra_field with id: 2024-12-10_08-39-30__c2438198-1c1d-4472-94fa-6250b9c8fb94
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-10_08-39-30__c2438198-1c1d-4472-94fa-6250b9c8fb94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51506', '51507', '51508', '51509', '51510']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51506:51506 -p 51507:51507 -p 51508:51508 -p 51509:51509 -p 51510:51510 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51508 --rest-port=51506 --tcp-port=51507 --discv5-udp-port=51509 --rest-address=0.0.0.0 --nat=extip:172.18.20.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=60f562fdefecabcce5d4a55ec4ab989bfbdaff42fcd1513a9ec965c48b9bb58d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51510 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.170 waku c4144325c354cc7ff876a22c1420cb6f70229f37e3b1777563c7c13f8487469f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c4144325c354. Setting up logs at ./log/docker/node1_2024-12-10_08-39-30__c2438198-1c1d-4472-94fa-6250b9c8fb94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51506
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4ca54e6fc823. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51506/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51506/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.170/tcp/51507/p2p/16Uiu2HAmJLX6RgQZr6pFCVL5rsHn67WfnHLJjDjUekBAoy2QVPCp","/ip4/172.18.20.170/tcp/51508/ws/p2p/16Uiu2HAmJLX6RgQZr6pFCVL5rsHn67WfnHLJjDjUekBAoy2QVPCp"],"enrUri":"enr:-L24QLhNo55VjwPCj4vxi_fZycGZQ_pyTnE4Gk5nKuNb3M-bD3dGDdFzLkKKKqskhYqP_TARGS4SC7Fa9FYjgn_L_qECgmlkgnY0gmlwhKwSFKqKbXVsdGlhZGRyc5YACASsEhSqBskzAAoErBIUqgbJNN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVGrZJd8NIK7GmEFgNtch8Hnm9FXPCt_xBNFvUYKV9DWDdGNwgskzg3VkcILJNYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-10_08-39-30__c2438198-1c1d-4472-94fa-6250b9c8fb94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50138', '50139', '50140', '50141', '50142']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50138:50138 -p 50139:50139 -p 50140:50140 -p 50141:50141 -p 50142:50142 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50140 --rest-port=50138 --tcp-port=50139 --discv5-udp-port=50141 --rest-address=0.0.0.0 --nat=extip:172.18.56.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db7a36afaa402717e6d89fb29c6dcaa495d8a603ecbfed9e6780faab610b5c4a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50142 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QLhNo55VjwPCj4vxi_fZycGZQ_pyTnE4Gk5nKuNb3M-bD3dGDdFzLkKKKqskhYqP_TARGS4SC7Fa9FYjgn_L_qECgmlkgnY0gmlwhKwSFKqKbXVsdGlhZGRyc5YACASsEhSqBskzAAoErBIUqgbJNN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVGrZJd8NIK7GmEFgNtch8Hnm9FXPCt_xBNFvUYKV9DWDdGNwgskzg3VkcILJNYV3YWt1MgU --filternode=/ip4/172.18.20.170/tcp/51507/p2p/16Uiu2HAmJLX6RgQZr6pFCVL5rsHn67WfnHLJjDjUekBAoy2QVPCp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.130 waku 0e4bd0c05c06c06fbd61982c4ab2692b3830ce33d019cea5070fa20007175b27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e4bd0c05c06. Setting up logs at ./log/docker/node2_2024-12-10_08-39-30__c2438198-1c1d-4472-94fa-6250b9c8fb94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50138
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50138/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50138/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.130/tcp/50139/p2p/16Uiu2HAkzxveK8KsVvypwGFmErHFF25FGQ6J5TKX1PS2XmpNndbA","/ip4/172.18.56.130/tcp/50140/ws/p2p/16Uiu2HAkzxveK8KsVvypwGFmErHFF25FGQ6J5TKX1PS2XmpNndbA"],"enrUri":"enr:-L24QL_s9dfGcLbNJZqhoqhPFm8m41p0gGSwCDf1_qbfoDB5K_oNaXyd3w8i9hFCCNsVG4ZeL0UEKMcF7NxBQZq3TrkCgmlkgnY0gmlwhKwSOIKKbXVsdGlhZGRyc5YACASsEjiCBsPbAAoErBI4ggbD3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECUkwFP7Mp4Fy7Zd8gEFK9wpReVFBJRnBgT0URiHXGtYWDdGNwgsPbg3VkcILD3YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50138/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.170/tcp/51507/p2p/16Uiu2HAmJLX6RgQZr6pFCVL5rsHn67WfnHLJjDjUekBAoy2QVPCp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51506/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50138/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d449a639-9fdc-4891-b7f4-f12338b8330b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d449a639-9fdc-4891-b7f4-f12338b8330b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:50138/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1, "extraField": "extraValue"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:50138/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c4144325c354
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0e4bd0c05c06
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c4144325c354. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.