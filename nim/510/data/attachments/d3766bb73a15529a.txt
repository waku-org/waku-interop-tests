[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_negative_number_page_size with id: 2024-12-10_08-58-03__ce8e659e-73b5-4677-b02b-9be1be6d7170
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-10_08-58-03__ce8e659e-73b5-4677-b02b-9be1be6d7170__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43660', '43661', '43662', '43663', '43664']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43660:43660 -p 43661:43661 -p 43662:43662 -p 43663:43663 -p 43664:43664 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43662 --rest-port=43660 --tcp-port=43661 --discv5-udp-port=43663 --rest-address=0.0.0.0 --nat=extip:172.18.121.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bb46ce40bea8ba924ef31977a459f8eddb5d0adb7cdcdafa53ecde0de6308e3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43664 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.240 waku f4997b4af0bc6ffa414f4ba2a1d8a716f50e7137a6f7026f88f0c4a086419072
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f4997b4af0bc. Setting up logs at ./log/docker/publishing_node1_2024-12-10_08-58-03__ce8e659e-73b5-4677-b02b-9be1be6d7170__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43660
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c4dacb562b99. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43660/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43660/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.240/tcp/43661/p2p/16Uiu2HAmNvHLGSco5DajxWd1VjRkZMma5NL71ZaceVamtpwAP8Tu","/ip4/172.18.121.240/tcp/43662/ws/p2p/16Uiu2HAmNvHLGSco5DajxWd1VjRkZMma5NL71ZaceVamtpwAP8Tu"],"enrUri":"enr:-L24QGP6W-aa2ZmHICWI7gPQ6KJTDQVbEpEBwrLR7EAa17fqXOEmBVaJ9CYGWIgy0D4vZkzCKrsqRPrf8mQQ6iGgu-QCgmlkgnY0gmlwhKwSefCKbXVsdGlhZGRyc5YACASsEnnwBqqNAAoErBJ58Aaqjt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmH_Ijkje4cRNzN4TZgdT4A6X5CB-hxzFa3xhtANnMhSDdGNwgqqNg3VkcIKqj4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-10_08-58-03__ce8e659e-73b5-4677-b02b-9be1be6d7170__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61549', '61550', '61551', '61552', '61553']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61549:61549 -p 61550:61550 -p 61551:61551 -p 61552:61552 -p 61553:61553 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61551 --rest-port=61549 --tcp-port=61550 --discv5-udp-port=61552 --rest-address=0.0.0.0 --nat=extip:172.18.117.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfa4ff59a02b9ea22e1c475622d36d113c0ca1a63baffcb8fda7d1fa5bea0dac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61553 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGP6W-aa2ZmHICWI7gPQ6KJTDQVbEpEBwrLR7EAa17fqXOEmBVaJ9CYGWIgy0D4vZkzCKrsqRPrf8mQQ6iGgu-QCgmlkgnY0gmlwhKwSefCKbXVsdGlhZGRyc5YACASsEnnwBqqNAAoErBJ58Aaqjt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmH_Ijkje4cRNzN4TZgdT4A6X5CB-hxzFa3xhtANnMhSDdGNwgqqNg3VkcIKqj4V3YWt1MgM --storenode=/ip4/172.18.121.240/tcp/43661/p2p/16Uiu2HAmNvHLGSco5DajxWd1VjRkZMma5NL71ZaceVamtpwAP8Tu --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.38 waku 0f7dc299dad728fc3bb972e990fa5f7bd5f73e98efa8b269e76b75d54349d3a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0f7dc299dad7. Setting up logs at ./log/docker/store_node1_2024-12-10_08-58-03__ce8e659e-73b5-4677-b02b-9be1be6d7170__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61549
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61549/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61549/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.38/tcp/61550/p2p/16Uiu2HAmKqYBcomwbgbiM5smr5GSQ3cnah412P79WEosPQrhRveB","/ip4/172.18.117.38/tcp/61551/ws/p2p/16Uiu2HAmKqYBcomwbgbiM5smr5GSQ3cnah412P79WEosPQrhRveB"],"enrUri":"enr:-L24QFKLfMVHKckWLh_jjbxHedtcuMcM83fMy68rucH-e_dxeHB205l4LQhyjed7PBvOkWDBepbORuzSd6GR7jK_i0wCgmlkgnY0gmlwhKwSdSaKbXVsdGlhZGRyc5YACASsEnUmBvBuAAoErBJ1Jgbwb90DgnJzhQADAQAAiXNlY3AyNTZrMaEDarWcTHYnkLIYJgsmKn2xvsSsgt3LK-wJSCgzR_iXE4CDdGNwgvBug3VkcILwcIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61549/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.240/tcp/43661/p2p/16Uiu2HAmNvHLGSco5DajxWd1VjRkZMma5NL71ZaceVamtpwAP8Tu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61549/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_page_size:test_page_size.py:53 requesting stored message with wrong page_size = -1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43660/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=-1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"wRNYQrPWEbVX3XU5k/dYcMSVV45xQ7cgSdnRxP+EpPw="},{"messageHash":"9/NbKfkOiAFa8eFMNGh3m+dTzK+cDzSbczdbW3iihkc="},{"messageHash":"NfeHgs/jV9VmzSO8wRjI9q6l7KeeoSwdxoxns3HSoM4="},{"messageHash":"u327J2LUV+fUvHvndJe3KOOha401oL0CZDpuqy0Cco4="},{"messageHash":"lKcNezrUMcjT+Y7fXVD8m/uJmlozAcb2PHe0z5fyiwU="},{"messageHash":"ASZFFOBk2mkbCLBjZxn/3W2kvyXI8g5nwEF4IvmPD/M="},{"messageHash":"NYIRomNT3Z3m9IwXPyQxDgCnWBA0h+5KdfYHwB7kcWM="},{"messageHash":"Qp1YnmzzxDkxrPt2UMBr10c50Q/9bJ+EoAzt6QGo7ZU="},{"messageHash":"bkXXR91qZZ/AfUkQpGjxPYrPSXU8b+Uj8uANrTI4XOg="},{"messageHash":"RTV9J6osEV+bFOOF1Wbh1I6KM/B5nEmFq3Qx+Gcr5gk="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61549/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=-1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"wRNYQrPWEbVX3XU5k/dYcMSVV45xQ7cgSdnRxP+EpPw="},{"messageHash":"9/NbKfkOiAFa8eFMNGh3m+dTzK+cDzSbczdbW3iihkc="},{"messageHash":"NfeHgs/jV9VmzSO8wRjI9q6l7KeeoSwdxoxns3HSoM4="},{"messageHash":"u327J2LUV+fUvHvndJe3KOOha401oL0CZDpuqy0Cco4="},{"messageHash":"lKcNezrUMcjT+Y7fXVD8m/uJmlozAcb2PHe0z5fyiwU="},{"messageHash":"ASZFFOBk2mkbCLBjZxn/3W2kvyXI8g5nwEF4IvmPD/M="},{"messageHash":"NYIRomNT3Z3m9IwXPyQxDgCnWBA0h+5KdfYHwB7kcWM="},{"messageHash":"Qp1YnmzzxDkxrPt2UMBr10c50Q/9bJ+EoAzt6QGo7ZU="},{"messageHash":"bkXXR91qZZ/AfUkQpGjxPYrPSXU8b+Uj8uANrTI4XOg="},{"messageHash":"RTV9J6osEV+bFOOF1Wbh1I6KM/B5nEmFq3Qx+Gcr5gk="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f4997b4af0bc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0f7dc299dad7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f4997b4af0bc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.