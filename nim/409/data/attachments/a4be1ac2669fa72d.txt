[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.153.48
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61979', '61980', '61981', '61982', '61983']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61979:61979 -p 61980:61980 -p 61981:61981 -p 61982:61982 -p 61983:61983 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61981 --rest-port=61979 --tcp-port=61980 --discv5-udp-port=61982 --rest-address=0.0.0.0 --nat=extip:172.18.153.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4ee3d0de7eff1a3ec83f8c11fbc93e4cb975a6bcbb1ff2ea82b48cde16d7bec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61983 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1667fe595ae4. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.153.48 waku 90d19fcc3c5851e1383d7a9aba70c617981fd530f9a53271722cac97e34bfae0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 90d19fcc3c58. Setting up logs at ./log/docker/node1_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61979
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61979/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61979/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.48/tcp/61980/p2p/16Uiu2HAky82oi1MdqKfB7395mBMRtUAzUFA3CQP4bwZDNH94nafL","/ip4/172.18.153.48/tcp/61981/ws/p2p/16Uiu2HAky82oi1MdqKfB7395mBMRtUAzUFA3CQP4bwZDNH94nafL"],"enrUri":"enr:-LO4QEwJyYd06tCCVC1EVNQV9JnGIltNULvPHI1oKZZPAW24eXLtELFOGPGeuOKgnM1aK7gbfqHU0Wk0nAa6P76jIhIBgmlkgnY0gmlwhKwSmTCKbXVsdGlhZGRyc4wACgSsEpkwBvId3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI26ddfUVDZog5QMWf3nIxhSWQKGxFM3fZxb9V3IhKsC4N0Y3CC8hyDdWRwgvIehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.170.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45834', '45835', '45836', '45837', '45838']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45834:45834 -p 45835:45835 -p 45836:45836 -p 45837:45837 -p 45838:45838 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45836 --rest-port=45834 --tcp-port=45835 --discv5-udp-port=45837 --rest-address=0.0.0.0 --nat=extip:172.18.170.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eddcb4dad2ad140ee4552f140e6f2ac4187883e3ed4e1bcf2f019d9f8babc15a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45838 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEwJyYd06tCCVC1EVNQV9JnGIltNULvPHI1oKZZPAW24eXLtELFOGPGeuOKgnM1aK7gbfqHU0Wk0nAa6P76jIhIBgmlkgnY0gmlwhKwSmTCKbXVsdGlhZGRyc4wACgSsEpkwBvId3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI26ddfUVDZog5QMWf3nIxhSWQKGxFM3fZxb9V3IhKsC4N0Y3CC8hyDdWRwgvIehXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.170.41 waku 740df751f17c83c31bf4526e2313dbd9caa34aaf78daa3b7d651163e573b5f0e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 740df751f17c. Setting up logs at ./log/docker/node2_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45834
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45834/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45834/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.41/tcp/45835/p2p/16Uiu2HAmAwuTvTtgxbPaPdk9vyaAMfv5BY4o7LRLmEdSib19CuKT","/ip4/172.18.170.41/tcp/45836/ws/p2p/16Uiu2HAmAwuTvTtgxbPaPdk9vyaAMfv5BY4o7LRLmEdSib19CuKT"],"enrUri":"enr:-LO4QNk8G0jFpCRHF0ot6X5MUEYPZK3jkr-SJqL6waUpdq9fXKBqPhrFNlMFiFes3d-Q8ZVI4Cu85M2rhBw4A02MiZMBgmlkgnY0gmlwhKwSqimKbXVsdGlhZGRyc4wACgSsEqopBrMM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLmnfnGrYqsEM658vWZOsaMFYcbeWbiKl20w7CeCp0_toN0Y3CCswuDdWRwgrMNhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45834/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.48/tcp/61980/p2p/16Uiu2HAky82oi1MdqKfB7395mBMRtUAzUFA3CQP4bwZDNH94nafL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36777', '36778', '36779', '36780', '36781']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36777:36777 -p 36778:36778 -p 36779:36779 -p 36780:36780 -p 36781:36781 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36779 --rest-port=36777 --tcp-port=36778 --discv5-udp-port=36780 --rest-address=0.0.0.0 --nat=extip:172.18.244.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f27286f81ba7bcf912ced1644280a97bcd6159f8a01ed61977f0aeea36dbe40a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36781 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEwJyYd06tCCVC1EVNQV9JnGIltNULvPHI1oKZZPAW24eXLtELFOGPGeuOKgnM1aK7gbfqHU0Wk0nAa6P76jIhIBgmlkgnY0gmlwhKwSmTCKbXVsdGlhZGRyc4wACgSsEpkwBvId3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI26ddfUVDZog5QMWf3nIxhSWQKGxFM3fZxb9V3IhKsC4N0Y3CC8hyDdWRwgvIehXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.212 waku 14084614265c0a63863f4f6b1fb9cb540f4e46c6f8173f1db124a34e6f2fcfdf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 14084614265c. Setting up logs at ./log/docker/node3_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36777
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36777/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36777/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.212/tcp/36778/p2p/16Uiu2HAmCFm5k2VCPgeXNM3MyNFX9hUjwneZd3U1mGvCbAXL1YSY","/ip4/172.18.244.212/tcp/36779/ws/p2p/16Uiu2HAmCFm5k2VCPgeXNM3MyNFX9hUjwneZd3U1mGvCbAXL1YSY"],"enrUri":"enr:-LO4QG5Peza2l2qqR0KUMPF559Rp5GQTlB3NDNS6xOwEpe8ILHr7UKQgDzC7h8_cvOfL-5vAlbhade-Fp9uHeLYnhXcBgmlkgnY0gmlwhKwS9NSKbXVsdGlhZGRyc4wACgSsEvTUBo-r3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL6DKOfgxduejYy02nrzsKoAIbA9tYrvjPH4oUf_6DEVYN0Y3CCj6qDdWRwgo-shXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36777/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.48/tcp/61980/p2p/16Uiu2HAky82oi1MdqKfB7395mBMRtUAzUFA3CQP4bwZDNH94nafL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48604', '48605', '48606', '48607', '48608']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48604:48604 -p 48605:48605 -p 48606:48606 -p 48607:48607 -p 48608:48608 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48606 --rest-port=48604 --tcp-port=48605 --discv5-udp-port=48607 --rest-address=0.0.0.0 --nat=extip:172.18.196.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=33c7bbc9c0da0c9ea45b1e662aa0dd955feecede8eecce4e8eee99ca39faa017 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48608 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEwJyYd06tCCVC1EVNQV9JnGIltNULvPHI1oKZZPAW24eXLtELFOGPGeuOKgnM1aK7gbfqHU0Wk0nAa6P76jIhIBgmlkgnY0gmlwhKwSmTCKbXVsdGlhZGRyc4wACgSsEpkwBvId3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI26ddfUVDZog5QMWf3nIxhSWQKGxFM3fZxb9V3IhKsC4N0Y3CC8hyDdWRwgvIehXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.128 waku 417fb0d970a41280580e0c859a9c3b85aa8113446ea9a3cdf57aa857bda0541f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 417fb0d970a4. Setting up logs at ./log/docker/node4_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48604
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48604/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48604/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.128/tcp/48605/p2p/16Uiu2HAkzRqeNoWLvjhb88z9yhktnA9hvqr1vsVJ1TuurkBBWnWz","/ip4/172.18.196.128/tcp/48606/ws/p2p/16Uiu2HAkzRqeNoWLvjhb88z9yhktnA9hvqr1vsVJ1TuurkBBWnWz"],"enrUri":"enr:-LO4QBm6qvmjyTTD4zaq6AseSldsI1xE7QLPLbTNHyxJynXwLeTnXkyB-OI2_6t19Sc9FzWQn9APVGjwB9Vh9kiV3VIBgmlkgnY0gmlwhKwSxICKbXVsdGlhZGRyc4wACgSsEsSABr3e3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJKVVz2smnvU5DjoZQGwSZXDHzQoE50dQ-aE2HCWDVKx4N0Y3CCvd2DdWRwgr3fhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48604/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.48/tcp/61980/p2p/16Uiu2HAky82oi1MdqKfB7395mBMRtUAzUFA3CQP4bwZDNH94nafL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.141.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15842', '15843', '15844', '15845', '15846']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15842:15842 -p 15843:15843 -p 15844:15844 -p 15845:15845 -p 15846:15846 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15844 --rest-port=15842 --tcp-port=15843 --discv5-udp-port=15845 --rest-address=0.0.0.0 --nat=extip:172.18.141.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca4b6caee0aff32dd13aefbdcb30719dd0c5c74d3a9b9c9ee2acb1f046015139 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15846 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEwJyYd06tCCVC1EVNQV9JnGIltNULvPHI1oKZZPAW24eXLtELFOGPGeuOKgnM1aK7gbfqHU0Wk0nAa6P76jIhIBgmlkgnY0gmlwhKwSmTCKbXVsdGlhZGRyc4wACgSsEpkwBvId3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI26ddfUVDZog5QMWf3nIxhSWQKGxFM3fZxb9V3IhKsC4N0Y3CC8hyDdWRwgvIehXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.141.139 waku 9146393cf90335f73b26e7d35dae6f52b1abc9fdec5303f36a413d6187bc9cd6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9146393cf903. Setting up logs at ./log/docker/node5_2024-10-27_11-27-37__ca7147ad-1382-458f-aa4c-5e6af3cef923__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15842
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15842/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15842/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.139/tcp/15843/p2p/16Uiu2HAmAhygz9BCUJrcd4fkbwGtTJex6wmR7RuunJGaq7aKqHbD","/ip4/172.18.141.139/tcp/15844/ws/p2p/16Uiu2HAmAhygz9BCUJrcd4fkbwGtTJex6wmR7RuunJGaq7aKqHbD"],"enrUri":"enr:-LO4QOoVEg9yn04TPo9igkUvRfecaJvVjbI_Wj1r2JWB7ns-RUBknutWRUdl_NK0bbui9m6ZDSYroiN0xtXwyddT8K8BgmlkgnY0gmlwhKwSjYuKbXVsdGlhZGRyc4wACgSsEo2LBj3k3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLjDJ8xOEqJVM5YFPHbHFrToVLKshncHFBeigbHLU1GwIN0Y3CCPeODdWRwgj3lhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15842/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.48/tcp/61980/p2p/16Uiu2HAky82oi1MdqKfB7395mBMRtUAzUFA3CQP4bwZDNH94nafL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61979/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45834/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36777/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48604/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15842/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467356484352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467356484352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36777/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467356484352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467356484352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467356484352,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61979/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467508199168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45834/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467508199168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36777/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467508199168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467508199168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730028467508199168,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 90d19fcc3c58
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 740df751f17c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 90d19fcc3c58. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 14084614265c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 740df751f17c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 417fb0d970a4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 14084614265c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9146393cf903
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 417fb0d970a4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.