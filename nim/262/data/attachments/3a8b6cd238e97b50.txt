[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node1_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.51.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['48961', '48962', '48963', '48964', '48965']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 48961:48961 -p 48962:48962 -p 48963:48963 -p 48964:48964 -p 48965:48965 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48963 --rest-port=48961 --tcp-port=48962 --discv5-udp-port=48964 --rest-address=0.0.0.0 --nat=extip:172.18.51.98 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48965 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.51.98 waku 72035be32ce6cfdc051a48c633c9bc75e6f0031580a8ee11ca5ca7c06b5f3185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 72035be32ce6. Setting up logs at ./log/docker/node1_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 48961
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48961/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48961/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.51.98/tcp/48963/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QIL3QgPe7hQdy78Tf6YXp866yts4zPnRUdo3Cmdcx9xzdSdsjMu_8FyF--0mAd82umbPTuKeJ7sIsmUg21gA71IBgmlkgnY0gmlwhKwSM2KKbXVsdGlhZGRyc4wACgSsEjNiBr9D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCv0KDdWRwgr9EhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node2_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.14.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['23559', '23560', '23561', '23562', '23563']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 23559:23559 -p 23560:23560 -p 23561:23561 -p 23562:23562 -p 23563:23563 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23561 --rest-port=23559 --tcp-port=23560 --discv5-udp-port=23562 --rest-address=0.0.0.0 --nat=extip:172.18.14.249 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23563 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QIL3QgPe7hQdy78Tf6YXp866yts4zPnRUdo3Cmdcx9xzdSdsjMu_8FyF--0mAd82umbPTuKeJ7sIsmUg21gA71IBgmlkgnY0gmlwhKwSM2KKbXVsdGlhZGRyc4wACgSsEjNiBr9D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCv0KDdWRwgr9EhXdha3UyBQ --filternode=/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.14.249 waku 4369249381ccb53aa110e3018bbeb5e00e9e355d694d8dc7700950cb9ac1e6e4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4369249381cc. Setting up logs at ./log/docker/node2_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 23559
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23559/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23559/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.249/tcp/23560/p2p/16Uiu2HAmFDvuH9H8RZmrHsdp6aYj3zYmqnHoPmi8yVVcgaCywVcu","/ip4/172.18.14.249/tcp/23561/ws/p2p/16Uiu2HAmFDvuH9H8RZmrHsdp6aYj3zYmqnHoPmi8yVVcgaCywVcu"],"enrUri":"enr:-LO4QAQ8ycmZ3yJAFHmL4UhrKv6tvjxGdJ0ZITDRAdURJS2CGDziTiO3wViqJ1IpbL6dqFVw2xj0C0-v7EULdAesEYEBgmlkgnY0gmlwhKwSDvmKbXVsdGlhZGRyc4wACgSsEg75BlwJ3QOCcnOFAAABAACJc2VjcDI1NmsxoQMmJ6QwfdEvCoPxDUl0Qenvy4KgHDfRQz8F3b1dOcBoooN0Y3CCXAiDdWRwglwKhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23559/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node3_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.11.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['24053', '24054', '24055', '24056', '24057']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 24053:24053 -p 24054:24054 -p 24055:24055 -p 24056:24056 -p 24057:24057 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24055 --rest-port=24053 --tcp-port=24054 --discv5-udp-port=24056 --rest-address=0.0.0.0 --nat=extip:172.18.11.33 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24057 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QIL3QgPe7hQdy78Tf6YXp866yts4zPnRUdo3Cmdcx9xzdSdsjMu_8FyF--0mAd82umbPTuKeJ7sIsmUg21gA71IBgmlkgnY0gmlwhKwSM2KKbXVsdGlhZGRyc4wACgSsEjNiBr9D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCv0KDdWRwgr9EhXdha3UyBQ --filternode=/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.11.33 waku f466e1af1449fb485f82f4d8fe4f1a62fc8da42158c3c6e53e82104972a2bae0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f466e1af1449. Setting up logs at ./log/docker/node3_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 24053
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24053/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.33/tcp/24054/p2p/16Uiu2HAmH25MEZL2t8BmVwb5TUWKu1A31Y91HbHTfwAEqc7RWtcn","/ip4/172.18.11.33/tcp/24055/ws/p2p/16Uiu2HAmH25MEZL2t8BmVwb5TUWKu1A31Y91HbHTfwAEqc7RWtcn"],"enrUri":"enr:-LO4QK1kj2W2PxQK1SSmxJ2JS3hJKHvzN8IDviYWXOdpaWWPGdWmI9P8FHntD4B619w_UVxxSlE5Oywr6BwW5L--G24BgmlkgnY0gmlwhKwSCyGKbXVsdGlhZGRyc4wACgSsEgshBl333QOCcnOFAAABAACJc2VjcDI1NmsxoQNA1Zjd4trcXxJmv14PtZKbIWjNXISVQWKgBIqW7_jJz4N0Y3CCXfaDdWRwgl34hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24053/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node4_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.228.252
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22867', '22868', '22869', '22870', '22871']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22867:22867 -p 22868:22868 -p 22869:22869 -p 22870:22870 -p 22871:22871 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22869 --rest-port=22867 --tcp-port=22868 --discv5-udp-port=22870 --rest-address=0.0.0.0 --nat=extip:172.18.228.252 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22871 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QIL3QgPe7hQdy78Tf6YXp866yts4zPnRUdo3Cmdcx9xzdSdsjMu_8FyF--0mAd82umbPTuKeJ7sIsmUg21gA71IBgmlkgnY0gmlwhKwSM2KKbXVsdGlhZGRyc4wACgSsEjNiBr9D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCv0KDdWRwgr9EhXdha3UyBQ --filternode=/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.228.252 waku 422578897cbdd910ef3b428720cd729f8aafa18bc8e4e95980955befd6f17596
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 422578897cbd. Setting up logs at ./log/docker/node4_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 22867
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22867/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22867/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.252/tcp/22868/p2p/16Uiu2HAmK6V3YmYjfwmh6dYDmo8L8B3hWj2Y66xrFVDKfKLzUyJM","/ip4/172.18.228.252/tcp/22869/ws/p2p/16Uiu2HAmK6V3YmYjfwmh6dYDmo8L8B3hWj2Y66xrFVDKfKLzUyJM"],"enrUri":"enr:-LO4QMTRdlCwcjDOUHwYJyXS5PR9Aply8NRcTxzabPmD5l6Pdqsdor8Q2oD8UYzn5qk9BAkjLbvBnZPCzs-NHJG3ho0BgmlkgnY0gmlwhKwS5PyKbXVsdGlhZGRyc4wACgSsEuT8BllV3QOCcnOFAAABAACJc2VjcDI1NmsxoQNfrhYZVzD05R2GvLNiAkfy_-1sDcwI1_l9OHLJtl4i9oN0Y3CCWVSDdWRwgllWhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22867/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node5_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.102.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['9177', '9178', '9179', '9180', '9181']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 9177:9177 -p 9178:9178 -p 9179:9179 -p 9180:9180 -p 9181:9181 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9179 --rest-port=9177 --tcp-port=9178 --discv5-udp-port=9180 --rest-address=0.0.0.0 --nat=extip:172.18.102.232 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9181 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QIL3QgPe7hQdy78Tf6YXp866yts4zPnRUdo3Cmdcx9xzdSdsjMu_8FyF--0mAd82umbPTuKeJ7sIsmUg21gA71IBgmlkgnY0gmlwhKwSM2KKbXVsdGlhZGRyc4wACgSsEjNiBr9D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCv0KDdWRwgr9EhXdha3UyBQ --filternode=/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.102.232 waku 81a26db1ae48e4cddc2b71fb148fc7a4ebf902bb91555dddb0790ef4daa9f6ef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 81a26db1ae48. Setting up logs at ./log/docker/node5_2024-07-05_04-14-10__f8cb79cf-0def-4894-b5ba-35e6f151fbb4__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 9177
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9177/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9177/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.232/tcp/9178/p2p/16Uiu2HAm9zBUrAhwV3FqQgu3YNCFExCdgz2DoBXQmEj7NDHGf7qH","/ip4/172.18.102.232/tcp/9179/ws/p2p/16Uiu2HAm9zBUrAhwV3FqQgu3YNCFExCdgz2DoBXQmEj7NDHGf7qH"],"enrUri":"enr:-LO4QMplPLYiZ2JvrKGF_GTTtJaOAFmw-LZ7Ibi_lWC0INwvOpicWQcKokvgepRbQnqHfgXthXUn0la6WDGCyJu2PJ8BgmlkgnY0gmlwhKwSZuiKbXVsdGlhZGRyc4wACgSsEmboBiPb3QOCcnOFAAABAACJc2VjcDI1NmsxoQLYV49HuKkc2ZT9fCK1ySO2Lztc2nkrpaEoRRmbtvtvKIN0Y3CCI9qDdWRwgiPchXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9177/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.98/tcp/48962/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48961/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23559/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "71b0bc94-5ff0-4522-b5d5-5b3ce2d141e9", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"71b0bc94-5ff0-4522-b5d5-5b3ce2d141e9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24053/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "914690c4-2873-4173-8483-0fa88d6540ad", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"914690c4-2873-4173-8483-0fa88d6540ad","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22867/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "70a2f3c6-004c-47f8-96ee-fa1ecfb92cb5", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"70a2f3c6-004c-47f8-96ee-fa1ecfb92cb5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9177/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "601d5d4d-5f06-4160-b63f-50af11fbc2ce", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"601d5d4d-5f06-4160-b63f-50af11fbc2ce","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48961/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23559/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1720152858563087360,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48961/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24053/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:24053/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 72035be32ce6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 4369249381cc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id f466e1af1449
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 422578897cbd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 81a26db1ae48
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.