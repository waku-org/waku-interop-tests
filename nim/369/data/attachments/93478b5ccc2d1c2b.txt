[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_payload with id: 2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18533', '18534', '18535', '18536', '18537']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18533:18533 -p 18534:18534 -p 18535:18535 -p 18536:18536 -p 18537:18537 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18535 --rest-port=18533 --tcp-port=18534 --discv5-udp-port=18536 --rest-address=0.0.0.0 --nat=extip:172.18.153.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28bcbb13eeb913ff436e2d65c65cc5b92d86fccb7ff5e0cab1db8d4e2d0dd9c4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18537 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.37 waku 933e8e80f5893360473ea2bd23814fb57ad5e47acfb349cddc9322178713b23a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 933e8e80f589. Setting up logs at ./log/docker/receiving_node1_2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18533
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18533/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18533/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.37/tcp/18534/p2p/16Uiu2HAm1CQa2CYTZJTVW7PyUruhbcSdCdF3J5s54eiG261nmmFB","/ip4/172.18.153.37/tcp/18535/ws/p2p/16Uiu2HAm1CQa2CYTZJTVW7PyUruhbcSdCdF3J5s54eiG261nmmFB"],"enrUri":"enr:-LO4QDsfBo-YvivHgdUxbo_-ZnuqRmzawVraFxqgJ64JZVY0WwL_U7CHw4wkePbWK7gpoIu6sol6rSUD1xduKUQ-EE0BgmlkgnY0gmlwhKwSmSWKbXVsdGlhZGRyc4wACgSsEpklBkhn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJVwCWlQ_XAJvLYIQQHVy4IuSLF93K2mxFHNp80Oz0-1oN0Y3CCSGaDdWRwgkhohXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.118.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58925', '58926', '58927', '58928', '58929']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58925:58925 -p 58926:58926 -p 58927:58927 -p 58928:58928 -p 58929:58929 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58927 --rest-port=58925 --tcp-port=58926 --discv5-udp-port=58928 --rest-address=0.0.0.0 --nat=extip:172.18.118.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bfbbc8bd74bc2b4bdaa7c5cdc283dc66b1d1aca6c6d67e1cb77a1e2fe7de6dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58929 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.118.69 waku 854fccf9505ad58b2dcf782f012d7ebe84f05dd9a3e8c565f40d8cedfee28c70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 854fccf9505a. Setting up logs at ./log/docker/receiving_node2_2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58925
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58925/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58925/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.69/tcp/58926/p2p/16Uiu2HAmNte5Dv5ENztWQvw7yiv6rftKR7XZ8tw6NkooTrahexRF","/ip4/172.18.118.69/tcp/58927/ws/p2p/16Uiu2HAmNte5Dv5ENztWQvw7yiv6rftKR7XZ8tw6NkooTrahexRF"],"enrUri":"enr:-LO4QHTtQ4F6Y3nd8eCQj-o4uuGCwKwua7MnIJgX9lBpP-5IQtmPRXV4rnRDQPuwL8j2ZC1yEdMnkN9TNNGL3rdbQdIBgmlkgnY0gmlwhKwSdkWKbXVsdGlhZGRyc4wACgSsEnZFBuYv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOYFBLEL2tbXx3rjJiuX168TtiS4abe8N7nmAOkqoGVYoN0Y3CC5i6DdWRwguYwhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58925/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.37/tcp/18534/p2p/16Uiu2HAm1CQa2CYTZJTVW7PyUruhbcSdCdF3J5s54eiG261nmmFB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.132.217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53928', '53929', '53930', '53931', '53932']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53928:53928 -p 53929:53929 -p 53930:53930 -p 53931:53931 -p 53932:53932 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53930 --rest-port=53928 --tcp-port=53929 --discv5-udp-port=53931 --rest-address=0.0.0.0 --nat=extip:172.18.132.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac4dede78cd7ceeb2aea97da83b33ed7bbfd593bfbd64ebecbc89a4089fcedef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53932 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDsfBo-YvivHgdUxbo_-ZnuqRmzawVraFxqgJ64JZVY0WwL_U7CHw4wkePbWK7gpoIu6sol6rSUD1xduKUQ-EE0BgmlkgnY0gmlwhKwSmSWKbXVsdGlhZGRyc4wACgSsEpklBkhn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJVwCWlQ_XAJvLYIQQHVy4IuSLF93K2mxFHNp80Oz0-1oN0Y3CCSGaDdWRwgkhohXdha3UyCQ --lightpushnode=/ip4/172.18.153.37/tcp/18534/p2p/16Uiu2HAm1CQa2CYTZJTVW7PyUruhbcSdCdF3J5s54eiG261nmmFB --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.132.217 waku 08b871a0b9605c5fd9f825de58abb0297dc18bf32cbd5a84ec7c5bfdc7586e7d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 08b871a0b960. Setting up logs at ./log/docker/lightpush_node1_2024-09-23_04-18-26__94224d2f-9c33-440f-a2a4-bdd833ab2f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53928
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53928/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53928/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.217/tcp/53929/p2p/16Uiu2HAmV61RC9wgEQ3nKZqBzNAsEwen8pVeb8XdRvJmL634kb21","/ip4/172.18.132.217/tcp/53930/ws/p2p/16Uiu2HAmV61RC9wgEQ3nKZqBzNAsEwen8pVeb8XdRvJmL634kb21"],"enrUri":"enr:-LO4QBqlc5eQMvxQRfotZ6sHFkDKJg1HaqKJhpNZp-UvkTPaQUQ-FmDBrG5nXWFl3okCGNMUEo9M1nB66zys2MUCV8YBgmlkgnY0gmlwhKwShNmKbXVsdGlhZGRyc4wACgSsEoTZBtKq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0I7fEuxG0O7ds_5Ik4ORcfelklo4uVdhR65HBPirW6oN0Y3CC0qmDdWRwgtKrhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.37/tcp/18534/p2p/16Uiu2HAm1CQa2CYTZJTVW7PyUruhbcSdCdF3J5s54eiG261nmmFB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.118.69/tcp/58926/p2p/16Uiu2HAmNte5Dv5ENztWQvw7yiv6rftKR7XZ8tw6NkooTrahexRF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58925/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53928/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"contentTopic": "/myapp/1/latest/proto", "timestamp": 1727065111629118208}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:53928/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 933e8e80f589
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 854fccf9505a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 08b871a0b960
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.