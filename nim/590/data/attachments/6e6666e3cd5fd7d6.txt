[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49838', '49839', '49840', '49841', '49842']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49838:49838 -p 49839:49839 -p 49840:49840 -p 49841:49841 -p 49842:49842 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49840 --rest-port=49838 --tcp-port=49839 --discv5-udp-port=49841 --rest-address=0.0.0.0 --nat=extip:172.18.63.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe99ac2981b15a04c54ac279ea7a0be12df336a5b353d5b7aa59fd13aaaf886c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49842 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.120 waku a75a6a4e96fd66d05c889f737ebec715201f13a3ef63c49b463dd41433ad7fd3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a75a6a4e96fd. Setting up logs at ./log/docker/node1_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49838
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container de8572aa0986. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49838/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49838/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.120/tcp/49839/p2p/16Uiu2HAmNciZCfKtmsf8bYnDR5swhxoQjFWQzZCTjrmgfU7pk4dN","/ip4/172.18.63.120/tcp/49840/ws/p2p/16Uiu2HAmNciZCfKtmsf8bYnDR5swhxoQjFWQzZCTjrmgfU7pk4dN"],"enrUri":"enr:-L24QPOcYzSsU7pFVDA85D8I419r-4WMrT-I4ii3xOXX9YBGDkVbBsGIHLxccnJFKmvJiN87r93XOHObgNMuxv1OF8YCgmlkgnY0gmlwhKwSP3iKbXVsdGlhZGRyc5YACASsEj94BsKvAAoErBI_eAbCsN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk__ZPotRbu4OfhHmlyovRh5xUUTtPvMsZBOvt0RqBtGDdGNwgsKvg3VkcILCsYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24559', '24560', '24561', '24562', '24563']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24559:24559 -p 24560:24560 -p 24561:24561 -p 24562:24562 -p 24563:24563 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24561 --rest-port=24559 --tcp-port=24560 --discv5-udp-port=24562 --rest-address=0.0.0.0 --nat=extip:172.18.238.7 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=51e4d6ccd86a1cb70b7fdffb6311c4cbcb7d9e3fbbea2ac9103a07ee8ae1bc19 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24563 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPOcYzSsU7pFVDA85D8I419r-4WMrT-I4ii3xOXX9YBGDkVbBsGIHLxccnJFKmvJiN87r93XOHObgNMuxv1OF8YCgmlkgnY0gmlwhKwSP3iKbXVsdGlhZGRyc5YACASsEj94BsKvAAoErBI_eAbCsN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk__ZPotRbu4OfhHmlyovRh5xUUTtPvMsZBOvt0RqBtGDdGNwgsKvg3VkcILCsYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.7 waku dc831f39d151d59abd2df57c3483b38f7ba2e12913c6d9b4323c8b9a9b7ad8f2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dc831f39d151. Setting up logs at ./log/docker/node2_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24559
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24559/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24559/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.7/tcp/24560/p2p/16Uiu2HAmFxAkFH8yLRjQZ3s9eFU7LoZ1MZJ4AHE2TV9mPsFdAQvw","/ip4/172.18.238.7/tcp/24561/ws/p2p/16Uiu2HAmFxAkFH8yLRjQZ3s9eFU7LoZ1MZJ4AHE2TV9mPsFdAQvw"],"enrUri":"enr:-L24QM8fYOithgBMWA4xZakBGRNKZLq2utH8FPw93MPn-kzgLNQBQSQguyjKIfpfsFMdh8ZYFiWxZc_IDiER15Wt9kICgmlkgnY0gmlwhKwS7geKbXVsdGlhZGRyc5YACASsEu4HBl_wAAoErBLuBwZf8d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMPmwaeVNLSVLeXOoaSolz0sML51gcP4qsr1q6YLOllyDdGNwgl_wg3VkcIJf8oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24559/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.120/tcp/49839/p2p/16Uiu2HAmNciZCfKtmsf8bYnDR5swhxoQjFWQzZCTjrmgfU7pk4dN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13643', '13644', '13645', '13646', '13647']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13643:13643 -p 13644:13644 -p 13645:13645 -p 13646:13646 -p 13647:13647 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13645 --rest-port=13643 --tcp-port=13644 --discv5-udp-port=13646 --rest-address=0.0.0.0 --nat=extip:172.18.91.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebb8c9dbbeadfbeed76e6b20ff4dcce6e2dacb1ad9404bc189a0cafa7cdee8bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13647 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPOcYzSsU7pFVDA85D8I419r-4WMrT-I4ii3xOXX9YBGDkVbBsGIHLxccnJFKmvJiN87r93XOHObgNMuxv1OF8YCgmlkgnY0gmlwhKwSP3iKbXVsdGlhZGRyc5YACASsEj94BsKvAAoErBI_eAbCsN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk__ZPotRbu4OfhHmlyovRh5xUUTtPvMsZBOvt0RqBtGDdGNwgsKvg3VkcILCsYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.49 waku 0e35f12cd5a88ec5a31a92ccb172a476254dc84a18069f89a30cab429da6b81c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e35f12cd5a8. Setting up logs at ./log/docker/node3_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 13643
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13643/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13643/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.49/tcp/13644/p2p/16Uiu2HAkwu6JFuNstodHTuLhvTsTMK1WYrd1RfBgiMCgLMkcjQVc","/ip4/172.18.91.49/tcp/13645/ws/p2p/16Uiu2HAkwu6JFuNstodHTuLhvTsTMK1WYrd1RfBgiMCgLMkcjQVc"],"enrUri":"enr:-L24QAy-XYeAmKxHsilKiYGwSfzeGhFyOqZyEU-o4UvFdn87PvmN3JfT5kfescCUGt_Vzx_NA180iBHzsF-dvxNVbZYCgmlkgnY0gmlwhKwSWzGKbXVsdGlhZGRyc5YACASsElsxBjVMAAoErBJbMQY1Td0DgnJzhQADAQAAiXNlY3AyNTZrMaECJL2Nc3DROTWVfurfF5QZVQPAnnHb1t-MhfYAIFxeu9eDdGNwgjVMg3VkcII1ToV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13643/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.120/tcp/49839/p2p/16Uiu2HAmNciZCfKtmsf8bYnDR5swhxoQjFWQzZCTjrmgfU7pk4dN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.133.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10591', '10592', '10593', '10594', '10595']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10591:10591 -p 10592:10592 -p 10593:10593 -p 10594:10594 -p 10595:10595 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10593 --rest-port=10591 --tcp-port=10592 --discv5-udp-port=10594 --rest-address=0.0.0.0 --nat=extip:172.18.133.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=39eb344479fe54dfd43aeacdfdadeabafaabd79fff494644d3687d2f4ef4e518 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10595 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPOcYzSsU7pFVDA85D8I419r-4WMrT-I4ii3xOXX9YBGDkVbBsGIHLxccnJFKmvJiN87r93XOHObgNMuxv1OF8YCgmlkgnY0gmlwhKwSP3iKbXVsdGlhZGRyc5YACASsEj94BsKvAAoErBI_eAbCsN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk__ZPotRbu4OfhHmlyovRh5xUUTtPvMsZBOvt0RqBtGDdGNwgsKvg3VkcILCsYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.133.98 waku fe17c181a20ab2cfe90c4bc0043a1712a0ef33401553a75b36fb83304d440ed6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fe17c181a20a. Setting up logs at ./log/docker/node4_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10591
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10591/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10591/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.133.98/tcp/10592/p2p/16Uiu2HAmB1whv5zjpUwtMXvcT7LuaJGdpHQPYjC5XSjuHuJtxbCR","/ip4/172.18.133.98/tcp/10593/ws/p2p/16Uiu2HAmB1whv5zjpUwtMXvcT7LuaJGdpHQPYjC5XSjuHuJtxbCR"],"enrUri":"enr:-L24QPI0H6tTVZU_qnlUyKTsKL8HeAUj-F3gyyaJsL0BEzc2E74TvtwIomg31TX5tv_KN06ymxVSmrsvRrwXVb2B940CgmlkgnY0gmlwhKwShWKKbXVsdGlhZGRyc5YACASsEoViBilgAAoErBKFYgYpYd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC56bVSDLOv6LFHKWPlWVnpygyoTXDUcDIP-kco6b9gsaDdGNwgilgg3VkcIIpYoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10591/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.120/tcp/49839/p2p/16Uiu2HAmNciZCfKtmsf8bYnDR5swhxoQjFWQzZCTjrmgfU7pk4dN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46588', '46589', '46590', '46591', '46592']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46588:46588 -p 46589:46589 -p 46590:46590 -p 46591:46591 -p 46592:46592 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46590 --rest-port=46588 --tcp-port=46589 --discv5-udp-port=46591 --rest-address=0.0.0.0 --nat=extip:172.18.79.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe9c47c2a2fa9e60adbee56ab36b54c4dd55dfe8416006d403c5bb6d074509fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46592 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPOcYzSsU7pFVDA85D8I419r-4WMrT-I4ii3xOXX9YBGDkVbBsGIHLxccnJFKmvJiN87r93XOHObgNMuxv1OF8YCgmlkgnY0gmlwhKwSP3iKbXVsdGlhZGRyc5YACASsEj94BsKvAAoErBI_eAbCsN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk__ZPotRbu4OfhHmlyovRh5xUUTtPvMsZBOvt0RqBtGDdGNwgsKvg3VkcILCsYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.120 waku baf7588959eaa6f36a178097b1ee5b4928f57f3552dfe5cb2493f85a7e5ab712
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID baf7588959ea. Setting up logs at ./log/docker/node5_2024-12-28_04-13-35__aad46671-5f87-469b-a301-bafe2e89de28__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46588
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46588/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46588/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.120/tcp/46589/p2p/16Uiu2HAmJUZDWjXGLWd5bGDEJUd3mtVUKtV4Kt5ZtfarjEPaeSuK","/ip4/172.18.79.120/tcp/46590/ws/p2p/16Uiu2HAmJUZDWjXGLWd5bGDEJUd3mtVUKtV4Kt5ZtfarjEPaeSuK"],"enrUri":"enr:-L24QGqAhk5jhvTt5WFGW9fbOMNSxHbPa6f3Qy8Lg7Z1a9gcWN1Dxm65EiBIqpLAkg74CtUXiY0merBw32F6v081YiACgmlkgnY0gmlwhKwST3iKbXVsdGlhZGRyc5YACASsEk94BrX9AAoErBJPeAa1_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVnnk71MmXzCYgsFX_OIZOu179XPcVhIiWtrPC8E7bDaDdGNwgrX9g3VkcIK1_4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46588/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.120/tcp/49839/p2p/16Uiu2HAmNciZCfKtmsf8bYnDR5swhxoQjFWQzZCTjrmgfU7pk4dN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49838/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24559/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13643/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10591/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46588/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222745595904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24559/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222745595904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13643/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222745595904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10591/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222745595904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222745595904,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222870586880,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24559/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222870586880,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13643/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222870586880,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10591/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222870586880,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735359222870586880,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a75a6a4e96fd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dc831f39d151
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a75a6a4e96fd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0e35f12cd5a8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dc831f39d151. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fe17c181a20a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0e35f12cd5a8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id baf7588959ea
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fe17c181a20a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.