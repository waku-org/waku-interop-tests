[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_on_non_subscribed_pubsub_topic with id: 2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.63.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42499', '42500', '42501', '42502', '42503']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42499:42499 -p 42500:42500 -p 42501:42501 -p 42502:42502 -p 42503:42503 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42501 --rest-port=42499 --tcp-port=42500 --discv5-udp-port=42502 --rest-address=0.0.0.0 --nat=extip:172.18.63.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abdcecd56e0deed53cade15a8be8b9af665eaa8c7fea7646cfbb0b9e60db0efd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42503 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.63.179 waku fd7185424dcadba93a9ebf70df9017c50e21637c52205867b87302222e8b19a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fd7185424dca. Setting up logs at ./log/docker/receiving_node1_2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42499
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42499/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42499/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.179/tcp/42500/p2p/16Uiu2HAm5Qx3u3EZ3iSJjVsUojHBaq2PHeVNWUVrmMUSZUK7Jvhv","/ip4/172.18.63.179/tcp/42501/ws/p2p/16Uiu2HAm5Qx3u3EZ3iSJjVsUojHBaq2PHeVNWUVrmMUSZUK7Jvhv"],"enrUri":"enr:-LO4QDeR1livEPwVnHZm2rnmD2tN2YucvQGLx_lq7bNz5VIVIJjhfdTtqWeK_AK724ioLExl2G7LGO893j_9n_hXtHUBgmlkgnY0gmlwhKwSP7OKbXVsdGlhZGRyc4wACgSsEj-zBqYF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKUZXWwz_uwPrF1Y8dcJXmAuABC4I53Yy2HSoCuJPqhwYN0Y3CCpgSDdWRwgqYGhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.237.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25180', '25181', '25182', '25183', '25184']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25180:25180 -p 25181:25181 -p 25182:25182 -p 25183:25183 -p 25184:25184 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25182 --rest-port=25180 --tcp-port=25181 --discv5-udp-port=25183 --rest-address=0.0.0.0 --nat=extip:172.18.237.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3cd3f95ede1144ed5baa0db175f7bfe75f53c37d12441fd44c0ce75f435ab1cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25184 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.237.14 waku 8599e29ed7822e778ae4fb30df33fa7768470825535e74ac6d5a16babf84f984
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8599e29ed782. Setting up logs at ./log/docker/receiving_node2_2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25180
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25180/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25180/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.14/tcp/25181/p2p/16Uiu2HAmPjzXfNS3LrwUh3BwGumP6adtcHvMza9VX8Euwx7DfDbt","/ip4/172.18.237.14/tcp/25182/ws/p2p/16Uiu2HAmPjzXfNS3LrwUh3BwGumP6adtcHvMza9VX8Euwx7DfDbt"],"enrUri":"enr:-LO4QFnBTo8PveMj8xiTwIfJUff1mSJsrTMaahFc3Bo-IFIgI9ncFwhKTdzLWRz-afUD-KfgxUwOCUYP_Km6g31r5b4BgmlkgnY0gmlwhKwS7Q6KbXVsdGlhZGRyc4wACgSsEu0OBmJe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOkuKmWCjXw_g0MiwS8QJyDrMnnBHH4D08SVqgDtBPmx4N0Y3CCYl2DdWRwgmJfhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25180/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.179/tcp/42500/p2p/16Uiu2HAm5Qx3u3EZ3iSJjVsUojHBaq2PHeVNWUVrmMUSZUK7Jvhv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.86.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18868', '18869', '18870', '18871', '18872']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18868:18868 -p 18869:18869 -p 18870:18870 -p 18871:18871 -p 18872:18872 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18870 --rest-port=18868 --tcp-port=18869 --discv5-udp-port=18871 --rest-address=0.0.0.0 --nat=extip:172.18.86.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc6a5adccf8a2175adf1cd022e9d8f9ccf8a0abbaea3dad4cec534d51ea492bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18872 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDeR1livEPwVnHZm2rnmD2tN2YucvQGLx_lq7bNz5VIVIJjhfdTtqWeK_AK724ioLExl2G7LGO893j_9n_hXtHUBgmlkgnY0gmlwhKwSP7OKbXVsdGlhZGRyc4wACgSsEj-zBqYF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKUZXWwz_uwPrF1Y8dcJXmAuABC4I53Yy2HSoCuJPqhwYN0Y3CCpgSDdWRwgqYGhXdha3UyCQ --lightpushnode=/ip4/172.18.63.179/tcp/42500/p2p/16Uiu2HAm5Qx3u3EZ3iSJjVsUojHBaq2PHeVNWUVrmMUSZUK7Jvhv --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.86.85 waku c6b335d618baca6a606f4d9d1d242967c0ff56cbf064a7d847322bac178f7f82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c6b335d618ba. Setting up logs at ./log/docker/lightpush_node1_2024-09-24_04-18-47__d62c1856-08ca-46fd-8a6b-051f989c4710__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18868
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18868/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18868/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.85/tcp/18869/p2p/16Uiu2HAmRBZ5xGTiYaaTR381J13JUzPwMpHnkYai2GMZNcX9K4VQ","/ip4/172.18.86.85/tcp/18870/ws/p2p/16Uiu2HAmRBZ5xGTiYaaTR381J13JUzPwMpHnkYai2GMZNcX9K4VQ"],"enrUri":"enr:-LO4QOfHkmMe0gRaMioiMJ51gYt3bwMTd7IMvZ5MgSg03YaBDasA28lCmPpU80HfOI1qd2A2D4Hc-O2G8vRELwVNHrMBgmlkgnY0gmlwhKwSVlWKbXVsdGlhZGRyc4wACgSsElZVBkm23QOCcnOFAAMBAACJc2VjcDI1NmsxoQO6IK5_UCsyDapr1dwqIuuSOsOupM04fmo9X0OQey2JK4N0Y3CCSbWDdWRwgkm3hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18868/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.179/tcp/42500/p2p/16Uiu2HAm5Qx3u3EZ3iSJjVsUojHBaq2PHeVNWUVrmMUSZUK7Jvhv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18868/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.14/tcp/25181/p2p/16Uiu2HAmPjzXfNS3LrwUh3BwGumP6adtcHvMza9VX8Euwx7DfDbt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42499/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25180/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18868/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727151533236522752}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:18868/lightpush/v1/message. Response content: b'Failed to request a message push: not_published_to_any_peer'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fd7185424dca
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8599e29ed782
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c6b335d618ba
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.