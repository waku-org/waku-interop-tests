[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.121.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49539', '49540', '49541', '49542', '49543']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49539:49539 -p 49540:49540 -p 49541:49541 -p 49542:49542 -p 49543:49543 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49541 --rest-port=49539 --tcp-port=49540 --discv5-udp-port=49542 --rest-address=0.0.0.0 --nat=extip:172.18.121.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1dec79e885f77dce6bdedc3bafbf2064ecdeebebe3acecfaab7dc790c9de0dcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49543 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.121.19 waku 26a190c51693c9f214eda11f292777470a78bc8c78444c2e00876c79e54743ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 26a190c51693. Setting up logs at ./log/docker/receiving_node1_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49539
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49539/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49539/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf","/ip4/172.18.121.19/tcp/49541/ws/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf"],"enrUri":"enr:-LO4QKpT6bk9qX-JTdCj0XTNegXN1CKI49OfOPNN_56OJiOdCUoN5xLnpKr2SwdGI37xYR90V9Guh8wBqFmWlSj-5Z0BgmlkgnY0gmlwhKwSeROKbXVsdGlhZGRyc4wACgSsEnkTBsGF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQId0ZmY8n05K5TkVMIQuHU1tOKDjl7hK-e1-9jtCrTe7IN0Y3CCwYSDdWRwgsGGhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.105.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61441', '61442', '61443', '61444', '61445']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61441:61441 -p 61442:61442 -p 61443:61443 -p 61444:61444 -p 61445:61445 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61443 --rest-port=61441 --tcp-port=61442 --discv5-udp-port=61444 --rest-address=0.0.0.0 --nat=extip:172.18.105.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e33d2bacefc81691d03378b3fbc58ac759bb049bfadecc3f3d4ff5f6d7dfc6fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61445 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.105.29 waku e9cb74711e89e45ba70812c4b8acdc07bdfb484686a2510ad31db86c054dd4c3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e9cb74711e89. Setting up logs at ./log/docker/receiving_node2_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61441
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61441/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61441/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.29/tcp/61442/p2p/16Uiu2HAm7aUAYjznY2T3eWJocwNPL6Jfp8FUHDJZbUgoX2ra3KGS","/ip4/172.18.105.29/tcp/61443/ws/p2p/16Uiu2HAm7aUAYjznY2T3eWJocwNPL6Jfp8FUHDJZbUgoX2ra3KGS"],"enrUri":"enr:-LO4QDSJji6Rw-awL68-aShHdHQfSPFlp4jFvcU1WtoOxNPieTzzkTzEQO6VMHGI2c24RS285lo7l3UMPufPZUg-AtoBgmlkgnY0gmlwhKwSaR2KbXVsdGlhZGRyc4wACgSsEmkdBvAD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK0jRyStrzu0DFQ_MkXc3jplZ6RO5lYiv6YiyUpgq1YR4N0Y3CC8AKDdWRwgvAEhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61441/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.216.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3654', '3655', '3656', '3657', '3658']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3654:3654 -p 3655:3655 -p 3656:3656 -p 3657:3657 -p 3658:3658 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3656 --rest-port=3654 --tcp-port=3655 --discv5-udp-port=3657 --rest-address=0.0.0.0 --nat=extip:172.18.216.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7f2e16c98ae677d12ffb6d0dd04c353de2b0c2f2afbb08e02dca80a3e7fdbbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3658 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKpT6bk9qX-JTdCj0XTNegXN1CKI49OfOPNN_56OJiOdCUoN5xLnpKr2SwdGI37xYR90V9Guh8wBqFmWlSj-5Z0BgmlkgnY0gmlwhKwSeROKbXVsdGlhZGRyc4wACgSsEnkTBsGF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQId0ZmY8n05K5TkVMIQuHU1tOKDjl7hK-e1-9jtCrTe7IN0Y3CCwYSDdWRwgsGGhXdha3UyCQ --lightpushnode=/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.216.151 waku 2e9e2a9a72024315dddf71c716aff50e75afd7d222e2c0e3f6dec383f51997c7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2e9e2a9a7202. Setting up logs at ./log/docker/lightpush_node1_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3654
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3654/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3654/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.151/tcp/3655/p2p/16Uiu2HAkvT9kveYxG8Vzc2XfhiTmkkecGFERNYtKmZ4kJ9ebZnie","/ip4/172.18.216.151/tcp/3656/ws/p2p/16Uiu2HAkvT9kveYxG8Vzc2XfhiTmkkecGFERNYtKmZ4kJ9ebZnie"],"enrUri":"enr:-LO4QIQJFFykgSr4dZtU6MNUy16cARqGZb7xc17yWtBzeFsmef2TqLgnrG9GHU5sh0z2t7Y2GEjyvhgWHawLvrKHeQoBgmlkgnY0gmlwhKwS2JeKbXVsdGlhZGRyc4wACgSsEtiXBg5I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIPPK00axwv17FfRsuQ8Nnwel0-ppJecZhllByh6Sv3g4N0Y3CCDkeDdWRwgg5JhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3654/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3654/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.29/tcp/61442/p2p/16Uiu2HAm7aUAYjznY2T3eWJocwNPL6Jfp8FUHDJZbUgoX2ra3KGS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.99.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5816', '5817', '5818', '5819', '5820']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5816:5816 -p 5817:5817 -p 5818:5818 -p 5819:5819 -p 5820:5820 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5818 --rest-port=5816 --tcp-port=5817 --discv5-udp-port=5819 --rest-address=0.0.0.0 --nat=extip:172.18.99.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ea64eb95bc1244b0f61f1436befd56d2dc2c53ffd29abeaa3bcb79d97e7afde --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5820 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKpT6bk9qX-JTdCj0XTNegXN1CKI49OfOPNN_56OJiOdCUoN5xLnpKr2SwdGI37xYR90V9Guh8wBqFmWlSj-5Z0BgmlkgnY0gmlwhKwSeROKbXVsdGlhZGRyc4wACgSsEnkTBsGF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQId0ZmY8n05K5TkVMIQuHU1tOKDjl7hK-e1-9jtCrTe7IN0Y3CCwYSDdWRwgsGGhXdha3UyCQ --lightpushnode=/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.99.8 waku d58bdda417355eb3eac6335f596765644d7ba1d8a392aefbb1b76c3c671e0c02
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d58bdda41735. Setting up logs at ./log/docker/lightpush_node2_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5816
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5816/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5816/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.8/tcp/5817/p2p/16Uiu2HAmVTcCQmctRLoq7HyWzn6kv7HyfdqsFxZrV2SF8e4uohZ5","/ip4/172.18.99.8/tcp/5818/ws/p2p/16Uiu2HAmVTcCQmctRLoq7HyWzn6kv7HyfdqsFxZrV2SF8e4uohZ5"],"enrUri":"enr:-LO4QKVAcrgJAeLvRVtFwgmNJk5tMjm9Nc0BzmEcwcnY0Gstbky0nJTst2bCds5RyN-zHBnT6FLi9o66GDGjfEXWcYkBgmlkgnY0gmlwhKwSYwiKbXVsdGlhZGRyc4wACgSsEmMIBha63QOCcnOFAAMBAACJc2VjcDI1NmsxoQP5rD2CRG9H0W1pouQ1inkOLKgHIkJcrgBi9t0oBfOM9IN0Y3CCFrmDdWRwgha7hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.29/tcp/61442/p2p/16Uiu2HAm7aUAYjznY2T3eWJocwNPL6Jfp8FUHDJZbUgoX2ra3KGS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.115.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8888', '8889', '8890', '8891', '8892']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8888:8888 -p 8889:8889 -p 8890:8890 -p 8891:8891 -p 8892:8892 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8890 --rest-port=8888 --tcp-port=8889 --discv5-udp-port=8891 --rest-address=0.0.0.0 --nat=extip:172.18.115.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c5fef5accd1debf396fc2e5bceccba972f6fcbbe5e12ccd6db254ddbbbfef40e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8892 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKpT6bk9qX-JTdCj0XTNegXN1CKI49OfOPNN_56OJiOdCUoN5xLnpKr2SwdGI37xYR90V9Guh8wBqFmWlSj-5Z0BgmlkgnY0gmlwhKwSeROKbXVsdGlhZGRyc4wACgSsEnkTBsGF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQId0ZmY8n05K5TkVMIQuHU1tOKDjl7hK-e1-9jtCrTe7IN0Y3CCwYSDdWRwgsGGhXdha3UyCQ --lightpushnode=/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.115.85 waku bb44798a34541f9adcacb733a0b5afc655f2653c4757ec0296f46ae82bdde9cc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bb44798a3454. Setting up logs at ./log/docker/lightpush_node3_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8888
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8888/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8888/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.85/tcp/8889/p2p/16Uiu2HAkuzAxAnPsg5rv9JCowbyHnZCvC3mzRfnZE1tH9z8VGRiw","/ip4/172.18.115.85/tcp/8890/ws/p2p/16Uiu2HAkuzAxAnPsg5rv9JCowbyHnZCvC3mzRfnZE1tH9z8VGRiw"],"enrUri":"enr:-LO4QDc-0e5Sa0ITRankhT8j4pMXsaCNv2xd1R-mWYi9oW-hHWOuhkbvkzDlfe-SqgFA-AXLPnC2ZQKPaxNEp0ex4VIBgmlkgnY0gmlwhKwSc1WKbXVsdGlhZGRyc4wACgSsEnNVBiK63QOCcnOFAAMBAACJc2VjcDI1NmsxoQIIU1g5-LD7-xoE-jw_4E54wUEaCCs8LZIs7chqKxQwmIN0Y3CCIrmDdWRwgiK7hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8888/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8888/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.29/tcp/61442/p2p/16Uiu2HAm7aUAYjznY2T3eWJocwNPL6Jfp8FUHDJZbUgoX2ra3KGS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.3.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14793', '14794', '14795', '14796', '14797']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14793:14793 -p 14794:14794 -p 14795:14795 -p 14796:14796 -p 14797:14797 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14795 --rest-port=14793 --tcp-port=14794 --discv5-udp-port=14796 --rest-address=0.0.0.0 --nat=extip:172.18.3.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef4ef2ec691deafc4bb6afea39bd1cebb94f71f0659ff91dff9cc8ef58e9b1ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14797 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKpT6bk9qX-JTdCj0XTNegXN1CKI49OfOPNN_56OJiOdCUoN5xLnpKr2SwdGI37xYR90V9Guh8wBqFmWlSj-5Z0BgmlkgnY0gmlwhKwSeROKbXVsdGlhZGRyc4wACgSsEnkTBsGF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQId0ZmY8n05K5TkVMIQuHU1tOKDjl7hK-e1-9jtCrTe7IN0Y3CCwYSDdWRwgsGGhXdha3UyCQ --lightpushnode=/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.3.72 waku 131fa67ac39ad51b630c1168c429ebeb943be8553b84ab96e0e87b0f6e47b962
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 131fa67ac39a. Setting up logs at ./log/docker/lightpush_node4_2024-09-24_04-17-55__ab46b7d7-0cea-426f-9420-881675ed3ffb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14793
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14793/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14793/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.72/tcp/14794/p2p/16Uiu2HAmCeps7Lerv7jQyyd3N8KbGPhCoVzUoiQeiyUUEWwuLndH","/ip4/172.18.3.72/tcp/14795/ws/p2p/16Uiu2HAmCeps7Lerv7jQyyd3N8KbGPhCoVzUoiQeiyUUEWwuLndH"],"enrUri":"enr:-LO4QAFNU2Iciyp72GFGo7OWlM7-SK9C7-EPbN_j3LLXqM84EoxAb5_Ds9nCWIND-2te5aqtQ7kFbp4yXTipEvNXjuoBgmlkgnY0gmlwhKwSA0iKbXVsdGlhZGRyc4wACgSsEgNIBjnL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL_9UY47A7qxOUhQL8pYx26ABmH3vLZwDMbOCplf65uRIN0Y3CCOcqDdWRwgjnMhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14793/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.121.19/tcp/49540/p2p/16Uiu2HAkwS5B5NYtrvjq1yNinyUhB5zY1fMxDknnqpAp6dQFkaSf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14793/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.29/tcp/61442/p2p/16Uiu2HAm7aUAYjznY2T3eWJocwNPL6Jfp8FUHDJZbUgoX2ra3KGS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49539/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61441/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3654/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727151485878134016}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49539/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151485878134016,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61441/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151485878134016,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5816/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727151486011051776}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49539/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151486011051776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61441/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151486011051776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8888/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727151486135278848}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49539/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151486135278848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61441/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151486135278848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14793/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727151486260648448}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49539/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151486260648448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61441/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727151486260648448,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 26a190c51693
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e9cb74711e89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2e9e2a9a7202
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d58bdda41735
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bb44798a3454
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 131fa67ac39a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.