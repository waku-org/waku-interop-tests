[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2024-09-30_04-18-07__bbeac369-cd43-44b5-aa4a-8d93ca746b46
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-30_04-18-07__bbeac369-cd43-44b5-aa4a-8d93ca746b46__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.46.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18317', '18318', '18319', '18320', '18321']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18317:18317 -p 18318:18318 -p 18319:18319 -p 18320:18320 -p 18321:18321 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18319 --rest-port=18317 --tcp-port=18318 --discv5-udp-port=18320 --rest-address=0.0.0.0 --nat=extip:172.18.46.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fd813dfad58fbeb6ecd9606d48e1ef73eebd84ff6da9ea83dc194e6edadfc1c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18321 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.46.95 waku 3b96167d9f86d404cf37555920172aab99e1b30aba009fd7423a62113313bfd4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3b96167d9f86. Setting up logs at ./log/docker/node1_2024-09-30_04-18-07__bbeac369-cd43-44b5-aa4a-8d93ca746b46__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18317
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18317/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18317/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.95/tcp/18318/p2p/16Uiu2HAmKGaQzqxseikpqECMpUY3mnxGB4MQqQo4ZxXQqSLZGeZZ","/ip4/172.18.46.95/tcp/18319/ws/p2p/16Uiu2HAmKGaQzqxseikpqECMpUY3mnxGB4MQqQo4ZxXQqSLZGeZZ"],"enrUri":"enr:-LO4QJABnpbFxCWiz40bTbWeOMsg6yHFM-Vf4xhJlMlM26bGYxuyvaFZXR4rdNwQP3kc_Q7qDchEwiwlXe_WWJ_4XkQBgmlkgnY0gmlwhKwSLl-KbXVsdGlhZGRyc4wACgSsEi5fBkeP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiQ_dRsb3-lvIsi8KaCtPLZPI-6726X1f6uL01ZWmWDIN0Y3CCR46DdWRwgkeQhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-30_04-18-07__bbeac369-cd43-44b5-aa4a-8d93ca746b46__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.217.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52968', '52969', '52970', '52971', '52972']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52968:52968 -p 52969:52969 -p 52970:52970 -p 52971:52971 -p 52972:52972 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52970 --rest-port=52968 --tcp-port=52969 --discv5-udp-port=52971 --rest-address=0.0.0.0 --nat=extip:172.18.217.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efe270c7ee9d77ca7d5e1e8c3e62ad9f6e1cdeaf3f2c867496baac6df7b3d0bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52972 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJABnpbFxCWiz40bTbWeOMsg6yHFM-Vf4xhJlMlM26bGYxuyvaFZXR4rdNwQP3kc_Q7qDchEwiwlXe_WWJ_4XkQBgmlkgnY0gmlwhKwSLl-KbXVsdGlhZGRyc4wACgSsEi5fBkeP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNiQ_dRsb3-lvIsi8KaCtPLZPI-6726X1f6uL01ZWmWDIN0Y3CCR46DdWRwgkeQhXdha3UyBQ --filternode=/ip4/172.18.46.95/tcp/18318/p2p/16Uiu2HAmKGaQzqxseikpqECMpUY3mnxGB4MQqQo4ZxXQqSLZGeZZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.217.70 waku 05048083e6944db8ae94d0a434b6900b0372b66192aa24cb8f965a12ba4ba62c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 05048083e694. Setting up logs at ./log/docker/node2_2024-09-30_04-18-07__bbeac369-cd43-44b5-aa4a-8d93ca746b46__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52968
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52968/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52968/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.70/tcp/52969/p2p/16Uiu2HAmLyG6B9RJGZzAYoKA1zDQsJCLzru9QwRTRzAfE13DM8ts","/ip4/172.18.217.70/tcp/52970/ws/p2p/16Uiu2HAmLyG6B9RJGZzAYoKA1zDQsJCLzru9QwRTRzAfE13DM8ts"],"enrUri":"enr:-LO4QHoJw_T9TpiidhEmYvmymveyrya2TyRfd1J2CBqIzdqAdoc8aXziJz3z7cAA2vzd026JvVIUtcU3d8YonNQMJ6cBgmlkgnY0gmlwhKwS2UaKbXVsdGlhZGRyc4wACgSsEtlGBs7q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN7i78gFSC5RAUD2ceIBKfCb75qJ6UA4J3_s44bdYg3XIN0Y3CCzumDdWRwgs7rhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52968/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.95/tcp/18318/p2p/16Uiu2HAmKGaQzqxseikpqECMpUY3mnxGB4MQqQo4ZxXQqSLZGeZZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18317/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52968/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e5ca1550-5294-47bc-bf53-043c8c29e980", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e5ca1550-5294-47bc-bf53-043c8c29e980","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:52968/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:52968/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3b96167d9f86
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 05048083e694
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.