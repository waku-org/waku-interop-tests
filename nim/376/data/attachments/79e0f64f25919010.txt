[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2024-09-30_04-17-36__bc2cb390-5148-4ad0-918c-b0a0e7c2008b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-30_04-17-36__bc2cb390-5148-4ad0-918c-b0a0e7c2008b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.209.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41729', '41730', '41731', '41732', '41733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41729:41729 -p 41730:41730 -p 41731:41731 -p 41732:41732 -p 41733:41733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41731 --rest-port=41729 --tcp-port=41730 --discv5-udp-port=41732 --rest-address=0.0.0.0 --nat=extip:172.18.209.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcdce6cdfbcb7956fbfff80351da84ad7aa1c5ae2e7fbddf4d37dc43e9ae500d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41733 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.209.108 waku 0ef3a8c2e64bad39b8e5fd3a58292769c3fdb24d14af658a00fff6f6e8ad6001
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0ef3a8c2e64b. Setting up logs at ./log/docker/node1_2024-09-30_04-17-36__bc2cb390-5148-4ad0-918c-b0a0e7c2008b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.108/tcp/41730/p2p/16Uiu2HAmDmVwxmJ23fudupLSDyu1jhzhAHqEC2sx5KtRJRUVpwDW","/ip4/172.18.209.108/tcp/41731/ws/p2p/16Uiu2HAmDmVwxmJ23fudupLSDyu1jhzhAHqEC2sx5KtRJRUVpwDW"],"enrUri":"enr:-LO4QBwF4R9bc4H-1_q7uT4Rs0G50X25BKQ-8OIw6nsPAVj-BRITxW-fjuhV8_ypzp1ouiY8x1F1gq2E8UyScRM60XEBgmlkgnY0gmlwhKwS0WyKbXVsdGlhZGRyc4wACgSsEtFsBqMD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQhqNbzsuo5sO3bCC2tOWKcDkpb5jWv_FiC89xGjkx5YN0Y3CCowKDdWRwgqMEhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-30_04-17-36__bc2cb390-5148-4ad0-918c-b0a0e7c2008b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.105.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34415', '34416', '34417', '34418', '34419']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34415:34415 -p 34416:34416 -p 34417:34417 -p 34418:34418 -p 34419:34419 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34417 --rest-port=34415 --tcp-port=34416 --discv5-udp-port=34418 --rest-address=0.0.0.0 --nat=extip:172.18.105.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6582846cfddf13959a61d2f7facd8ad7b0b755b0dcdda10cbdd6ed024a379ce4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34419 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBwF4R9bc4H-1_q7uT4Rs0G50X25BKQ-8OIw6nsPAVj-BRITxW-fjuhV8_ypzp1ouiY8x1F1gq2E8UyScRM60XEBgmlkgnY0gmlwhKwS0WyKbXVsdGlhZGRyc4wACgSsEtFsBqMD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQhqNbzsuo5sO3bCC2tOWKcDkpb5jWv_FiC89xGjkx5YN0Y3CCowKDdWRwgqMEhXdha3UyBQ --filternode=/ip4/172.18.209.108/tcp/41730/p2p/16Uiu2HAmDmVwxmJ23fudupLSDyu1jhzhAHqEC2sx5KtRJRUVpwDW
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.105.67 waku 3939ab17d5d522a0a22e185fae7e49c338c7da08459635e6408126e8c122b3af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3939ab17d5d5. Setting up logs at ./log/docker/node2_2024-09-30_04-17-36__bc2cb390-5148-4ad0-918c-b0a0e7c2008b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34415
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34415/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34415/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.67/tcp/34416/p2p/16Uiu2HAmJZgzV8pzUvtzUhkbvFyfYwBgXdJLQVTPxbbi5sitbQ57","/ip4/172.18.105.67/tcp/34417/ws/p2p/16Uiu2HAmJZgzV8pzUvtzUhkbvFyfYwBgXdJLQVTPxbbi5sitbQ57"],"enrUri":"enr:-LO4QBejDkP69UhuP-J8nHU8z-fQIr9ycXSsQ5FtgzH_RAJofNUVZDfLn6dmbOrR-ZeUAJHlo6Rxc8K5C54Nzd4XrQQBgmlkgnY0gmlwhKwSaUOKbXVsdGlhZGRyc4wACgSsEmlDBoZx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNXypcI8oPxr76QJ2K5Y9ewAw0U38kN8L_UUS8h-R8YyoN0Y3CChnCDdWRwgoZyhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34415/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.108/tcp/41730/p2p/16Uiu2HAmDmVwxmJ23fudupLSDyu1jhzhAHqEC2sx5KtRJRUVpwDW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41729/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34415/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b6f0549f-d869-406b-9cd7-e403e6fbc2aa", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b6f0549f-d869-406b-9cd7-e403e6fbc2aa","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:34415/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0ef3a8c2e64b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3939ab17d5d5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.