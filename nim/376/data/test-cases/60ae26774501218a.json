{"uid":"60ae26774501218a","name":"test_store_node_not_connected_directly_to_lightpushing_node","fullName":"tests.e2e.test_e2e.TestE2E#test_store_node_not_connected_directly_to_lightpushing_node","historyId":"7e47f771056053b858e17e50737fd822","time":{"start":1727669707130,"stop":1727669743786,"duration":36656},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1727669597598,"stop":1727669597598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1727669707096,"stop":1727669707096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1727669707096,"stop":1727669707096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1727669707096,"stop":1727669707096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1727669707097,"stop":1727669707097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1727669707097,"stop":1727669707097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1727669707097,"stop":1727669707097,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1727669707098,"stop":1727669707098,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nodes","time":{"start":1727669707098,"stop":1727669707127,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1727669707098,"stop":1727669707098,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1727669707127,"stop":1727669707127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1727669707128,"stop":1727669707128,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"wait_for_autoconnection","time":{"start":1727669712676,"stop":1727669742699,"duration":30023},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.e2e.test_e2e.TestE2E object at 0x7f5e5cf18200>, [<src.node.waku_node.WakuNode object at 0x7f5e5ca92990>, <src.node.waku_node.WakuNode object at 0x7f5e5ca91d30>])"},{"name":"hard_wait","value":"30"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1727669742700,"stop":1727669742700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_payload","time":{"start":1727669742700,"stop":1727669742700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1727669742700059648}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_is_stored","time":{"start":1727669743712,"stop":1727669743786,"duration":74},"status":"passed","steps":[{"name":"get_messages_from_store","time":{"start":1727669743713,"stop":1727669743785,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f5e5cc599d0>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"50"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"compute_message_hash","time":{"start":1727669743786,"stop":1727669743786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"msg","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1727669742700059648}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store_node","value":"<src.node.waku_node.WakuNode object at 0x7f5e5cc599d0>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"50"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"},{"name":"messages_to_check","value":"[{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1727669742700059648}]"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"52e701f45dd6798f","name":"log","source":"52e701f45dd6798f.txt","type":"text/plain","size":35994}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1727669743792,"stop":1727669743793,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1727669743793,"stop":1727669748355,"duration":4562},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1727669748356,"stop":1727669748397,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1727669748398,"stop":1727669748398,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1727671279848,"stop":1727671279848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_e2e"},{"name":"subSuite","value":"TestE2E"},{"name":"host","value":"fv-az1121-825"},{"name":"thread","value":"2101-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2e313f3fc48a986","status":"failed","statusDetails":"AssertionError: Found errors {'crash': [], 'fatal': [], 'panic': [], 'abort': [], 'segfault': [], 'corrupt': [], 'terminated': [], 'unhandled': ['Error: unhandled exception: Asynchronous task [relayConnectivityLoop() at peer_manager.nim:960] finished with an exception \"MetricsError\"!'], 'stacktrace': ['FAT 2024-09-30 04:15:02.796+00:00 Shutting down after receiving SIGSEGV      topics=\"wakunode main\" tid=1 file=wakunode2.nim:124 stacktrace=\"/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\\\n\"', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(526) _ZN6system15writeStackTraceE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(330) _ZN6system18rawWriteStackTraceE3varI6stringE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(59) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI6stringE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(345) _ZN6system18rawWriteStackTraceE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(345) _ZN6system18rawWriteStackTraceE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE'], 'deadlock': [], 'SIGSEGV': ['FAT 2024-09-30 04:15:02.796+00:00 Shutting down after receiving SIGSEGV      topics=\"wakunode main\" tid=1 file=wakunode2.nim:124 stacktrace=\"/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\\\n\"', '/app/apps/wakunode2/wakunode2.nim(127) _ZN9wakunode213handleSigsegvE5int32', 'Stack trace: /app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32', '/app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32', '/app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32', '/app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32'], 'SIGABRT': [], 'stack overflow': [], 'index out of bounds': [], 'nil pointer dereference': [], 'goroutine exit': [], 'nil pointer': [], 'runtime error': [], 'goexit': [], 'race condition': [], 'double free': []}","time":{"start":1727669667004,"stop":1727669702767,"duration":35763}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":54,"unknown":0,"total":54},"items":[{"uid":"aada098b8b8ff34d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/375//#testresult/aada098b8b8ff34d","status":"passed","time":{"start":1727583212149,"stop":1727583248194,"duration":36045}},{"uid":"76cc821c397cf8df","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/374//#testresult/76cc821c397cf8df","status":"passed","time":{"start":1727496782371,"stop":1727496817959,"duration":35588}},{"uid":"3cd4dde98e80967d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/373//#testresult/3cd4dde98e80967d","status":"passed","time":{"start":1727410438538,"stop":1727410475597,"duration":37059}},{"uid":"f23c11f32790023b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/372//#testresult/f23c11f32790023b","status":"passed","time":{"start":1727324042712,"stop":1727324078571,"duration":35859}},{"uid":"adf4a448c37c3776","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/371//#testresult/adf4a448c37c3776","status":"passed","time":{"start":1727237647458,"stop":1727237683386,"duration":35928}},{"uid":"78458cc40697ba78","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/370//#testresult/78458cc40697ba78","status":"passed","time":{"start":1727151214501,"stop":1727151256440,"duration":41939}},{"uid":"b56519e80243260c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/369//#testresult/b56519e80243260c","status":"passed","time":{"start":1727064824400,"stop":1727064866587,"duration":42187}},{"uid":"4939e0d9fe285427","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/368//#testresult/4939e0d9fe285427","status":"passed","time":{"start":1726978472503,"stop":1726978508388,"duration":35885}},{"uid":"aef2f3e035dd4bc1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/367//#testresult/aef2f3e035dd4bc1","status":"passed","time":{"start":1726891991371,"stop":1726892027517,"duration":36146}},{"uid":"79db12be198d932e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/366//#testresult/79db12be198d932e","status":"passed","time":{"start":1726805592271,"stop":1726805628124,"duration":35853}},{"uid":"42cebbbace5da85c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/365//#testresult/42cebbbace5da85c","status":"passed","time":{"start":1726719201755,"stop":1726719243599,"duration":41844}},{"uid":"e4a0555dd8cfb04f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/364//#testresult/e4a0555dd8cfb04f","status":"passed","time":{"start":1726632851291,"stop":1726632893882,"duration":42591}},{"uid":"861bbaf3676737bb","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/363//#testresult/861bbaf3676737bb","status":"passed","time":{"start":1726546342720,"stop":1726546384644,"duration":41924}},{"uid":"6813756057284bc2","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/362//#testresult/6813756057284bc2","status":"passed","time":{"start":1726460034572,"stop":1726460076437,"duration":41865}},{"uid":"597d44036a4c76f5","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/361//#testresult/597d44036a4c76f5","status":"passed","time":{"start":1726373602522,"stop":1726373639803,"duration":37281}},{"uid":"30ad381fe4c2bd1a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/360//#testresult/30ad381fe4c2bd1a","status":"passed","time":{"start":1726287174378,"stop":1726287211455,"duration":37077}},{"uid":"81429fcd393ea215","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/359//#testresult/81429fcd393ea215","status":"passed","time":{"start":1726200849947,"stop":1726200911402,"duration":61455}},{"uid":"6dba8338a129214e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/358//#testresult/6dba8338a129214e","status":"passed","time":{"start":1726120903419,"stop":1726120965081,"duration":61662}},{"uid":"149da614f75102ed","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/357//#testresult/149da614f75102ed","status":"passed","time":{"start":1726114518799,"stop":1726114580415,"duration":61616}},{"uid":"47cec3ca3f3b0aaa","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/356//#testresult/47cec3ca3f3b0aaa","status":"passed","time":{"start":1726046802960,"stop":1726046864446,"duration":61486}}]},"tags":[]},"source":"60ae26774501218a.json","parameterValues":[]}