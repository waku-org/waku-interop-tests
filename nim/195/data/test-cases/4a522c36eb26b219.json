{"uid":"4a522c36eb26b219","name":"test_valid_payloads_at_spam_rate","fullName":"tests.relay.test_rln.TestRelayRLN#test_valid_payloads_at_spam_rate","historyId":"74497a637911877fa7942135bd8ced89","time":{"start":1716195270596,"stop":1716195292346,"duration":21750},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"test_id","time":{"start":1716195269654,"stop":1716195269654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1716195269654,"stop":1716195269654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1716195269654,"stop":1716195269654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1716195269654,"stop":1716195269654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1716195269654,"stop":1716195269654,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1716195269655,"stop":1716195269655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"register_main_rln_relay_nodes","time":{"start":1716195269655,"stop":1716195270595,"duration":940},"status":"passed","steps":[{"name":"register_rln_single_node","time":{"start":1716195269655,"stop":1716195270069,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rln_creds_source","value":"'{\"rln-relay-cred-password\": \"fog4238gjfdfQ\", \"rln-relay-eth-client-address\": \"https://sepolia.infura.io/v3/0fbc961f49944da4b8fde35715e2171b\",  \"rln-relay-eth-contract-address\": \"0xF471d71E9b1455bBF4b85d475afb9BB0954A29c4\",  \"rln-relay-eth-private-key-1\": \"d5f76ef141a96d916f99c72878a92cc6fb479af8441670d103e307d1184ab367\",  \"rln-relay-eth-private-key-2\": \"6bafcb0228b6b369b2de376bd9e37cdd3f5d30ce0787992b235acfacfa5de52e\",  \"rln-relay-eth-private-key-3\": \"f11b72833fea837ab8d4a1383b6d297c601600fcae5e95a1c22fa97fd20d16dd\",  \"rln-relay-eth-private-key-4\": \"259c2416e4216a45680ce82daf229eb33dc076dd2db76c7eb1c84cc2e35a9c8c\",  \"rln-relay-eth-private-key-5\": \"55cc95ecf3d32ce2ca1c5ead8ea1e3702812d285c1892b12bdc33e8c1e476ebe\"}'"},{"name":"rln_creds_id","value":"'1'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"register_rln_single_node","time":{"start":1716195270070,"stop":1716195270595,"duration":525},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rln_creds_source","value":"'{\"rln-relay-cred-password\": \"fog4238gjfdfQ\", \"rln-relay-eth-client-address\": \"https://sepolia.infura.io/v3/0fbc961f49944da4b8fde35715e2171b\",  \"rln-relay-eth-contract-address\": \"0xF471d71E9b1455bBF4b85d475afb9BB0954A29c4\",  \"rln-relay-eth-private-key-1\": \"d5f76ef141a96d916f99c72878a92cc6fb479af8441670d103e307d1184ab367\",  \"rln-relay-eth-private-key-2\": \"6bafcb0228b6b369b2de376bd9e37cdd3f5d30ce0787992b235acfacfa5de52e\",  \"rln-relay-eth-private-key-3\": \"f11b72833fea837ab8d4a1383b6d297c601600fcae5e95a1c22fa97fd20d16dd\",  \"rln-relay-eth-private-key-4\": \"259c2416e4216a45680ce82daf229eb33dc076dd2db76c7eb1c84cc2e35a9c8c\",  \"rln-relay-eth-private-key-5\": \"55cc95ecf3d32ce2ca1c5ead8ea1e3702812d285c1892b12bdc33e8c1e476ebe\"}'"},{"name":"rln_creds_id","value":"'2'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_main_rln_relay_nodes","time":{"start":1716195270596,"stop":1716195290903,"duration":20307},"status":"passed","steps":[{"name":"setup_first_rln_relay_node","time":{"start":1716195270596,"stop":1716195281283,"duration":10687},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_second_rln_relay_node","time":{"start":1716195281284,"stop":1716195290903,"duration":9619},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1716195290875,"stop":1716195290903,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.relay.test_rln.TestRelayRLN object at 0x7f4fe640bb60>, <src.node.waku_node.WakuNode object at 0x7f4fe41ca420>, ['/ip4/172.18.0.122/tcp/52838/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1716195290903,"stop":1716195290930,"duration":27},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1716195290904,"stop":1716195290930,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7f4fe422df40>, <src.node.waku_node.WakuNode object at 0x7f4fe41ca420>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/1/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716195290930,"stop":1716195290930,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'SGVsbG8gV29ybGQh'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716195290931,"stop":1716195291238,"duration":307},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'SGVsbG8gV29ybGQh', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716195290930481664}"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"use_lightpush","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716195291238,"stop":1716195291238,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'MTIzNDU2Nzg5MA=='"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716195291238,"stop":1716195291538,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'MTIzNDU2Nzg5MA==', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716195291238081280}"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"use_lightpush","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716195291538,"stop":1716195291538,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'eyJrZXkiOiAidmFsdWUifQ=='"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716195291538,"stop":1716195291854,"duration":316},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:52837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0 with response: b'Failed to publish: RLN validation failed'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/rln.py\", line 155, in publish_message\n    sender.send_relay_message(message, pubsub_topic)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 261, in send_relay_message\n    return self._api.send_relay_message(message, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 51, in send_relay_message\n    return self.rest_call(\"post\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\", json.dumps(message))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'eyJrZXkiOiAidmFsdWUifQ==', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716195291538359808}"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"use_lightpush","value":"False"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716195291856,"stop":1716195291856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'6L+Z5piv5LiA5Lqb5Lit5paH'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716195291856,"stop":1716195292106,"duration":250},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:52837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0 with response: b'Failed to publish: RLN validation failed'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/rln.py\", line 155, in publish_message\n    sender.send_relay_message(message, pubsub_topic)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 261, in send_relay_message\n    return self._api.send_relay_message(message, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 51, in send_relay_message\n    return self.rest_call(\"post\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\", json.dumps(message))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"message","value":"{'payload': '6L+Z5piv5LiA5Lqb5Lit5paH', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716195291855999488}"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"use_lightpush","value":"False"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1716195292107,"stop":1716195292107,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'8J+agPCfjJ/inKg='"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1716195292107,"stop":1716195292346,"duration":239},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"message","value":"{'payload': '8J+agPCfjJ/inKg=', 'contentTopic': '/test/1/waku-rln-relay/proto', 'timestamp': 1716195292106554624}"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"use_lightpush","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e06743a8536f07bf","name":"log","source":"e06743a8536f07bf.txt","type":"text/plain","size":18179}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":16,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1716195292349,"stop":1716195292350,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1716195292350,"stop":1716195297111,"duration":4761},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1716195297111,"stop":1716195297111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Test works only with nwaku')"},{"name":"tag","value":"@pytest.mark.usefixtures('register_main_rln_relay_nodes')"},{"name":"tag","value":"xdist_group(name='RLN serial tests')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_rln"},{"name":"subSuite","value":"TestRelayRLN"},{"name":"host","value":"fv-az1445-602"},{"name":"thread","value":"2142-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_rln"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":4,"skipped":2,"passed":34,"unknown":0,"total":41},"items":[{"uid":"20667ece4c0e8cfa","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/194//#testresult/20667ece4c0e8cfa","status":"passed","time":{"start":1716178438894,"stop":1716178460369,"duration":21475}},{"uid":"5de00cafcffc1e47","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/193//#testresult/5de00cafcffc1e47","status":"passed","time":{"start":1716091975774,"stop":1716091997894,"duration":22120}},{"uid":"52fa868511cd8cbb","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/192//#testresult/52fa868511cd8cbb","status":"passed","time":{"start":1716005503440,"stop":1716005524695,"duration":21255}},{"uid":"1494087038badbb8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/191//#testresult/1494087038badbb8","status":"passed","time":{"start":1715919177044,"stop":1715919199525,"duration":22481}},{"uid":"8e09450c2c801ae4","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/190//#testresult/8e09450c2c801ae4","status":"passed","time":{"start":1715843660201,"stop":1715843683009,"duration":22808}},{"uid":"7be5fb4a2c126876","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/189//#testresult/7be5fb4a2c126876","status":"passed","time":{"start":1715832656101,"stop":1715832679120,"duration":23019}},{"uid":"fd913a65d6b4da26","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/188//#testresult/fd913a65d6b4da26","status":"passed","time":{"start":1715746352893,"stop":1715746374124,"duration":21231}},{"uid":"38a740cfbccb3134","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/187//#testresult/38a740cfbccb3134","status":"passed","time":{"start":1715659902441,"stop":1715659924003,"duration":21562}},{"uid":"67e14a13f171957b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/186//#testresult/67e14a13f171957b","status":"passed","time":{"start":1715601355054,"stop":1715601377114,"duration":22060}},{"uid":"8140fa93778c5ee4","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/185//#testresult/8140fa93778c5ee4","status":"passed","time":{"start":1715596639804,"stop":1715596661245,"duration":21441}},{"uid":"1706051e673d9c57","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/184//#testresult/1706051e673d9c57","status":"passed","time":{"start":1715573598953,"stop":1715573620896,"duration":21943}},{"uid":"890b26c3b80ea032","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/183//#testresult/890b26c3b80ea032","status":"passed","time":{"start":1715487161930,"stop":1715487183608,"duration":21678}},{"uid":"77fe4f9ad7d65f38","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/182//#testresult/77fe4f9ad7d65f38","status":"passed","time":{"start":1715400703341,"stop":1715400725053,"duration":21712}},{"uid":"f74f6ede7d4c974","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/181//#testresult/f74f6ede7d4c974","status":"passed","time":{"start":1715314316387,"stop":1715314338073,"duration":21686}},{"uid":"3efef92762325c91","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/180//#testresult/3efef92762325c91","status":"passed","time":{"start":1715245758000,"stop":1715245778915,"duration":20915}},{"uid":"62e538fb67332241","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/180//#testresult/62e538fb67332241","status":"passed","time":{"start":1715228093942,"stop":1715228114930,"duration":20988}},{"uid":"58399d0a34b1413e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/24//#testresult/58399d0a34b1413e","status":"passed","time":{"start":1715156840289,"stop":1715156861924,"duration":21635}},{"uid":"91eb86479784fc5","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/23//#testresult/91eb86479784fc5","status":"passed","time":{"start":1715154020859,"stop":1715154042960,"duration":22101}},{"uid":"33e6d2052015b7ad","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/179//#testresult/33e6d2052015b7ad","status":"passed","time":{"start":1715141482033,"stop":1715141503650,"duration":21617}},{"uid":"3eca2263e1120a1d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/22//#testresult/3eca2263e1120a1d","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_1/keystore.json'","time":{"start":1715088614916,"stop":1715088614916,"duration":0}}]},"tags":["@pytest.mark.skipif(False, reason='Test works only with nwaku')","xdist_group(name='RLN serial tests')","@pytest.mark.usefixtures('register_main_rln_relay_nodes')"]},"source":"4a522c36eb26b219.json","parameterValues":[]}