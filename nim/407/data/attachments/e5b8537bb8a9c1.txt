[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_extra_field with id: 2024-10-26_04-08-04__0d4350f3-6887-455a-9da4-15559e06a100
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-26_04-08-04__0d4350f3-6887-455a-9da4-15559e06a100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65003', '65004', '65005', '65006', '65007']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65003:65003 -p 65004:65004 -p 65005:65005 -p 65006:65006 -p 65007:65007 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65005 --rest-port=65003 --tcp-port=65004 --discv5-udp-port=65006 --rest-address=0.0.0.0 --nat=extip:172.18.0.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cece34dd9fbbae5cffffc631abfc58dab80c54aea4b5bf38d6beebc5a4e40baf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65007 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.199 waku 6fa53e6402911bbeebc1a87bf3deec0e6cd6de93652c71fe84427ad96ca42c03
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6fa53e640291. Setting up logs at ./log/docker/node1_2024-10-26_04-08-04__0d4350f3-6887-455a-9da4-15559e06a100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 65003
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 223e7b7ffc0d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65003/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65003/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.199/tcp/65004/p2p/16Uiu2HAm6Q3oZfabp3gbJiraEBUqJMzoSLYDBVX7FKhNpzm44qad","/ip4/172.18.0.199/tcp/65005/ws/p2p/16Uiu2HAm6Q3oZfabp3gbJiraEBUqJMzoSLYDBVX7FKhNpzm44qad"],"enrUri":"enr:-LO4QDnsiNFVTJYK1H7FHXB8oigb8ZqJ9H1L6XXmZj6SxMoRC7ads_OMVsiWrvUNhlDqR0CtxC3kE98LxwxSL9B7WWkBgmlkgnY0gmlwhKwSAMeKbXVsdGlhZGRyc4wACgSsEgDHBv3t3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKjBhIUq3b_GijUrcgApOdpyOZSOyQ3my9h7eDf-RmaRoN0Y3CC_eyDdWRwgv3uhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-26_04-08-04__0d4350f3-6887-455a-9da4-15559e06a100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.108.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43461', '43462', '43463', '43464', '43465']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43461:43461 -p 43462:43462 -p 43463:43463 -p 43464:43464 -p 43465:43465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43463 --rest-port=43461 --tcp-port=43462 --discv5-udp-port=43464 --rest-address=0.0.0.0 --nat=extip:172.18.108.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fceac4a1dbd99bb8bbf0850b0f8ad1bc7672f6bd9973eeb2efde4ae26aecbd5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43465 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDnsiNFVTJYK1H7FHXB8oigb8ZqJ9H1L6XXmZj6SxMoRC7ads_OMVsiWrvUNhlDqR0CtxC3kE98LxwxSL9B7WWkBgmlkgnY0gmlwhKwSAMeKbXVsdGlhZGRyc4wACgSsEgDHBv3t3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKjBhIUq3b_GijUrcgApOdpyOZSOyQ3my9h7eDf-RmaRoN0Y3CC_eyDdWRwgv3uhXdha3UyBQ --filternode=/ip4/172.18.0.199/tcp/65004/p2p/16Uiu2HAm6Q3oZfabp3gbJiraEBUqJMzoSLYDBVX7FKhNpzm44qad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.108.47 waku 84e9c804a8c1316ddd2398baf5addc94b93b420291a8f884de278bfb895f5e4c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 84e9c804a8c1. Setting up logs at ./log/docker/node2_2024-10-26_04-08-04__0d4350f3-6887-455a-9da4-15559e06a100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43461
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43461/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.47/tcp/43462/p2p/16Uiu2HAm5syyVyFRTmt8cc1BNGcxPvaYnKzEW8sKgPkco8hMZVMN","/ip4/172.18.108.47/tcp/43463/ws/p2p/16Uiu2HAm5syyVyFRTmt8cc1BNGcxPvaYnKzEW8sKgPkco8hMZVMN"],"enrUri":"enr:-LO4QKoZiYT5BJWn0I0IfvdZ9OiZ2AynKYn6tEYLhfUwi-uJXkXEnwa9FqWd_Q2XAG_lysTqkui5uxTIDaKi0qgEBUoBgmlkgnY0gmlwhKwSbC-KbXVsdGlhZGRyc4wACgSsEmwvBqnH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKbUlE3Kvdbm3_MV4uVLQ1J-FG4xYTNtvCdEaFzcK-fjYN0Y3CCqcaDdWRwgqnIhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43461/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.199/tcp/65004/p2p/16Uiu2HAm6Q3oZfabp3gbJiraEBUqJMzoSLYDBVX7FKhNpzm44qad"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65003/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43461/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6dd00f89-3274-494b-8113-436bbf9ede4e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6dd00f89-3274-494b-8113-436bbf9ede4e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:43461/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1, "extraField": "extraValue"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:43461/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6fa53e640291
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 84e9c804a8c1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6fa53e640291. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.