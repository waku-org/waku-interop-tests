[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_empty_hashes with id: 2024-10-26_04-25-28__6799daec-a1da-4192-8cc7-3733cd2de939
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-26_04-25-28__6799daec-a1da-4192-8cc7-3733cd2de939__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.202
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9745', '9746', '9747', '9748', '9749']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9745:9745 -p 9746:9746 -p 9747:9747 -p 9748:9748 -p 9749:9749 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9747 --rest-port=9745 --tcp-port=9746 --discv5-udp-port=9748 --rest-address=0.0.0.0 --nat=extip:172.18.95.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9b98faaaecde5e6f18e45d5de9bcc89cc261915b775d1261d7d8b7c5ee298ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9749 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.202 waku 52cbd3b1b8795a4a517e01e1ac574f5566f4518bb4675212462e1d343b03b848
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 52cbd3b1b879. Setting up logs at ./log/docker/publishing_node1_2024-10-26_04-25-28__6799daec-a1da-4192-8cc7-3733cd2de939__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9745
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2d8651741876. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9745/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9745/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.202/tcp/9746/p2p/16Uiu2HAmSN6wdg8sHoj1ybM8g5gHkYbygCfJpdQp7aQFTjM19Wgn","/ip4/172.18.95.202/tcp/9747/ws/p2p/16Uiu2HAmSN6wdg8sHoj1ybM8g5gHkYbygCfJpdQp7aQFTjM19Wgn"],"enrUri":"enr:-LO4QD4mQ1kE3eR7rkxGguACWOUHffKzXLnsLrQ5-LHidvvjCGpGP9yoHb5VncuYh4hRshSnAq5WWuVdQiJN6wXmgXUBgmlkgnY0gmlwhKwSX8qKbXVsdGlhZGRyc4wACgSsEl_KBiYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPLsDJrmuxkULOMpjKaAzA2E2FvqeQ89GeSxVSnyZDHV4N0Y3CCJhKDdWRwgiYUhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-26_04-25-28__6799daec-a1da-4192-8cc7-3733cd2de939__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.142.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49516', '49517', '49518', '49519', '49520']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49516:49516 -p 49517:49517 -p 49518:49518 -p 49519:49519 -p 49520:49520 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49518 --rest-port=49516 --tcp-port=49517 --discv5-udp-port=49519 --rest-address=0.0.0.0 --nat=extip:172.18.142.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25ed584e2e4ca1c5a10acb9f0d6fbdc8c5beaae5b853ddbe91dc835caae3dfb7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49520 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QD4mQ1kE3eR7rkxGguACWOUHffKzXLnsLrQ5-LHidvvjCGpGP9yoHb5VncuYh4hRshSnAq5WWuVdQiJN6wXmgXUBgmlkgnY0gmlwhKwSX8qKbXVsdGlhZGRyc4wACgSsEl_KBiYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPLsDJrmuxkULOMpjKaAzA2E2FvqeQ89GeSxVSnyZDHV4N0Y3CCJhKDdWRwgiYUhXdha3UyAw --storenode=/ip4/172.18.95.202/tcp/9746/p2p/16Uiu2HAmSN6wdg8sHoj1ybM8g5gHkYbygCfJpdQp7aQFTjM19Wgn --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.102.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20399', '20400', '20401', '20402', '20403']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20399:20399 -p 20400:20400 -p 20401:20401 -p 20402:20402 -p 20403:20403 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20401 --rest-port=20399 --tcp-port=20400 --discv5-udp-port=20402 --rest-address=0.0.0.0 --nat=extip:172.18.102.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9bd4c49a72f6ad3ed7fadd0dceeadb96a63cbc6dbbd473fac3b406afd18ec775 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20403 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QD4mQ1kE3eR7rkxGguACWOUHffKzXLnsLrQ5-LHidvvjCGpGP9yoHb5VncuYh4hRshSnAq5WWuVdQiJN6wXmgXUBgmlkgnY0gmlwhKwSX8qKbXVsdGlhZGRyc4wACgSsEl_KBiYT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPLsDJrmuxkULOMpjKaAzA2E2FvqeQ89GeSxVSnyZDHV4N0Y3CCJhKDdWRwgiYUhXdha3UyAw --storenode=/ip4/172.18.95.202/tcp/9746/p2p/16Uiu2HAmSN6wdg8sHoj1ybM8g5gHkYbygCfJpdQp7aQFTjM19Wgn --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.102.125 waku bc35f2bb71444f9616859edfccfc6fa4ece2b183af97de1f9d5ad2db72f51452
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bc35f2bb7144. Setting up logs at ./log/docker/store_node1_2024-10-26_04-25-28__6799daec-a1da-4192-8cc7-3733cd2de939__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20399
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20399/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20399/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.125/tcp/20400/p2p/16Uiu2HAmD1i86Pt1jVoQqjzxZ3DzKv5mV3L6EJzgvEiLU6yTHfHv","/ip4/172.18.102.125/tcp/20401/ws/p2p/16Uiu2HAmD1i86Pt1jVoQqjzxZ3DzKv5mV3L6EJzgvEiLU6yTHfHv"],"enrUri":"enr:-LO4QBs_W_VwGpxtZqXFoTqS9Ol4pZJbxmts3JStPYx3EKQ3Ys8rq1JALWkUulxoP-YtyJ_kuErR2OunyZ0_gRzyMnkBgmlkgnY0gmlwhKwSZn2KbXVsdGlhZGRyc4wACgSsEmZ9Bk-x3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMFTtk1z3erfcys7GlqqLw0E2PhAEGCj5S54REIgqWMDYN0Y3CCT7CDdWRwgk-yhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20399/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.202/tcp/9746/p2p/16Uiu2HAmSN6wdg8sHoj1ybM8g5gHkYbygCfJpdQp7aQFTjM19Wgn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9745/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20399/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9745/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9745/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9745/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9745/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9745/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i88tidQZmUO0rha+Ek8G9RIgS1r8nzZ9AcmUvnDBjYE="},{"messageHash":"e7/G7GITNq2I0MweOJDWB7KSBfrbGlFbpSl4Q6JZAD4="},{"messageHash":"dFs++861o5ri3K6yHKID9v6aXFAIBJqeOB9kvmssqRI="},{"messageHash":"sY4UOprxQIQZ/vlmVv5raUvYfLgkrmb6yq3k0u7Ps5I="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20399/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"i88tidQZmUO0rha+Ek8G9RIgS1r8nzZ9AcmUvnDBjYE="},{"messageHash":"e7/G7GITNq2I0MweOJDWB7KSBfrbGlFbpSl4Q6JZAD4="},{"messageHash":"dFs++861o5ri3K6yHKID9v6aXFAIBJqeOB9kvmssqRI="},{"messageHash":"sY4UOprxQIQZ/vlmVv5raUvYfLgkrmb6yq3k0u7Ps5I="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 52cbd3b1b879
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bc35f2bb7144
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 52cbd3b1b879. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.