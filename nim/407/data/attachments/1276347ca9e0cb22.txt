[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_pubsub_topic_string_instead_of_list with id: 2024-10-26_04-07-30__aa859e68-6f5c-4851-b90c-a5d2bb0daf80
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-26_04-07-30__aa859e68-6f5c-4851-b90c-a5d2bb0daf80__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17387', '17388', '17389', '17390', '17391']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17387:17387 -p 17388:17388 -p 17389:17389 -p 17390:17390 -p 17391:17391 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17389 --rest-port=17387 --tcp-port=17388 --discv5-udp-port=17390 --rest-address=0.0.0.0 --nat=extip:172.18.15.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a06fbf5a409eda0bdbde9ca8ec2cf4cecc27d2bb65fee1bf8eb4ddcfc7ec83cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17391 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.246 waku 9fd04ed6356384bc094fabfb61042c71f864f8aedf7c56976d71a0460a961e1b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9fd04ed63563. Setting up logs at ./log/docker/node1_2024-10-26_04-07-30__aa859e68-6f5c-4851-b90c-a5d2bb0daf80__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17387
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ae22ecd7c395. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17387/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17387/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.246/tcp/17388/p2p/16Uiu2HAmMvpxwK73PWJDQufaiMhk3xBtUkpAJPwBF8dTuwuKsA2u","/ip4/172.18.15.246/tcp/17389/ws/p2p/16Uiu2HAmMvpxwK73PWJDQufaiMhk3xBtUkpAJPwBF8dTuwuKsA2u"],"enrUri":"enr:-LO4QBWq5yMKZAVfFIJFgALZUIEWILyCjG7aFJN1jDf8oDYFGrO_F3HlDOfngLztNgUjh5bR1A3uPErjURVo3OL5aLQBgmlkgnY0gmlwhKwSD_aKbXVsdGlhZGRyc4wACgSsEg_2BkPt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJx9z53P1kCjGPeKvE-aN11kmS8w8I-ktiJyC5vT-jooN0Y3CCQ-yDdWRwgkPuhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-26_04-07-30__aa859e68-6f5c-4851-b90c-a5d2bb0daf80__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.35.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35606', '35607', '35608', '35609', '35610']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35606:35606 -p 35607:35607 -p 35608:35608 -p 35609:35609 -p 35610:35610 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35608 --rest-port=35606 --tcp-port=35607 --discv5-udp-port=35609 --rest-address=0.0.0.0 --nat=extip:172.18.35.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8c2ab17edd5808db3bec966dd6ef0fa2cb37faeceacddcdaaffeddf1aee4ef5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35610 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBWq5yMKZAVfFIJFgALZUIEWILyCjG7aFJN1jDf8oDYFGrO_F3HlDOfngLztNgUjh5bR1A3uPErjURVo3OL5aLQBgmlkgnY0gmlwhKwSD_aKbXVsdGlhZGRyc4wACgSsEg_2BkPt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJx9z53P1kCjGPeKvE-aN11kmS8w8I-ktiJyC5vT-jooN0Y3CCQ-yDdWRwgkPuhXdha3UyBQ --filternode=/ip4/172.18.15.246/tcp/17388/p2p/16Uiu2HAmMvpxwK73PWJDQufaiMhk3xBtUkpAJPwBF8dTuwuKsA2u
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.35.159 waku 271ecdd55efdc11288a565c4779cabe0387cd2d747ea4f9d34dfe96799c0f591
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 271ecdd55efd. Setting up logs at ./log/docker/node2_2024-10-26_04-07-30__aa859e68-6f5c-4851-b90c-a5d2bb0daf80__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35606
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35606/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35606/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.159/tcp/35607/p2p/16Uiu2HAmRqvFASYeDoCftHyBsRfP5pdxNimhRtFBiwNKKvS98y82","/ip4/172.18.35.159/tcp/35608/ws/p2p/16Uiu2HAmRqvFASYeDoCftHyBsRfP5pdxNimhRtFBiwNKKvS98y82"],"enrUri":"enr:-LO4QHw5EzdFA73SGVKmsQfbnXJJMkmHrn4KshGsjoxXZTPbe090T5oGzuG2cm9i-yNSLixpKTk8I-SeW23wdlKHxaYBgmlkgnY0gmlwhKwSI5-KbXVsdGlhZGRyc4wACgSsEiOfBosY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPD9K07_JBOXcJZVUbdpZqFTtLkz5AXUrvE_MBBPMK574N0Y3CCixeDdWRwgosZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35606/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.246/tcp/17388/p2p/16Uiu2HAmMvpxwK73PWJDQufaiMhk3xBtUkpAJPwBF8dTuwuKsA2u"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17387/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35606/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ff0f9210-6a0e-41ac-b7ed-b2ac4e80caf9", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ff0f9210-6a0e-41ac-b7ed-b2ac4e80caf9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:35606/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35606/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9fd04ed63563
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 271ecdd55efd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9fd04ed63563. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.