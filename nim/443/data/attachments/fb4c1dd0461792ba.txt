[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-11-10_04-33-40__2c59839b-bdae-40ce-bda5-09cb75be4559
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-10_04-33-40__2c59839b-bdae-40ce-bda5-09cb75be4559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.49.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28595', '28596', '28597', '28598', '28599']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28595:28595 -p 28596:28596 -p 28597:28597 -p 28598:28598 -p 28599:28599 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28597 --rest-port=28595 --tcp-port=28596 --discv5-udp-port=28598 --rest-address=0.0.0.0 --nat=extip:172.18.49.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e51e586e08143e1df7a6420ffc9ebef11741dbf0bbfc4ca4bbeb7fe38df56cdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28599 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.49.5 waku 75c4d351d0602b77f067f55da444bb1832cfb53b39db2b58238ded757681041b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 75c4d351d060. Setting up logs at ./log/docker/publishing_node1_2024-11-10_04-33-40__2c59839b-bdae-40ce-bda5-09cb75be4559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28595
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cbddb7b3391e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28595/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28595/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.5/tcp/28596/p2p/16Uiu2HAmJciv9TX5G8FxRK9oiBbhSEHRTeF7yFxe2s9Vy2tFFgxA","/ip4/172.18.49.5/tcp/28597/ws/p2p/16Uiu2HAmJciv9TX5G8FxRK9oiBbhSEHRTeF7yFxe2s9Vy2tFFgxA"],"enrUri":"enr:-L24QHijgknJaA_wt4FeNOQV-LlT1XCb1UFyyBtnfBTKXK2KFHCgobdovh0Gbm6b5qt276d8u5wJ3-tSklsI7tHnULYCgmlkgnY0gmlwhKwSMQWKbXVsdGlhZGRyc5YACASsEjEFBm-0AAoErBIxBQZvtd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWJGCXFBERpt45FouRlIWy0gyKabsEpqh3Fgnb34THyuDdGNwgm-0g3VkcIJvtoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-10_04-33-40__2c59839b-bdae-40ce-bda5-09cb75be4559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.206.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6922', '6923', '6924', '6925', '6926']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6922:6922 -p 6923:6923 -p 6924:6924 -p 6925:6925 -p 6926:6926 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6924 --rest-port=6922 --tcp-port=6923 --discv5-udp-port=6925 --rest-address=0.0.0.0 --nat=extip:172.18.206.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7bd7f7cc39b7dc04aeeaa9b46cafaafb8fc884afe0bb81966b142a2da8dc359 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6926 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHijgknJaA_wt4FeNOQV-LlT1XCb1UFyyBtnfBTKXK2KFHCgobdovh0Gbm6b5qt276d8u5wJ3-tSklsI7tHnULYCgmlkgnY0gmlwhKwSMQWKbXVsdGlhZGRyc5YACASsEjEFBm-0AAoErBIxBQZvtd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWJGCXFBERpt45FouRlIWy0gyKabsEpqh3Fgnb34THyuDdGNwgm-0g3VkcIJvtoV3YWt1MgM --storenode=/ip4/172.18.49.5/tcp/28596/p2p/16Uiu2HAmJciv9TX5G8FxRK9oiBbhSEHRTeF7yFxe2s9Vy2tFFgxA --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.206.49 waku 0ec59ab2c8c7f4e4d96369854db03ea10fc43dba0ee69f11614f1ec24b277647
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0ec59ab2c8c7. Setting up logs at ./log/docker/store_node1_2024-11-10_04-33-40__2c59839b-bdae-40ce-bda5-09cb75be4559__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6922
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6922/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6922/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.49/tcp/6923/p2p/16Uiu2HAmQsJa4xpkQqJZ9UhgaH1jRoR7tWAX87QnwbkMXTQQsDNU","/ip4/172.18.206.49/tcp/6924/ws/p2p/16Uiu2HAmQsJa4xpkQqJZ9UhgaH1jRoR7tWAX87QnwbkMXTQQsDNU"],"enrUri":"enr:-L24QMWfRWj3HWee_9aPz4qiPNZOwU72D7VXUEanncVfIcNXHl7T6HwhxI4YVDMtd54-7pJxcGw6ipLjeGSQw0OskNkCgmlkgnY0gmlwhKwSzjGKbXVsdGlhZGRyc5YACASsEs4xBhsLAAoErBLOMQYbDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtXPQivP8tVbiByu7TivtRtkhpD-Wlsgxo1MuShbYM62DdGNwghsLg3VkcIIbDYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6922/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.49.5/tcp/28596/p2p/16Uiu2HAmJciv9TX5G8FxRK9oiBbhSEHRTeF7yFxe2s9Vy2tFFgxA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6922/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28595/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1731213229303490144&endTime=1731213234303708832&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Eu0ILHmsIJ2n+ks/2aCrZdG7clMtaiIPREq4P8UnQnE="},{"messageHash":"8itKvTDhzeldWRnUZd4bGAHbOvQZuu30JOWLR34NpaI="},{"messageHash":"iezy+bDAgdRHOZxidjkFPutkSz8D4Ko0/IM+h2B26PY="},{"messageHash":"LfNaKpdD6I6Yh+tHuudAbdmUmrnmWRJpm5TIofDC2R0="},{"messageHash":"+dB/KtDitbtK2lSSvw/R0nEbLrpMxPlGinO7ExpP9Ec="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6922/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1731213229303490144&endTime=1731213234303708832&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Eu0ILHmsIJ2n+ks/2aCrZdG7clMtaiIPREq4P8UnQnE="},{"messageHash":"8itKvTDhzeldWRnUZd4bGAHbOvQZuu30JOWLR34NpaI="},{"messageHash":"iezy+bDAgdRHOZxidjkFPutkSz8D4Ko0/IM+h2B26PY="},{"messageHash":"LfNaKpdD6I6Yh+tHuudAbdmUmrnmWRJpm5TIofDC2R0="},{"messageHash":"+dB/KtDitbtK2lSSvw/R0nEbLrpMxPlGinO7ExpP9Ec="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 75c4d351d060
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0ec59ab2c8c7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 75c4d351d060. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.