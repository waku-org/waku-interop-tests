[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.249.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36760', '36761', '36762', '36763', '36764']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36760:36760 -p 36761:36761 -p 36762:36762 -p 36763:36763 -p 36764:36764 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36762 --rest-port=36760 --tcp-port=36761 --discv5-udp-port=36763 --rest-address=0.0.0.0 --nat=extip:172.18.249.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5dfb7ddaecbd7e64c613b16e3fbb4bb8fc530e24fed76e8f53fcfd5bc0fa13ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36764 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.249.139 waku e989ff340aca90e7c8d914607d153d0218c00421c02c025d5120060f1fbb82e1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e7773b767453. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e989ff340aca. Setting up logs at ./log/docker/node1_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36760
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36760/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36760/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr","/ip4/172.18.249.139/tcp/36762/ws/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr"],"enrUri":"enr:-L24QAFMWM5_QmlHQ0rRvFHIAK9VQ6ty8jvvTQYCweDTGhFDes5yLBVIycvvc84oYW856ww_sU2K3v6pPxccNYUt2VICgmlkgnY0gmlwhKwS-YuKbXVsdGlhZGRyc5YACASsEvmLBo-ZAAoErBL5iwaPmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkuG_Y_mU_AmnizMB9t344-66dH2p6devRAw3JHM0Y_GDdGNwgo-Zg3VkcIKPm4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58867', '58868', '58869', '58870', '58871']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58867:58867 -p 58868:58868 -p 58869:58869 -p 58870:58870 -p 58871:58871 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58869 --rest-port=58867 --tcp-port=58868 --discv5-udp-port=58870 --rest-address=0.0.0.0 --nat=extip:172.18.255.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d528f381bc33dbddc038bae375c6ebf06f3ec3c6b0b4d7ab4cbea3fdec3a03c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58871 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAFMWM5_QmlHQ0rRvFHIAK9VQ6ty8jvvTQYCweDTGhFDes5yLBVIycvvc84oYW856ww_sU2K3v6pPxccNYUt2VICgmlkgnY0gmlwhKwS-YuKbXVsdGlhZGRyc5YACASsEvmLBo-ZAAoErBL5iwaPmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkuG_Y_mU_AmnizMB9t344-66dH2p6devRAw3JHM0Y_GDdGNwgo-Zg3VkcIKPm4V3YWt1MgU --filternode=/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.144 waku 6e0f9a0d72c42378e2474c191ae444461be60fd0162a5eb1472cdaa5486eddb0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6e0f9a0d72c4. Setting up logs at ./log/docker/node2_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58867
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58867/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58867/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.144/tcp/58868/p2p/16Uiu2HAmU81Ji5jScMUAVGaAoCrMyYzAyEeK4jN7hCvbpFWt8G3S","/ip4/172.18.255.144/tcp/58869/ws/p2p/16Uiu2HAmU81Ji5jScMUAVGaAoCrMyYzAyEeK4jN7hCvbpFWt8G3S"],"enrUri":"enr:-L24QM1xX77MV9fKXFy3s3JSl7iekLakMTK0EQkw2vPGfSWwET34FZVSVWZ_32vA36J0bnyOrOdvInzo2B58SWGMYOsCgmlkgnY0gmlwhKwS_5CKbXVsdGlhZGRyc5YACASsEv-QBuX0AAoErBL_kAbl9d0DgnJzhQADAQAAiXNlY3AyNTZrMaED5csQ7gzFRLiy2yYrSu-YikYFfeGAt_o3UwT-J-wx_xGDdGNwguX0g3VkcILl9oV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58867/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39656', '39657', '39658', '39659', '39660']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39656:39656 -p 39657:39657 -p 39658:39658 -p 39659:39659 -p 39660:39660 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39658 --rest-port=39656 --tcp-port=39657 --discv5-udp-port=39659 --rest-address=0.0.0.0 --nat=extip:172.18.212.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d46adefa794bc8532d8ecbdfaba1cfcebeaaa9f5decaf54ccd39c6cd59188e3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39660 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAFMWM5_QmlHQ0rRvFHIAK9VQ6ty8jvvTQYCweDTGhFDes5yLBVIycvvc84oYW856ww_sU2K3v6pPxccNYUt2VICgmlkgnY0gmlwhKwS-YuKbXVsdGlhZGRyc5YACASsEvmLBo-ZAAoErBL5iwaPmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkuG_Y_mU_AmnizMB9t344-66dH2p6devRAw3JHM0Y_GDdGNwgo-Zg3VkcIKPm4V3YWt1MgU --filternode=/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.212 waku abd867b199d9341cdf573daf628d4f5ac1545d469233f9fcafabed484a40be72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID abd867b199d9. Setting up logs at ./log/docker/node3_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39656
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39656/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39656/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.212/tcp/39657/p2p/16Uiu2HAmTntVVqG6o26JuWxGf1caSZVDLkUFg6qEvj8wX1JPyTiF","/ip4/172.18.212.212/tcp/39658/ws/p2p/16Uiu2HAmTntVVqG6o26JuWxGf1caSZVDLkUFg6qEvj8wX1JPyTiF"],"enrUri":"enr:-L24QDRNAeq4F0yJ9oVHqWqAHICN-B2qwRLHIVl3yCnCej5-GKjBhw2W_xst4s3gqYVlkql0Z__3dMIfn6Sp80xAmYgCgmlkgnY0gmlwhKwS1NSKbXVsdGlhZGRyc5YACASsEtTUBprpAAoErBLU1Aaa6t0DgnJzhQADAQAAiXNlY3AyNTZrMaED4OVTf0zDXm89_ct6Xtcde_h2HyhJWOrCXa8bPU8hjcCDdGNwgprpg3VkcIKa64V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39656/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.108.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19668', '19669', '19670', '19671', '19672']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19668:19668 -p 19669:19669 -p 19670:19670 -p 19671:19671 -p 19672:19672 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19670 --rest-port=19668 --tcp-port=19669 --discv5-udp-port=19671 --rest-address=0.0.0.0 --nat=extip:172.18.108.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2227ef0f0a916a5ad22fff16feca8f6e331cf179dec8e1fdfa07da26c2fbbfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19672 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAFMWM5_QmlHQ0rRvFHIAK9VQ6ty8jvvTQYCweDTGhFDes5yLBVIycvvc84oYW856ww_sU2K3v6pPxccNYUt2VICgmlkgnY0gmlwhKwS-YuKbXVsdGlhZGRyc5YACASsEvmLBo-ZAAoErBL5iwaPmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkuG_Y_mU_AmnizMB9t344-66dH2p6devRAw3JHM0Y_GDdGNwgo-Zg3VkcIKPm4V3YWt1MgU --filternode=/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.108.124 waku 6d0ff29c10a02046db8a4b8a911b5aa337e192a4d6d2aa5503b4d7f3c808339e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6d0ff29c10a0. Setting up logs at ./log/docker/node4_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19668
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19668/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19668/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.124/tcp/19669/p2p/16Uiu2HAm9SYKPmQSBhrkiJN6U6Agurve5moi2T8pojsb7y9fga9T","/ip4/172.18.108.124/tcp/19670/ws/p2p/16Uiu2HAm9SYKPmQSBhrkiJN6U6Agurve5moi2T8pojsb7y9fga9T"],"enrUri":"enr:-L24QOh2re3Z4BhBj-NAyiCEjwN-DKiJ-3qKjpXP5nF6UkM2CeAlqw-ZuwawlmtiYO-AvUv1LUGw1-Y_WGLcsqdGSxcCgmlkgnY0gmlwhKwSbHyKbXVsdGlhZGRyc5YACASsEmx8BkzVAAoErBJsfAZM1t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0DyIxEy3J7oRGviHGy96UHDujNgjwE6l_p7nh2_KKAaDdGNwgkzVg3VkcIJM14V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19668/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.253.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17006', '17007', '17008', '17009', '17010']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17006:17006 -p 17007:17007 -p 17008:17008 -p 17009:17009 -p 17010:17010 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17008 --rest-port=17006 --tcp-port=17007 --discv5-udp-port=17009 --rest-address=0.0.0.0 --nat=extip:172.18.253.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd4fed0c33da5df043c7bb47c68ce01e3cfbdcb2af05f1dee2cc1cb53f531ede --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17010 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAFMWM5_QmlHQ0rRvFHIAK9VQ6ty8jvvTQYCweDTGhFDes5yLBVIycvvc84oYW856ww_sU2K3v6pPxccNYUt2VICgmlkgnY0gmlwhKwS-YuKbXVsdGlhZGRyc5YACASsEvmLBo-ZAAoErBL5iwaPmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkuG_Y_mU_AmnizMB9t344-66dH2p6devRAw3JHM0Y_GDdGNwgo-Zg3VkcIKPm4V3YWt1MgU --filternode=/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.253.90 waku a3350fb5fcccb873f99bb09fff07fb25ef296337c4334659406eaf4ca9e09d78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a3350fb5fccc. Setting up logs at ./log/docker/node5_2024-11-10_04-07-30__ca14d366-84d8-4c2f-b111-b17eac89c14b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17006
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17006/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17006/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.90/tcp/17007/p2p/16Uiu2HAmRP3BwobcH6dXoMNk8QLJhLFGidiuRBnjtRvXGc2cDXYD","/ip4/172.18.253.90/tcp/17008/ws/p2p/16Uiu2HAmRP3BwobcH6dXoMNk8QLJhLFGidiuRBnjtRvXGc2cDXYD"],"enrUri":"enr:-L24QP6Ug8ikocp_QggBNPA1fJuRmIMNc84rPDKZUccKlrdkGTfzBt6y41bsmODaaZNGIvFEmZRSf9hGLDUQEPeVexsCgmlkgnY0gmlwhKwS_VqKbXVsdGlhZGRyc5YACASsEv1aBkJvAAoErBL9WgZCcN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDvRHY1-mOm9e0gg3w6KdT_DVPsx14W0HqjdDmvxD8GjqDdGNwgkJvg3VkcIJCcYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17006/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.249.139/tcp/36761/p2p/16Uiu2HAmNYMXWYUSp3xdNBYuJXJdxWjbKkPgPYcSa3WpkNyRxJjr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36760/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58867/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e8c0e1b3-0868-4a85-a2b2-f99694e214fd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e8c0e1b3-0868-4a85-a2b2-f99694e214fd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39656/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1162629e-f56f-4bc6-8267-c49c97a2b2e9", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1162629e-f56f-4bc6-8267-c49c97a2b2e9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19668/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0d3d71ac-6bcc-4312-a947-08e5141750a7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0d3d71ac-6bcc-4312-a947-08e5141750a7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17006/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6b78e850-d355-4bac-a41f-05d94ab3a9d3", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6b78e850-d355-4bac-a41f-05d94ab3a9d3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58867/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731211659741156608,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39656/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39656/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e989ff340aca
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6e0f9a0d72c4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e989ff340aca. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id abd867b199d9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6e0f9a0d72c4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6d0ff29c10a0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container abd867b199d9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a3350fb5fccc
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6d0ff29c10a0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.