[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.36.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26609', '26610', '26611', '26612', '26613']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26609:26609 -p 26610:26610 -p 26611:26611 -p 26612:26612 -p 26613:26613 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26611 --rest-port=26609 --tcp-port=26610 --discv5-udp-port=26612 --rest-address=0.0.0.0 --nat=extip:172.18.36.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cad7d9a45410ba5f9c1efbdb26019acca9a7a3b9721f1abd12546dabdb5efbbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26613 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.36.246 waku d2eef49db2c370ff24109d93b6354048594d5df69e523045a5a1cabc9b3e222a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d2eef49db2c3. Setting up logs at ./log/docker/node1_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26609
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 52c4493916b6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26609/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26609/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.36.246/tcp/26610/p2p/16Uiu2HAm8BxTZZpnYiQMX5NqaLyuP9bgbGYRpW7fg2g4cVYz45uc","/ip4/172.18.36.246/tcp/26611/ws/p2p/16Uiu2HAm8BxTZZpnYiQMX5NqaLyuP9bgbGYRpW7fg2g4cVYz45uc"],"enrUri":"enr:-L24QDEvZdC9_L5Yb9KehC9FSwyINUITQW4r9AhsPiTb0r3qQEuXyIjXksY2cvVDFfQ9N43F8g3fEwk0LcxLjAwoiaUCgmlkgnY0gmlwhKwSJPaKbXVsdGlhZGRyc5YACASsEiT2BmfyAAoErBIk9gZn890DgnJzhQADAQAAiXNlY3AyNTZrMaECvaRuayc4P_sDE1KDB7FM1R2_lgeSlhdcai2Ig8iayWODdGNwgmfyg3VkcIJn9IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49245', '49246', '49247', '49248', '49249']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49245:49245 -p 49246:49246 -p 49247:49247 -p 49248:49248 -p 49249:49249 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49247 --rest-port=49245 --tcp-port=49246 --discv5-udp-port=49248 --rest-address=0.0.0.0 --nat=extip:172.18.135.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0fde4dffddf191039dcfed39efc0be082d039fad9aecb6d255a9a7bb15ae68e0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49249 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDEvZdC9_L5Yb9KehC9FSwyINUITQW4r9AhsPiTb0r3qQEuXyIjXksY2cvVDFfQ9N43F8g3fEwk0LcxLjAwoiaUCgmlkgnY0gmlwhKwSJPaKbXVsdGlhZGRyc5YACASsEiT2BmfyAAoErBIk9gZn890DgnJzhQADAQAAiXNlY3AyNTZrMaECvaRuayc4P_sDE1KDB7FM1R2_lgeSlhdcai2Ig8iayWODdGNwgmfyg3VkcIJn9IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.151 waku cd19a7b31e3f19a323f694e9e33e10b46a8323765235e5501b5818bbf842b328
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cd19a7b31e3f. Setting up logs at ./log/docker/node2_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49245
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49245/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49245/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.151/tcp/49246/p2p/16Uiu2HAkuXZXML4URw199RhAHRpmLk5e9BfGKgWBqXddNBnFxdTW","/ip4/172.18.135.151/tcp/49247/ws/p2p/16Uiu2HAkuXZXML4URw199RhAHRpmLk5e9BfGKgWBqXddNBnFxdTW"],"enrUri":"enr:-L24QLbG5DJuV4mXOBwwjQ7m9hx0dr9fia6PFlGBVNxIzXhGCBd4r3vi_A6IYbI0u-HcME-7eUy12eF8-Uq4mkdkIuECgmlkgnY0gmlwhKwSh5eKbXVsdGlhZGRyc5YACASsEoeXBsBeAAoErBKHlwbAX90DgnJzhQADAQAAiXNlY3AyNTZrMaECAYIvZagcr--DI2JX_yHqs7U6PMM3Ro3fQkFbVUQxAKmDdGNwgsBeg3VkcILAYIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.36.246/tcp/26610/p2p/16Uiu2HAm8BxTZZpnYiQMX5NqaLyuP9bgbGYRpW7fg2g4cVYz45uc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28816', '28817', '28818', '28819', '28820']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28816:28816 -p 28817:28817 -p 28818:28818 -p 28819:28819 -p 28820:28820 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28818 --rest-port=28816 --tcp-port=28817 --discv5-udp-port=28819 --rest-address=0.0.0.0 --nat=extip:172.18.73.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5a5cbfdced936dddad167ef0dcebbf0f0cae276870142b6a5ee404abb486ee1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28820 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDEvZdC9_L5Yb9KehC9FSwyINUITQW4r9AhsPiTb0r3qQEuXyIjXksY2cvVDFfQ9N43F8g3fEwk0LcxLjAwoiaUCgmlkgnY0gmlwhKwSJPaKbXVsdGlhZGRyc5YACASsEiT2BmfyAAoErBIk9gZn890DgnJzhQADAQAAiXNlY3AyNTZrMaECvaRuayc4P_sDE1KDB7FM1R2_lgeSlhdcai2Ig8iayWODdGNwgmfyg3VkcIJn9IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.105 waku 09ba07becdea59fc9d60f071797e2a92bd50588791174825d31d2e422d501727
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09ba07becdea. Setting up logs at ./log/docker/node3_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28816
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28816/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28816/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.105/tcp/28817/p2p/16Uiu2HAmBRvviDc3Cib5arShwzDagr46bbxUiEM63bBkLRDEswV7","/ip4/172.18.73.105/tcp/28818/ws/p2p/16Uiu2HAmBRvviDc3Cib5arShwzDagr46bbxUiEM63bBkLRDEswV7"],"enrUri":"enr:-L24QL6idoEe_LQggk4Qi5NVH69Db99NdQuUrJBQQPLKWakSax0RFNOUFVknHymbAlqvcdTcL-C6GmlIkQ6US5eMrUICgmlkgnY0gmlwhKwSSWmKbXVsdGlhZGRyc5YACASsEklpBnCRAAoErBJJaQZwkt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7cvkK6tbeRdcnjF9s1f2UQn9zhd9TUSYiukp5dXHqZaDdGNwgnCRg3VkcIJwk4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.36.246/tcp/26610/p2p/16Uiu2HAm8BxTZZpnYiQMX5NqaLyuP9bgbGYRpW7fg2g4cVYz45uc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.187.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35707', '35708', '35709', '35710', '35711']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35707:35707 -p 35708:35708 -p 35709:35709 -p 35710:35710 -p 35711:35711 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35709 --rest-port=35707 --tcp-port=35708 --discv5-udp-port=35710 --rest-address=0.0.0.0 --nat=extip:172.18.187.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=471db7ed6b6ec7f81bcada982181fcada53c2fa695c8cac9bd59a2fac5fabd22 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35711 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDEvZdC9_L5Yb9KehC9FSwyINUITQW4r9AhsPiTb0r3qQEuXyIjXksY2cvVDFfQ9N43F8g3fEwk0LcxLjAwoiaUCgmlkgnY0gmlwhKwSJPaKbXVsdGlhZGRyc5YACASsEiT2BmfyAAoErBIk9gZn890DgnJzhQADAQAAiXNlY3AyNTZrMaECvaRuayc4P_sDE1KDB7FM1R2_lgeSlhdcai2Ig8iayWODdGNwgmfyg3VkcIJn9IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.187.194 waku 237b3e87510957c970a7b3e4de79945d3570960d3bfbe7d1a4cdfb516d9112f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 237b3e875109. Setting up logs at ./log/docker/node4_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35707
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35707/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35707/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.194/tcp/35708/p2p/16Uiu2HAmJTGzFrK3UXMu3LYVSm7nMSaBagmYbPj3uHpY84kdK3S3","/ip4/172.18.187.194/tcp/35709/ws/p2p/16Uiu2HAmJTGzFrK3UXMu3LYVSm7nMSaBagmYbPj3uHpY84kdK3S3"],"enrUri":"enr:-L24QDkPdgTQS9Jy1embh49-S53TcxQ_d8TaToO0NcwjAL2AFQxJZMrzGgjxX5f7ied5SMTCwKTm1I3OpU4yNNc5iA0CgmlkgnY0gmlwhKwSu8KKbXVsdGlhZGRyc5YACASsErvCBot8AAoErBK7wgaLfd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDViX2ueVzUPaiw3oHUaT2VENJmH0QQc_9CmtuZj8xUCSDdGNwgot8g3VkcIKLfoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35707/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.36.246/tcp/26610/p2p/16Uiu2HAm8BxTZZpnYiQMX5NqaLyuP9bgbGYRpW7fg2g4cVYz45uc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10905', '10906', '10907', '10908', '10909']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10905:10905 -p 10906:10906 -p 10907:10907 -p 10908:10908 -p 10909:10909 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10907 --rest-port=10905 --tcp-port=10906 --discv5-udp-port=10908 --rest-address=0.0.0.0 --nat=extip:172.18.9.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0d4a278f2c6d742e70c00a3f931d4ad4e9a1bd317f718b11f71caca49bbc900d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10909 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDEvZdC9_L5Yb9KehC9FSwyINUITQW4r9AhsPiTb0r3qQEuXyIjXksY2cvVDFfQ9N43F8g3fEwk0LcxLjAwoiaUCgmlkgnY0gmlwhKwSJPaKbXVsdGlhZGRyc5YACASsEiT2BmfyAAoErBIk9gZn890DgnJzhQADAQAAiXNlY3AyNTZrMaECvaRuayc4P_sDE1KDB7FM1R2_lgeSlhdcai2Ig8iayWODdGNwgmfyg3VkcIJn9IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.150 waku 1fe67d49940a49a139b5dfb0c377227677da2fbacd75d08d44071339ab4c75a3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1fe67d49940a. Setting up logs at ./log/docker/node5_2024-11-10_04-14-41__da3473b8-872b-4119-9fac-7e6ac9e2684a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10905
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10905/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10905/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.150/tcp/10906/p2p/16Uiu2HAmJeMzLiS2xEyj4NC9uHWR5xFqEECWqhSMnA3Uf6NpcE8T","/ip4/172.18.9.150/tcp/10907/ws/p2p/16Uiu2HAmJeMzLiS2xEyj4NC9uHWR5xFqEECWqhSMnA3Uf6NpcE8T"],"enrUri":"enr:-L24QNFRwjFniZNN-FvDd8MwzuE8uRFdJopQKELIFD634MMBQOcZBgP8dfmDCw6z79Eqk1mOSiTvNmJj8wlbmNQIfzICgmlkgnY0gmlwhKwSCZaKbXVsdGlhZGRyc5YACASsEgmWBiqaAAoErBIJlgYqm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDWP0CAPB2dmNZVeowLRC1Y5LYY8WK6HpBlmFQk_uBtUyDdGNwgiqag3VkcIIqnIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10905/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.36.246/tcp/26610/p2p/16Uiu2HAm8BxTZZpnYiQMX5NqaLyuP9bgbGYRpW7fg2g4cVYz45uc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26609/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49245/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28816/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35707/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10905/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26609/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26609/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090054202624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49245/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090054202624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28816/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090054202624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35707/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090054202624,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090054202624,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26609/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090188612096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49245/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090188612096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28816/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090188612096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35707/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090188612096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10905/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731212090188612096,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d2eef49db2c3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cd19a7b31e3f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d2eef49db2c3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 09ba07becdea
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cd19a7b31e3f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 237b3e875109
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09ba07becdea. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1fe67d49940a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 237b3e875109. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.