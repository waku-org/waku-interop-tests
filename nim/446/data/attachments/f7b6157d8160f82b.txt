[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8347', '8348', '8349', '8350', '8351']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8347:8347 -p 8348:8348 -p 8349:8349 -p 8350:8350 -p 8351:8351 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8349 --rest-port=8347 --tcp-port=8348 --discv5-udp-port=8350 --rest-address=0.0.0.0 --nat=extip:172.18.250.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6279dab9839ce1a53e1b003f18e4e7fcacebdc9cdbaa158fcad3dbbeb39d9219 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8351 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.117 waku f18e21f042205f137b7d5efba869d60c627706eb170fe0e97a11d957b23a0872
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f18e21f04220. Setting up logs at ./log/docker/node1_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 8347
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8e348191deed. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8347/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8347/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN","/ip4/172.18.250.117/tcp/8349/ws/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN"],"enrUri":"enr:-L24QIJQVH5UVx_GijP1hTZ_sGME5SStK0yr6oRJpWCj68mISakubZ6JmQK46f3tsg7l9ycAw8YzuABm8dvVybQsZQsCgmlkgnY0gmlwhKwS-nWKbXVsdGlhZGRyc5YACASsEvp1BiCcAAoErBL6dQYgnd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqcNAAM2JGlYUy9W8md_AZdN6GP124YobHQFzC6ST2T-DdGNwgiCcg3VkcIIgnoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.184.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26147', '26148', '26149', '26150', '26151']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26147:26147 -p 26148:26148 -p 26149:26149 -p 26150:26150 -p 26151:26151 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26149 --rest-port=26147 --tcp-port=26148 --discv5-udp-port=26150 --rest-address=0.0.0.0 --nat=extip:172.18.184.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1ba403a99b25f37c12aaa4c66f6dd0c8d8c2f30b7df59db6aed7ee2c6a5a2ea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26151 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIJQVH5UVx_GijP1hTZ_sGME5SStK0yr6oRJpWCj68mISakubZ6JmQK46f3tsg7l9ycAw8YzuABm8dvVybQsZQsCgmlkgnY0gmlwhKwS-nWKbXVsdGlhZGRyc5YACASsEvp1BiCcAAoErBL6dQYgnd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqcNAAM2JGlYUy9W8md_AZdN6GP124YobHQFzC6ST2T-DdGNwgiCcg3VkcIIgnoV3YWt1MgU --filternode=/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.184.14 waku 90aa13e8fc8c0b3450346cebf396bb738d84d41ce4659764d855ba0cd293c77b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 90aa13e8fc8c. Setting up logs at ./log/docker/node2_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 26147
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26147/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26147/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.184.14/tcp/26148/p2p/16Uiu2HAm4SLQbgszaRZYSyckc18ARxki6MDQeuBT12LK7dqvEbHP","/ip4/172.18.184.14/tcp/26149/ws/p2p/16Uiu2HAm4SLQbgszaRZYSyckc18ARxki6MDQeuBT12LK7dqvEbHP"],"enrUri":"enr:-L24QEswi5bR6KEn3hYoudpB3Ju2icfNKr846n9GxRApfSztW1dOfSHz2EQXCKSCtO5bayi2DZAE3tiLICzspEXZ1MkCgmlkgnY0gmlwhKwSuA6KbXVsdGlhZGRyc5YACASsErgOBmYkAAoErBK4DgZmJd0DgnJzhQADAQAAiXNlY3AyNTZrMaECheSh9XoOPYbMomLgc3pOLo_DYodXFzfPliLG8K0AHNaDdGNwgmYkg3VkcIJmJoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26147/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.114.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16357', '16358', '16359', '16360', '16361']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16357:16357 -p 16358:16358 -p 16359:16359 -p 16360:16360 -p 16361:16361 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16359 --rest-port=16357 --tcp-port=16358 --discv5-udp-port=16360 --rest-address=0.0.0.0 --nat=extip:172.18.114.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1fad0cdaabdcab8be5c1113766adbac6ab9bca5cbeaf7bec68deeeac2f726e3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16361 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIJQVH5UVx_GijP1hTZ_sGME5SStK0yr6oRJpWCj68mISakubZ6JmQK46f3tsg7l9ycAw8YzuABm8dvVybQsZQsCgmlkgnY0gmlwhKwS-nWKbXVsdGlhZGRyc5YACASsEvp1BiCcAAoErBL6dQYgnd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqcNAAM2JGlYUy9W8md_AZdN6GP124YobHQFzC6ST2T-DdGNwgiCcg3VkcIIgnoV3YWt1MgU --filternode=/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.114.245 waku a603a998151466772394e0718b0ade3592f6276709aacfdd7cecd291b44c64dc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a603a9981514. Setting up logs at ./log/docker/node3_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 16357
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16357/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16357/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.245/tcp/16358/p2p/16Uiu2HAmVaK8Hcf3vuTEnE56SwLG4euZJKgVgsAaEH75AzobCB9v","/ip4/172.18.114.245/tcp/16359/ws/p2p/16Uiu2HAmVaK8Hcf3vuTEnE56SwLG4euZJKgVgsAaEH75AzobCB9v"],"enrUri":"enr:-L24QJwBsT0Cp0wyMjC0k6-LTgJydGKjgQ6bg-MomMB5F48cBypweeg6oUgcgBF6bxT-Fq2_YB_EYsX9CTh5RriBswcCgmlkgnY0gmlwhKwScvWKbXVsdGlhZGRyc5YACASsEnL1Bj_mAAoErBJy9QY_590DgnJzhQADAQAAiXNlY3AyNTZrMaED-2QA6xH0mQGY-b9xIQZ56_2dF4FWj6o3yC8rQJIsvsWDdGNwgj_mg3VkcII_6IV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16357/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.105.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25741', '25742', '25743', '25744', '25745']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25741:25741 -p 25742:25742 -p 25743:25743 -p 25744:25744 -p 25745:25745 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25743 --rest-port=25741 --tcp-port=25742 --discv5-udp-port=25744 --rest-address=0.0.0.0 --nat=extip:172.18.105.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=62be6be647eddbe0024c9b757a1fecbbddb9902d566ade8a0d543c293eeab5ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25745 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIJQVH5UVx_GijP1hTZ_sGME5SStK0yr6oRJpWCj68mISakubZ6JmQK46f3tsg7l9ycAw8YzuABm8dvVybQsZQsCgmlkgnY0gmlwhKwS-nWKbXVsdGlhZGRyc5YACASsEvp1BiCcAAoErBL6dQYgnd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqcNAAM2JGlYUy9W8md_AZdN6GP124YobHQFzC6ST2T-DdGNwgiCcg3VkcIIgnoV3YWt1MgU --filternode=/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.105.30 waku 256794bf567d874bad5ccbb761e1aff7388d4c89e9645603cf461f28e9b7c476
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 256794bf567d. Setting up logs at ./log/docker/node4_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 25741
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25741/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25741/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.30/tcp/25742/p2p/16Uiu2HAmE3qgWhptZAVTxRtJgyPjVL71CTYeAVUcjqC3WzFxg39W","/ip4/172.18.105.30/tcp/25743/ws/p2p/16Uiu2HAmE3qgWhptZAVTxRtJgyPjVL71CTYeAVUcjqC3WzFxg39W"],"enrUri":"enr:-L24QG6ef-zALqI51yCdx_LxSWwum7RY9Myra6PJuiaqp8scG7U78aEklPBBe1sXeUZh-LSJo5tCfy120BRb68plGTsCgmlkgnY0gmlwhKwSaR6KbXVsdGlhZGRyc5YACASsEmkeBmSOAAoErBJpHgZkj90DgnJzhQADAQAAiXNlY3AyNTZrMaEDFLY-c8uBamt0iJOc7Cnd_bLJ9LUIX4oAG3W5wesVij2DdGNwgmSOg3VkcIJkkIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25741/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14535', '14536', '14537', '14538', '14539']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14535:14535 -p 14536:14536 -p 14537:14537 -p 14538:14538 -p 14539:14539 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14537 --rest-port=14535 --tcp-port=14536 --discv5-udp-port=14538 --rest-address=0.0.0.0 --nat=extip:172.18.3.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=235a59fa5bcac9d54da05e60f3d63df28ee5ed00c4e78a18e9bcdedb9fef4b35 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14539 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIJQVH5UVx_GijP1hTZ_sGME5SStK0yr6oRJpWCj68mISakubZ6JmQK46f3tsg7l9ycAw8YzuABm8dvVybQsZQsCgmlkgnY0gmlwhKwS-nWKbXVsdGlhZGRyc5YACASsEvp1BiCcAAoErBL6dQYgnd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqcNAAM2JGlYUy9W8md_AZdN6GP124YobHQFzC6ST2T-DdGNwgiCcg3VkcIIgnoV3YWt1MgU --filternode=/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.249 waku 14b85d1d89d7e8aa31dbf985b9d1213f07f807ba0848e7af83cdd4d56bd246e8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 14b85d1d89d7. Setting up logs at ./log/docker/node5_2024-11-11_04-11-08__da386b6c-d0dc-44b5-8e2e-dc8bb3834e8e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 14535
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14535/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14535/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.249/tcp/14536/p2p/16Uiu2HAkzJh7v4ffPdsqJGZiHKEaw1VeJxi4Ugr7Vo2VE7DufRnf","/ip4/172.18.3.249/tcp/14537/ws/p2p/16Uiu2HAkzJh7v4ffPdsqJGZiHKEaw1VeJxi4Ugr7Vo2VE7DufRnf"],"enrUri":"enr:-L24QI5I1eHlAxLJEy7HhyMoVziViPDHmbwLqR9Uo_3XPiG0QyHbkl4x7shkOrLYy00fG8GpIty81sc364CW3c3RzwsCgmlkgnY0gmlwhKwSA_mKbXVsdGlhZGRyc5YACASsEgP5BjjIAAoErBID-QY4yd0DgnJzhQADAQAAiXNlY3AyNTZrMaECSICoc4hr8XEXpQENKMu5RR8RIdqBmwA5QtQ1TC8hzmiDdGNwgjjIg3VkcII4yoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14535/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.117/tcp/8348/p2p/16Uiu2HAm6rMZVY4jhjKrVg6tRd72YD35czMZNMHCVnvEZ9nEAAtN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8347/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26147/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7b7a6487-c5a3-426c-a086-56eef3290c02", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7b7a6487-c5a3-426c-a086-56eef3290c02","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16357/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6101a929-bbb4-4a6c-b432-4de256a70e49", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6101a929-bbb4-4a6c-b432-4de256a70e49","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25741/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6085cd1c-5925-4989-af43-89e5328c3d66", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6085cd1c-5925-4989-af43-89e5328c3d66","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14535/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dd149d7c-e898-42b0-a59d-1cb9cd75f5b8", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dd149d7c-e898-42b0-a59d-1cb9cd75f5b8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26147/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731298276726707456,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16357/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:16357/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f18e21f04220
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 90aa13e8fc8c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f18e21f04220. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a603a9981514
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 90aa13e8fc8c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 256794bf567d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a603a9981514. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 14b85d1d89d7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 256794bf567d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.