[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.166.92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23755', '23756', '23757', '23758', '23759']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23755:23755 -p 23756:23756 -p 23757:23757 -p 23758:23758 -p 23759:23759 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23757 --rest-port=23755 --tcp-port=23756 --discv5-udp-port=23758 --rest-address=0.0.0.0 --nat=extip:172.18.166.92 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d4ba7ecf81f5b9fb02a2b1f73bfc55c9fc8a2b40ffc3de0bacf8e642f4c89d5d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23759 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container efb65e0a609d. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.166.92 waku 8cab02df357f4b5ea18a4b0184eb6b5ff8c77da27b380125aa9f291d8268e1df
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8cab02df357f. Setting up logs at ./log/docker/node1_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 23755
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23755/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23755/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.92/tcp/23756/p2p/16Uiu2HAm2HJxPY6TMGrzx2jk2svvHDtedssmEd4ssL2WJZdd5NCp","/ip4/172.18.166.92/tcp/23757/ws/p2p/16Uiu2HAm2HJxPY6TMGrzx2jk2svvHDtedssmEd4ssL2WJZdd5NCp"],"enrUri":"enr:-L24QHjei9rH9gjZDdJClPE7reM6ZBw2oWiYVOaKkxqGbpUFNdaoLWZJxUqzjYE0Px0cM27xvA76f2fKWuq4ODOtRpYCgmlkgnY0gmlwhKwSplyKbXVsdGlhZGRyc5YACASsEqZcBlzMAAoErBKmXAZczd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZd1jzgbuXB-moqoNLh0y9pyIwaZY4D6NVEILZfu4LYGDdGNwglzMg3VkcIJczoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59852', '59853', '59854', '59855', '59856']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59852:59852 -p 59853:59853 -p 59854:59854 -p 59855:59855 -p 59856:59856 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59854 --rest-port=59852 --tcp-port=59853 --discv5-udp-port=59855 --rest-address=0.0.0.0 --nat=extip:172.18.173.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdc1bcd2abf9c76cd7bdf091bbec11a81df139fce8b4e982bbda2f2a64c4cc2b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59856 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHjei9rH9gjZDdJClPE7reM6ZBw2oWiYVOaKkxqGbpUFNdaoLWZJxUqzjYE0Px0cM27xvA76f2fKWuq4ODOtRpYCgmlkgnY0gmlwhKwSplyKbXVsdGlhZGRyc5YACASsEqZcBlzMAAoErBKmXAZczd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZd1jzgbuXB-moqoNLh0y9pyIwaZY4D6NVEILZfu4LYGDdGNwglzMg3VkcIJczoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.166 waku 09212a6a2c4112c47e89dcf3875d0b0878e3b80f116aa9ea065851063863b615
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09212a6a2c41. Setting up logs at ./log/docker/node2_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 59852
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59852/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59852/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.166/tcp/59853/p2p/16Uiu2HAm3FWSHT7RDHcKeVaEqs7zqUaastrywpwrSRwm48FUL8Gh","/ip4/172.18.173.166/tcp/59854/ws/p2p/16Uiu2HAm3FWSHT7RDHcKeVaEqs7zqUaastrywpwrSRwm48FUL8Gh"],"enrUri":"enr:-L24QGcsNwqDinW2iuq_1aQQK7ialeYpIt3Uw7ftvI4NOjd4C78Jv7L-cpsHZbUg0ekqJ2cY5QwpGwW0UZpTBQmjgBYCgmlkgnY0gmlwhKwSraaKbXVsdGlhZGRyc5YACASsEq2mBunNAAoErBKtpgbpzt0DgnJzhQADAQAAiXNlY3AyNTZrMaECdELlj4zJ9QhyO5rmwGLeS3uZfkp0JPxT2fOli31BazKDdGNwgunNg3VkcILpz4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59852/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.166.92/tcp/23756/p2p/16Uiu2HAm2HJxPY6TMGrzx2jk2svvHDtedssmEd4ssL2WJZdd5NCp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48541', '48542', '48543', '48544', '48545']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48541:48541 -p 48542:48542 -p 48543:48543 -p 48544:48544 -p 48545:48545 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48543 --rest-port=48541 --tcp-port=48542 --discv5-udp-port=48544 --rest-address=0.0.0.0 --nat=extip:172.18.46.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdec0f0e6397dc4bac8d7a8db487faca7ec32c884d74accb7aa1f4ca7a2aa7fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48545 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHjei9rH9gjZDdJClPE7reM6ZBw2oWiYVOaKkxqGbpUFNdaoLWZJxUqzjYE0Px0cM27xvA76f2fKWuq4ODOtRpYCgmlkgnY0gmlwhKwSplyKbXVsdGlhZGRyc5YACASsEqZcBlzMAAoErBKmXAZczd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZd1jzgbuXB-moqoNLh0y9pyIwaZY4D6NVEILZfu4LYGDdGNwglzMg3VkcIJczoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.49 waku 062e3dddcab371431d4c2c7accc53fe83e08b08b029f5393c23c44e0efbf4da4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 062e3dddcab3. Setting up logs at ./log/docker/node3_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48541
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48541/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48541/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.49/tcp/48542/p2p/16Uiu2HAkx7cPpmDukXyrKGNUQzheh3GvENCEG8nZaw5v4Yjc9Suu","/ip4/172.18.46.49/tcp/48543/ws/p2p/16Uiu2HAkx7cPpmDukXyrKGNUQzheh3GvENCEG8nZaw5v4Yjc9Suu"],"enrUri":"enr:-L24QLkRyAqod4GXWdMorzq_2jzRLYB1lgOoNL3Y75QVolKjFYsyZ7vb5uM0D53uDWUwb6vZ3jT0BlxyuSjiCJWJD_YCgmlkgnY0gmlwhKwSLjGKbXVsdGlhZGRyc5YACASsEi4xBr2eAAoErBIuMQa9n90DgnJzhQADAQAAiXNlY3AyNTZrMaECJ_KNR-9VOqT1tEGSpS3fgpefEpVm5PEE2ZuXT9bdmXCDdGNwgr2eg3VkcIK9oIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48541/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.166.92/tcp/23756/p2p/16Uiu2HAm2HJxPY6TMGrzx2jk2svvHDtedssmEd4ssL2WJZdd5NCp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.190
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11641', '11642', '11643', '11644', '11645']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11641:11641 -p 11642:11642 -p 11643:11643 -p 11644:11644 -p 11645:11645 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11643 --rest-port=11641 --tcp-port=11642 --discv5-udp-port=11644 --rest-address=0.0.0.0 --nat=extip:172.18.199.190 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4f22ccbf9ba8c6cbe821b6fcfcecad4e6ab4a58ef06afdbdeca7becd6a2d7667 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11645 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHjei9rH9gjZDdJClPE7reM6ZBw2oWiYVOaKkxqGbpUFNdaoLWZJxUqzjYE0Px0cM27xvA76f2fKWuq4ODOtRpYCgmlkgnY0gmlwhKwSplyKbXVsdGlhZGRyc5YACASsEqZcBlzMAAoErBKmXAZczd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZd1jzgbuXB-moqoNLh0y9pyIwaZY4D6NVEILZfu4LYGDdGNwglzMg3VkcIJczoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.190 waku c2184fe7b1a54d05602e11f977cc0d68eebfbd95bf8caf3407777aaa9eca96cd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c2184fe7b1a5. Setting up logs at ./log/docker/node4_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 11641
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11641/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11641/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.190/tcp/11642/p2p/16Uiu2HAm4CCd5EF5sJsU3FvPNntwA7CHZTBh55ugxxWZvZUZQBvf","/ip4/172.18.199.190/tcp/11643/ws/p2p/16Uiu2HAm4CCd5EF5sJsU3FvPNntwA7CHZTBh55ugxxWZvZUZQBvf"],"enrUri":"enr:-L24QNae0OtEI7JoMuE8QH8diTU5IjOIZfGDja1oIXl3hzsqIhooXxLUlzYjzaNrGVftkHlYwGJuRWZBMhREd6uB5RMCgmlkgnY0gmlwhKwSx76KbXVsdGlhZGRyc5YACASsEse-Bi16AAoErBLHvgYte90DgnJzhQADAQAAiXNlY3AyNTZrMaECgkWy6pCxs3xV26a1VOvKIOGzOP2eWOk6tIfusYOYHYiDdGNwgi16g3VkcIItfIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11641/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.166.92/tcp/23756/p2p/16Uiu2HAm2HJxPY6TMGrzx2jk2svvHDtedssmEd4ssL2WJZdd5NCp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.114.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46494', '46495', '46496', '46497', '46498']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46494:46494 -p 46495:46495 -p 46496:46496 -p 46497:46497 -p 46498:46498 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46496 --rest-port=46494 --tcp-port=46495 --discv5-udp-port=46497 --rest-address=0.0.0.0 --nat=extip:172.18.114.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1384fd9b0ed9db08bbd3ad5dddfc44d3118bf0e5d13aee4bc44ad8c113b2ef4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46498 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHjei9rH9gjZDdJClPE7reM6ZBw2oWiYVOaKkxqGbpUFNdaoLWZJxUqzjYE0Px0cM27xvA76f2fKWuq4ODOtRpYCgmlkgnY0gmlwhKwSplyKbXVsdGlhZGRyc5YACASsEqZcBlzMAAoErBKmXAZczd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZd1jzgbuXB-moqoNLh0y9pyIwaZY4D6NVEILZfu4LYGDdGNwglzMg3VkcIJczoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.114.234 waku bd34577c5611a1b02377f682f27e9a3b94a0a086174e118b47d611b6a76cc357
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bd34577c5611. Setting up logs at ./log/docker/node5_2024-11-25_06-24-03__a75a0d00-88da-461e-a78c-e030e8a39c4d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 46494
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46494/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46494/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.234/tcp/46495/p2p/16Uiu2HAm4ocH3qHMTrgYbwo5hCRGQpfoZbkTEnXFF5mKAJPnBhct","/ip4/172.18.114.234/tcp/46496/ws/p2p/16Uiu2HAm4ocH3qHMTrgYbwo5hCRGQpfoZbkTEnXFF5mKAJPnBhct"],"enrUri":"enr:-L24QHHT4Uc9GAUTmo0CAhU-5SUdTTIIIcqnefqPkbSmcqIkAyAPRLW8sYj0Ytp5r-Ya2UMy-8A5o0ozmqJo-vDe7h4CgmlkgnY0gmlwhKwScuqKbXVsdGlhZGRyc5YACASsEnLqBrWfAAoErBJy6ga1oN0DgnJzhQADAQAAiXNlY3AyNTZrMaECi1fGExf5msaeSxePOO-0d5ivmXiE8NqC345QOQ1z1aGDdGNwgrWfg3VkcIK1oYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46494/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.166.92/tcp/23756/p2p/16Uiu2HAm2HJxPY6TMGrzx2jk2svvHDtedssmEd4ssL2WJZdd5NCp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23755/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59852/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48541/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11641/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46494/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23755/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23755/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852084797696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852084797696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48541/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852084797696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11641/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852084797696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46494/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852084797696,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23755/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23755/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852296580096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59852/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852296580096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48541/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852296580096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11641/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852296580096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46494/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515852296580096,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8cab02df357f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 09212a6a2c41
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8cab02df357f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 062e3dddcab3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09212a6a2c41. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c2184fe7b1a5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 062e3dddcab3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id bd34577c5611
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c2184fe7b1a5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.