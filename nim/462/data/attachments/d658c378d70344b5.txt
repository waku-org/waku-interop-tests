[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3759', '3760', '3761', '3762', '3763']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3759:3759 -p 3760:3760 -p 3761:3761 -p 3762:3762 -p 3763:3763 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3761 --rest-port=3759 --tcp-port=3760 --discv5-udp-port=3762 --rest-address=0.0.0.0 --nat=extip:172.18.11.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d9930201bddf1e4add8263cbe3b9be4f25a425fce106ebe0fd9c4be96d2f8b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3763 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.91 waku 23c98a5183757ed81fff71d891cc411c2e7291b03fad165fca1cda8058a02991
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 23c98a518375. Setting up logs at ./log/docker/node1_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 3759
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ad2977b2d2e9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3759/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3759/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.91/tcp/3760/p2p/16Uiu2HAkxGSPF4HKDkdr7hKyvizPu6UqWnKi6PMFVveq6ZcbGf9k","/ip4/172.18.11.91/tcp/3761/ws/p2p/16Uiu2HAkxGSPF4HKDkdr7hKyvizPu6UqWnKi6PMFVveq6ZcbGf9k"],"enrUri":"enr:-L24QOHPbUtyCZKzwpt2DvuIXqzd346irp-dZi36IuEVtEB1GNpwZG9p5Zvrn7pm84j6aUqO5CUryEBpG7Cm2HOM_VECgmlkgnY0gmlwhKwSC1uKbXVsdGlhZGRyc5YACASsEgtbBg6wAAoErBILWwYOsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECKjV19q7jbWdHDQkMUjxPTXftETmgll3uCh3tqBhBkSuDdGNwgg6wg3VkcIIOsoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.176.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10000', '10001', '10002', '10003', '10004']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10000:10000 -p 10001:10001 -p 10002:10002 -p 10003:10003 -p 10004:10004 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10002 --rest-port=10000 --tcp-port=10001 --discv5-udp-port=10003 --rest-address=0.0.0.0 --nat=extip:172.18.176.9 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=997b88dcfe3d8d4f3ad8e0aa0bace85ff12bdfbc0d944dfb3dcbfcafa07be145 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10004 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOHPbUtyCZKzwpt2DvuIXqzd346irp-dZi36IuEVtEB1GNpwZG9p5Zvrn7pm84j6aUqO5CUryEBpG7Cm2HOM_VECgmlkgnY0gmlwhKwSC1uKbXVsdGlhZGRyc5YACASsEgtbBg6wAAoErBILWwYOsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECKjV19q7jbWdHDQkMUjxPTXftETmgll3uCh3tqBhBkSuDdGNwgg6wg3VkcIIOsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.176.9 waku b279c5d603d20c5697e49e8f25c11ea9ada9de98144f052076d5b6d4ccb920fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b279c5d603d2. Setting up logs at ./log/docker/node2_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 10000
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10000/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10000/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.176.9/tcp/10001/p2p/16Uiu2HAmSTpQnFPiLDZ1ubmNdpLhfRy5tuRowiHabXzHwFonMaye","/ip4/172.18.176.9/tcp/10002/ws/p2p/16Uiu2HAmSTpQnFPiLDZ1ubmNdpLhfRy5tuRowiHabXzHwFonMaye"],"enrUri":"enr:-L24QDxk8oSVqtv3paJ9wtRsu2xPmCS4HPN2wyrmzyGkgvYkT8cm7tDX1t3-K_cz59J_6rTrTpK718E8vzuzenvsblMCgmlkgnY0gmlwhKwSsAmKbXVsdGlhZGRyc5YACASsErAJBicRAAoErBKwCQYnEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzSb9NRY6diGheCQvBVYtdK3YOb7O2fYRjKCHRIpTeKmDdGNwgicRg3VkcIInE4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10000/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.91/tcp/3760/p2p/16Uiu2HAkxGSPF4HKDkdr7hKyvizPu6UqWnKi6PMFVveq6ZcbGf9k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.94.46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38567', '38568', '38569', '38570', '38571']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38567:38567 -p 38568:38568 -p 38569:38569 -p 38570:38570 -p 38571:38571 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38569 --rest-port=38567 --tcp-port=38568 --discv5-udp-port=38570 --rest-address=0.0.0.0 --nat=extip:172.18.94.46 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad3ccddb30bc23ec9e5ee3acb191e7fc3bcdda96105ee6fcb4f2d6962ac288a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38571 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOHPbUtyCZKzwpt2DvuIXqzd346irp-dZi36IuEVtEB1GNpwZG9p5Zvrn7pm84j6aUqO5CUryEBpG7Cm2HOM_VECgmlkgnY0gmlwhKwSC1uKbXVsdGlhZGRyc5YACASsEgtbBg6wAAoErBILWwYOsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECKjV19q7jbWdHDQkMUjxPTXftETmgll3uCh3tqBhBkSuDdGNwgg6wg3VkcIIOsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.94.46 waku 58ab8d0b811e748e005c83dbf3773aa267e0409876dd36023d18c5edd43f5510
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 58ab8d0b811e. Setting up logs at ./log/docker/node3_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 38567
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38567/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38567/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.46/tcp/38568/p2p/16Uiu2HAmLH62GhgN2LzCDueD8iqVP2KXC2jQHLVWkk4FKNwEuA5n","/ip4/172.18.94.46/tcp/38569/ws/p2p/16Uiu2HAmLH62GhgN2LzCDueD8iqVP2KXC2jQHLVWkk4FKNwEuA5n"],"enrUri":"enr:-L24QIFULIapbCiXQbUHLkkA3yWRaYgo6q7of0U5uJhL_MSdfYzmy8u3iXh8H61awSvaL4mcAas4m6Oi5MFX-WrY54kCgmlkgnY0gmlwhKwSXi6KbXVsdGlhZGRyc5YACASsEl4uBpaoAAoErBJeLgaWqd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDcUEhjfMOg1BVsejMwbJINKBDup8YeVuwn9N9-DMZEUmDdGNwgpaog3VkcIKWqoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38567/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.91/tcp/3760/p2p/16Uiu2HAkxGSPF4HKDkdr7hKyvizPu6UqWnKi6PMFVveq6ZcbGf9k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51833', '51834', '51835', '51836', '51837']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51833:51833 -p 51834:51834 -p 51835:51835 -p 51836:51836 -p 51837:51837 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51835 --rest-port=51833 --tcp-port=51834 --discv5-udp-port=51836 --rest-address=0.0.0.0 --nat=extip:172.18.3.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb7ce29fed3bb8ab7a9deaf7ca1a8a9bcb9e933badbaf88bdabd2e16d8b7543b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51837 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOHPbUtyCZKzwpt2DvuIXqzd346irp-dZi36IuEVtEB1GNpwZG9p5Zvrn7pm84j6aUqO5CUryEBpG7Cm2HOM_VECgmlkgnY0gmlwhKwSC1uKbXVsdGlhZGRyc5YACASsEgtbBg6wAAoErBILWwYOsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECKjV19q7jbWdHDQkMUjxPTXftETmgll3uCh3tqBhBkSuDdGNwgg6wg3VkcIIOsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.204 waku 3b280ba74514707a6e17c98802fbee69e52e5817b212be81d904d6197a0c4e8b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3b280ba74514. Setting up logs at ./log/docker/node4_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 51833
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51833/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51833/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.204/tcp/51834/p2p/16Uiu2HAmQTMqWPc3YGTiuowkUdJ8XsEgGA9aLsNQbZXcWNvAvWzo","/ip4/172.18.3.204/tcp/51835/ws/p2p/16Uiu2HAmQTMqWPc3YGTiuowkUdJ8XsEgGA9aLsNQbZXcWNvAvWzo"],"enrUri":"enr:-L24QDB77s3UTUcb_kOrJaUBqZvivmLeIzn6Bhpqqic_kHcxPrT2DtR--BJHXXp0XSXjez9krl_DdJ-uRJWNBq6Lfk8CgmlkgnY0gmlwhKwSA8yKbXVsdGlhZGRyc5YACASsEgPMBsp6AAoErBIDzAbKe90DgnJzhQADAQAAiXNlY3AyNTZrMaEDr1GRewHlUBZlmQmj6n8lIiWCcBHhcNlmsyDpsEMrpuSDdGNwgsp6g3VkcILKfIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51833/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.91/tcp/3760/p2p/16Uiu2HAkxGSPF4HKDkdr7hKyvizPu6UqWnKi6PMFVveq6ZcbGf9k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.97.208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24987', '24988', '24989', '24990', '24991']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24987:24987 -p 24988:24988 -p 24989:24989 -p 24990:24990 -p 24991:24991 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24989 --rest-port=24987 --tcp-port=24988 --discv5-udp-port=24990 --rest-address=0.0.0.0 --nat=extip:172.18.97.208 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=575aaf3da81ccdd22b3cdb32ec9de6bd56fcf988eadda665fc8faf2eccff19ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24991 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOHPbUtyCZKzwpt2DvuIXqzd346irp-dZi36IuEVtEB1GNpwZG9p5Zvrn7pm84j6aUqO5CUryEBpG7Cm2HOM_VECgmlkgnY0gmlwhKwSC1uKbXVsdGlhZGRyc5YACASsEgtbBg6wAAoErBILWwYOsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECKjV19q7jbWdHDQkMUjxPTXftETmgll3uCh3tqBhBkSuDdGNwgg6wg3VkcIIOsoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.97.208 waku 6b39d206eb22df458c4e7ed4e2f42cb4d2ee2fadc385bb42070cbe4b1ec1caee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6b39d206eb22. Setting up logs at ./log/docker/node5_2024-11-25_06-24-09__3ed21008-9a62-46b4-948a-675b4157f7fb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 24987
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24987/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24987/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.208/tcp/24988/p2p/16Uiu2HAkxt4YM5QYYHdXvuv1FmM8tiK4BwKAsmpgWMs3G4kKL7iN","/ip4/172.18.97.208/tcp/24989/ws/p2p/16Uiu2HAkxt4YM5QYYHdXvuv1FmM8tiK4BwKAsmpgWMs3G4kKL7iN"],"enrUri":"enr:-L24QJqD-BgV68WeYj7HW8rqZu80HI0dGnIpbeAgeZHkyxf1B_6XX7mmwqUip8qxqHAqMQx8FQU0EiKQFpyxX_f_WvYCgmlkgnY0gmlwhKwSYdCKbXVsdGlhZGRyc5YACASsEmHQBmGcAAoErBJh0AZhnd0DgnJzhQADAQAAiXNlY3AyNTZrMaECM1WsAvJ-PN86mejsA0NtgmHmiLy7JvAHu6v2wvvFxG-DdGNwgmGcg3VkcIJhnoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24987/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.11.91/tcp/3760/p2p/16Uiu2HAkxGSPF4HKDkdr7hKyvizPu6UqWnKi6PMFVveq6ZcbGf9k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3759/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38567/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51833/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24987/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861325781248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861325781248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861325781248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51833/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861325781248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24987/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861325781248,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861462221824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861462221824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861462221824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51833/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861462221824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24987/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515861462221824,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b279c5d603d2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3759/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38567/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515866088213248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51833/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515866088213248,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24987/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732515866088213248,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 23c98a518375
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b279c5d603d2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 58ab8d0b811e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 23c98a518375. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3b280ba74514
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 58ab8d0b811e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6b39d206eb22
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3b280ba74514. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.