[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.170.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41956', '41957', '41958', '41959', '41960']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41956:41956 -p 41957:41957 -p 41958:41958 -p 41959:41959 -p 41960:41960 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41958 --rest-port=41956 --tcp-port=41957 --discv5-udp-port=41959 --rest-address=0.0.0.0 --nat=extip:172.18.170.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdc685cfac4d68d51cccbabf3fc4e2a8b3eed45babc2eb0dff1bf7fa34cd8e87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41960 --metrics-logging=true --relay=true --filter=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed8fbbdef3af. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.170.214 waku b4766ea98d1fde6e9d0069bffda4daf251dfd45c8c10c7f12af8c62f86cd0823
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b4766ea98d1f. Setting up logs at ./log/docker/node1_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 41956
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41956/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41956/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu","/ip4/172.18.170.214/tcp/41958/ws/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu"],"enrUri":"enr:-L24QCfom8dp95k1tjyF-5jRYZuRhkjN0agwqiEoRebUg8k2D3twZ804u4BGWKSYNwXUjwZmGXyrMBUpGVglkXk5GYsCgmlkgnY0gmlwhKwSqtaKbXVsdGlhZGRyc5YACASsEqrWBqPlAAoErBKq1gaj5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECbYcjww-4O243CWZdkmMU31WdJ0cQcdARzVoVe1T2XjKDdGNwgqPlg3VkcIKj54V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14104', '14105', '14106', '14107', '14108']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14104:14104 -p 14105:14105 -p 14106:14106 -p 14107:14107 -p 14108:14108 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14106 --rest-port=14104 --tcp-port=14105 --discv5-udp-port=14107 --rest-address=0.0.0.0 --nat=extip:172.18.81.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca72e885dcece867b2ace1dd9cc71d09451c7b083aa80cedfebd00d7d6afbb68 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14108 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfom8dp95k1tjyF-5jRYZuRhkjN0agwqiEoRebUg8k2D3twZ804u4BGWKSYNwXUjwZmGXyrMBUpGVglkXk5GYsCgmlkgnY0gmlwhKwSqtaKbXVsdGlhZGRyc5YACASsEqrWBqPlAAoErBKq1gaj5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECbYcjww-4O243CWZdkmMU31WdJ0cQcdARzVoVe1T2XjKDdGNwgqPlg3VkcIKj54V3YWt1MgU --filternode=/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.223 waku 3f8c094947e9a9ee2513c68ef21b15303a9c6a803b04451ac41b882081cbc9cc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3f8c094947e9. Setting up logs at ./log/docker/node2_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 14104
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14104/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14104/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.223/tcp/14105/p2p/16Uiu2HAmEkZrDRGDffwzDBM4J7B2uMSJbQdVxWXKrh2ZT9RAWzkP","/ip4/172.18.81.223/tcp/14106/ws/p2p/16Uiu2HAmEkZrDRGDffwzDBM4J7B2uMSJbQdVxWXKrh2ZT9RAWzkP"],"enrUri":"enr:-L24QN0uQ610WzHhF7cRJKLwzRk8uR5K5dW9YMZAWdLroBpOBZ2xhM0ChvsNEx33vEKsDdy7hCufbcQIz_rUvWARnTUCgmlkgnY0gmlwhKwSUd-KbXVsdGlhZGRyc5YACASsElHfBjcZAAoErBJR3wY3Gt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDHyUnrpVfl2v-qjwHnRMCnigflf4p0q7CUYw8jfeSbvCDdGNwgjcZg3VkcII3G4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14104/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.86.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65500', '65501', '65502', '65503', '65504']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65500:65500 -p 65501:65501 -p 65502:65502 -p 65503:65503 -p 65504:65504 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65502 --rest-port=65500 --tcp-port=65501 --discv5-udp-port=65503 --rest-address=0.0.0.0 --nat=extip:172.18.86.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef407babcdfc5b47d582a39cdad99cdfaabf311bc817f2d16a8ccbd948962fe6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65504 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfom8dp95k1tjyF-5jRYZuRhkjN0agwqiEoRebUg8k2D3twZ804u4BGWKSYNwXUjwZmGXyrMBUpGVglkXk5GYsCgmlkgnY0gmlwhKwSqtaKbXVsdGlhZGRyc5YACASsEqrWBqPlAAoErBKq1gaj5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECbYcjww-4O243CWZdkmMU31WdJ0cQcdARzVoVe1T2XjKDdGNwgqPlg3VkcIKj54V3YWt1MgU --filternode=/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.86.225 waku 4923653d09cb020ede506b53b9143fa1d95bf346f183d0121525e99493ee6635
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4923653d09cb. Setting up logs at ./log/docker/node3_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 65500
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65500/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65500/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.225/tcp/65501/p2p/16Uiu2HAmGQH7aSq7pgfszGLPAYZXMuTEXYZsA6wvdt9hHJyxGYHe","/ip4/172.18.86.225/tcp/65502/ws/p2p/16Uiu2HAmGQH7aSq7pgfszGLPAYZXMuTEXYZsA6wvdt9hHJyxGYHe"],"enrUri":"enr:-L24QFUSpyzrHTd-_K9D7pq2IeqlCmNojcS5u5OTWkvxcDKZPygmosV-zrNRVsoGAPUdRkmjaKTSEkAKWnUZn8IZDYUCgmlkgnY0gmlwhKwSVuGKbXVsdGlhZGRyc5YACASsElbhBv_dAAoErBJW4Qb_3t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN6n9fk5f2adsnNa-j2Z1Vww0vOFvVPdlJekYr1pscymDdGNwgv_dg3VkcIL_34V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65500/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.18.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20999', '21000', '21001', '21002', '21003']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20999:20999 -p 21000:21000 -p 21001:21001 -p 21002:21002 -p 21003:21003 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21001 --rest-port=20999 --tcp-port=21000 --discv5-udp-port=21002 --rest-address=0.0.0.0 --nat=extip:172.18.18.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dda127a4a461d81cecff6cc65e60d7ab0de2ac9c1fc62f9e33eefa13aa6abaab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21003 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfom8dp95k1tjyF-5jRYZuRhkjN0agwqiEoRebUg8k2D3twZ804u4BGWKSYNwXUjwZmGXyrMBUpGVglkXk5GYsCgmlkgnY0gmlwhKwSqtaKbXVsdGlhZGRyc5YACASsEqrWBqPlAAoErBKq1gaj5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECbYcjww-4O243CWZdkmMU31WdJ0cQcdARzVoVe1T2XjKDdGNwgqPlg3VkcIKj54V3YWt1MgU --filternode=/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.18.0 waku 1b759b24b490bea36e9cf5281475e0e60dcc9d2e8147bef277d54147288b4ebc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1b759b24b490. Setting up logs at ./log/docker/node4_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 20999
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20999/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20999/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.18.0/tcp/21000/p2p/16Uiu2HAm6KRB5Cb3TsrAv5id3C3rXQgVvfGCSS4hUbAM4RXhEDgm","/ip4/172.18.18.0/tcp/21001/ws/p2p/16Uiu2HAm6KRB5Cb3TsrAv5id3C3rXQgVvfGCSS4hUbAM4RXhEDgm"],"enrUri":"enr:-L24QKE-wOiB0yMQ_ke_1V91LaAULRYAb9UZPn6Bb9bAiwf1Ei_LhDK4SzS-Xs4qKjmAhT53IzKvqIZ2ORXUsD--D5UCgmlkgnY0gmlwhKwSEgCKbXVsdGlhZGRyc5YACASsEhIABlIIAAoErBISAAZSCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECodZUp1D2TrUprJlUU7J8ARRVGVZKijMC5rPn8_SBQXqDdGNwglIIg3VkcIJSCoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20999/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.185.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42552', '42553', '42554', '42555', '42556']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42552:42552 -p 42553:42553 -p 42554:42554 -p 42555:42555 -p 42556:42556 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42554 --rest-port=42552 --tcp-port=42553 --discv5-udp-port=42555 --rest-address=0.0.0.0 --nat=extip:172.18.185.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1dceafb93fd5dfab12298d7258c6de4c96c6a97d1cd0a3877f69d88ffbf2180 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42556 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfom8dp95k1tjyF-5jRYZuRhkjN0agwqiEoRebUg8k2D3twZ804u4BGWKSYNwXUjwZmGXyrMBUpGVglkXk5GYsCgmlkgnY0gmlwhKwSqtaKbXVsdGlhZGRyc5YACASsEqrWBqPlAAoErBKq1gaj5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECbYcjww-4O243CWZdkmMU31WdJ0cQcdARzVoVe1T2XjKDdGNwgqPlg3VkcIKj54V3YWt1MgU --filternode=/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.185.56 waku b26cd5abfd365ab1771f8483a51cbc9f047f7ac8624b68f5e5769e06bfb3549a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b26cd5abfd36. Setting up logs at ./log/docker/node5_2024-11-25_06-18-13__de4102ac-6a91-482b-b84c-fc8151477779__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 42552
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42552/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42552/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.56/tcp/42553/p2p/16Uiu2HAmPLvoaB2bC61wnsovWugQh5bo1cRSodkt2sERR7vv2cFg","/ip4/172.18.185.56/tcp/42554/ws/p2p/16Uiu2HAmPLvoaB2bC61wnsovWugQh5bo1cRSodkt2sERR7vv2cFg"],"enrUri":"enr:-L24QFvSBW9e4Mnko6sac7W_rqKFc-kZBrkvkwckJGpqwnDxbeoB4iAua_eOokVNiGjRX5LfpVeX4sDqoM29FJiTC2ACgmlkgnY0gmlwhKwSuTiKbXVsdGlhZGRyc5YACASsErk4BqY5AAoErBK5OAamOt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDntAXWH7Y1NQYmXbtBumAxq0SKNgXO0avjxWGfFeVI1eDdGNwgqY5g3VkcIKmO4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42552/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.214/tcp/41957/p2p/16Uiu2HAm2oDwKHuuu4AoJDgqukwY2iZD6kHhdERsPbSMRQmgeiNu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41956/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14104/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e0452856-6b3b-487d-b28e-a3d6d90d7b1b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e0452856-6b3b-487d-b28e-a3d6d90d7b1b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65500/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b7e8f31a-1edf-4436-bb80-91e487317f7b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b7e8f31a-1edf-4436-bb80-91e487317f7b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20999/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "afabd605-71c6-4dae-884a-72bdebc6529a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"afabd605-71c6-4dae-884a-72bdebc6529a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42552/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d28e74f8-aad2-4247-afdf-ab6c7cf26daf", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d28e74f8-aad2-4247-afdf-ab6c7cf26daf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41956/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14104/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732515507209369600,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41956/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65500/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:65500/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b4766ea98d1f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3f8c094947e9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b4766ea98d1f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4923653d09cb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3f8c094947e9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 1b759b24b490
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4923653d09cb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b26cd5abfd36
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1b759b24b490. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.