[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.245.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7029', '7030', '7031', '7032', '7033']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7029:7029 -p 7030:7030 -p 7031:7031 -p 7032:7032 -p 7033:7033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7031 --rest-port=7029 --tcp-port=7030 --discv5-udp-port=7032 --rest-address=0.0.0.0 --nat=extip:172.18.245.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=92e836dd9de7b8bbbbf7b3c2fdeaa6e926cd02ffbd67e4fe10e988601791ce21 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7033 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.245.178 waku 942178b20046450c599400f98c63c396b0e34710ea6749555302876adb15568c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 942178b20046. Setting up logs at ./log/docker/receiving_node1_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7029
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7029/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL","/ip4/172.18.245.178/tcp/7031/ws/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL"],"enrUri":"enr:-LO4QOGNt9Kfqld5bo-rEU-qtPTPywjEqzPc9yLtdXGanFBobW-nwD9_GJXbhB0Wl0W2al4lZ-mF6G7vSz_tLVS5Vq0BgmlkgnY0gmlwhKwS9bKKbXVsdGlhZGRyc4wACgSsEvWyBht33QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7UtoHPlJlQN7annm4y23o7QvuwG2LGnRSoAX7KhpLI4N0Y3CCG3aDdWRwght4hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.83.112
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61857', '61858', '61859', '61860', '61861']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61857:61857 -p 61858:61858 -p 61859:61859 -p 61860:61860 -p 61861:61861 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61859 --rest-port=61857 --tcp-port=61858 --discv5-udp-port=61860 --rest-address=0.0.0.0 --nat=extip:172.18.83.112 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1599b5301d99f54e0efad2fee836fd86bd1decb397a2e1ce77e8b1edc80dddbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61861 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.83.112 waku c133afe906674766179f67b25f4ff5f57acc4cc487a31b7518ed85e626883c89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c133afe90667. Setting up logs at ./log/docker/receiving_node2_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61857
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61857/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61857/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.112/tcp/61858/p2p/16Uiu2HAkx3BQbyFD7Kin6M9amCr3dDrqPaRgzmbNc8ZDxoz49mkW","/ip4/172.18.83.112/tcp/61859/ws/p2p/16Uiu2HAkx3BQbyFD7Kin6M9amCr3dDrqPaRgzmbNc8ZDxoz49mkW"],"enrUri":"enr:-LO4QE0Qg-tqXprOMlM_LbcMwqkoAqqbH64H2hdnaVaaR5KkU_o6e0jfnb7RggYQ76De6PR9e4rao9x13EBSrJYGjYcBgmlkgnY0gmlwhKwSU3CKbXVsdGlhZGRyc4wACgSsElNwBvGj3QOCcnOFAAMBAACJc2VjcDI1NmsxoQImz_nrWvjWyTayOTe3qi8IysNpGWhGawGf3RVznX1mG4N0Y3CC8aKDdWRwgvGkhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61857/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.163.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50553', '50554', '50555', '50556', '50557']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50553:50553 -p 50554:50554 -p 50555:50555 -p 50556:50556 -p 50557:50557 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50555 --rest-port=50553 --tcp-port=50554 --discv5-udp-port=50556 --rest-address=0.0.0.0 --nat=extip:172.18.163.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=741eefb45d3d31fb5eaafbca2a394b8dc438f9e4a4adba09241581cd3b13d2d4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50557 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QOGNt9Kfqld5bo-rEU-qtPTPywjEqzPc9yLtdXGanFBobW-nwD9_GJXbhB0Wl0W2al4lZ-mF6G7vSz_tLVS5Vq0BgmlkgnY0gmlwhKwS9bKKbXVsdGlhZGRyc4wACgSsEvWyBht33QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7UtoHPlJlQN7annm4y23o7QvuwG2LGnRSoAX7KhpLI4N0Y3CCG3aDdWRwght4hXdha3UyCQ --lightpushnode=/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.163.3 waku 92a056cf243889d54ffe42d0b2738ee03af742f9dc9baa4ff82f4679acdf6b5e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 92a056cf2438. Setting up logs at ./log/docker/lightpush_node1_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50553
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50553/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50553/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.3/tcp/50554/p2p/16Uiu2HAmPSemfag5843wstUYGoFgDEtKTMbqn11gkoHURad6HnWi","/ip4/172.18.163.3/tcp/50555/ws/p2p/16Uiu2HAmPSemfag5843wstUYGoFgDEtKTMbqn11gkoHURad6HnWi"],"enrUri":"enr:-LO4QMuowrQRvDUOvrjfcgcqgkbWKVn1DnNSdk27hRyACEodc4H1XCQqcoWPlf_nxOMsgMZGYJbkEycdPGCxvy8b_YsBgmlkgnY0gmlwhKwSowOKbXVsdGlhZGRyc4wACgSsEqMDBsV73QOCcnOFAAMBAACJc2VjcDI1NmsxoQOgR3KXI7lPdY8lOJt0scaY1qANW-3BXrC_CRL9a02Jn4N0Y3CCxXqDdWRwgsV8hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50553/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50553/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.112/tcp/61858/p2p/16Uiu2HAkx3BQbyFD7Kin6M9amCr3dDrqPaRgzmbNc8ZDxoz49mkW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.228.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63672', '63673', '63674', '63675', '63676']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63672:63672 -p 63673:63673 -p 63674:63674 -p 63675:63675 -p 63676:63676 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63674 --rest-port=63672 --tcp-port=63673 --discv5-udp-port=63675 --rest-address=0.0.0.0 --nat=extip:172.18.228.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb2e69c20f82c843001b6f2dcbfba6c4c2dd1fbb4f75a64de8c05ceeeaac4df3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63676 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QOGNt9Kfqld5bo-rEU-qtPTPywjEqzPc9yLtdXGanFBobW-nwD9_GJXbhB0Wl0W2al4lZ-mF6G7vSz_tLVS5Vq0BgmlkgnY0gmlwhKwS9bKKbXVsdGlhZGRyc4wACgSsEvWyBht33QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7UtoHPlJlQN7annm4y23o7QvuwG2LGnRSoAX7KhpLI4N0Y3CCG3aDdWRwght4hXdha3UyCQ --lightpushnode=/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.228.163 waku 3292b5ca9d0cc526bf90f7474ada50d6ab304919950781c62754f8fa8601a50b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3292b5ca9d0c. Setting up logs at ./log/docker/lightpush_node2_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63672
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63672/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63672/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.163/tcp/63673/p2p/16Uiu2HAmMEo5JjNhqFRssb7ryq8phjNU8MUNLJ3pR8Zc9rdGTNyT","/ip4/172.18.228.163/tcp/63674/ws/p2p/16Uiu2HAmMEo5JjNhqFRssb7ryq8phjNU8MUNLJ3pR8Zc9rdGTNyT"],"enrUri":"enr:-LO4QJIYUTFWY0dUMCQDzedvyHM9XyiawzixOed9cU6v9p6aWpM12UmHRtOfNVJigI22K3mpDYUy4JwukafI-Zy4xXIBgmlkgnY0gmlwhKwS5KOKbXVsdGlhZGRyc4wACgSsEuSjBvi63QOCcnOFAAMBAACJc2VjcDI1NmsxoQN_hn5bpPCCJwQKSnQ7p2l9bJSJCBsbvEFjQQhTIT9MfoN0Y3CC-LmDdWRwgvi7hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63672/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63672/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.112/tcp/61858/p2p/16Uiu2HAkx3BQbyFD7Kin6M9amCr3dDrqPaRgzmbNc8ZDxoz49mkW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.180.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51861', '51862', '51863', '51864', '51865']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51861:51861 -p 51862:51862 -p 51863:51863 -p 51864:51864 -p 51865:51865 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51863 --rest-port=51861 --tcp-port=51862 --discv5-udp-port=51864 --rest-address=0.0.0.0 --nat=extip:172.18.180.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=12c5af3ba7293adeff17d5f8a5aa29f78fc004fbcaafd2b0a4da5c97c314becc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51865 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QOGNt9Kfqld5bo-rEU-qtPTPywjEqzPc9yLtdXGanFBobW-nwD9_GJXbhB0Wl0W2al4lZ-mF6G7vSz_tLVS5Vq0BgmlkgnY0gmlwhKwS9bKKbXVsdGlhZGRyc4wACgSsEvWyBht33QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7UtoHPlJlQN7annm4y23o7QvuwG2LGnRSoAX7KhpLI4N0Y3CCG3aDdWRwght4hXdha3UyCQ --lightpushnode=/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.180.157 waku d4cf343cd853a0929d0ae1f8c334aafe6cedf5cadcfa31875705bfb8cb6d9783
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d4cf343cd853. Setting up logs at ./log/docker/lightpush_node3_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51861
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51861/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51861/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.157/tcp/51862/p2p/16Uiu2HAmMuvvAw9CzXXT74egdvNcdCZ2sA5XuPeCYYHCaZ887gxz","/ip4/172.18.180.157/tcp/51863/ws/p2p/16Uiu2HAmMuvvAw9CzXXT74egdvNcdCZ2sA5XuPeCYYHCaZ887gxz"],"enrUri":"enr:-LO4QDxejOaABjDF4kw4SFpSEKy2eVzK21u3N5pKDnxFQ5pGZvzM5zfXsS28me2B_uPfQyopLa5PLCUlnorxi-V38_oBgmlkgnY0gmlwhKwStJ2KbXVsdGlhZGRyc4wACgSsErSdBsqX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJjQM_5_rPIZAk2JCT2mHcMk5BLZhe2lflIOHQ1Ohua4N0Y3CCypaDdWRwgsqYhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51861/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51861/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.112/tcp/61858/p2p/16Uiu2HAkx3BQbyFD7Kin6M9amCr3dDrqPaRgzmbNc8ZDxoz49mkW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.23.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62967', '62968', '62969', '62970', '62971']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62967:62967 -p 62968:62968 -p 62969:62969 -p 62970:62970 -p 62971:62971 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62969 --rest-port=62967 --tcp-port=62968 --discv5-udp-port=62970 --rest-address=0.0.0.0 --nat=extip:172.18.23.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c6fde3ed0ed8f1cd74ef2ecfa82afbaf96f9ad8bec443fec6fb3a0ec6ecb8ced --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62971 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QOGNt9Kfqld5bo-rEU-qtPTPywjEqzPc9yLtdXGanFBobW-nwD9_GJXbhB0Wl0W2al4lZ-mF6G7vSz_tLVS5Vq0BgmlkgnY0gmlwhKwS9bKKbXVsdGlhZGRyc4wACgSsEvWyBht33QOCcnOFAAMBAACJc2VjcDI1NmsxoQP7UtoHPlJlQN7annm4y23o7QvuwG2LGnRSoAX7KhpLI4N0Y3CCG3aDdWRwght4hXdha3UyCQ --lightpushnode=/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.23.229 waku e17b3436757526d6af88931787cf2385c463277e95f3571660653b22a403f771
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e17b34367575. Setting up logs at ./log/docker/lightpush_node4_2024-10-02_04-18-03__9a503652-5740-4dd3-80e9-030bf1aea58a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62967
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62967/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62967/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.229/tcp/62968/p2p/16Uiu2HAm686FLeVw5JyDJJZBsyqywXUiVHEGEefxcWUa5tRQrhmJ","/ip4/172.18.23.229/tcp/62969/ws/p2p/16Uiu2HAm686FLeVw5JyDJJZBsyqywXUiVHEGEefxcWUa5tRQrhmJ"],"enrUri":"enr:-LO4QCsRvsjbEF91T6OWXL5X7tQO6ZFCNZjSPIr6NdKI511nFgZStlcWkt0qIwgOz8Lc0Xd7izE8ZSMqoxdoqBrQIMUBgmlkgnY0gmlwhKwSF-WKbXVsdGlhZGRyc4wACgSsEhflBvX53QOCcnOFAAMBAACJc2VjcDI1NmsxoQKe74qlEU_eaPcP-tLMqY2mGNzkdPGhwEhSJYg4PK9wgYN0Y3CC9fiDdWRwgvX6hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62967/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.245.178/tcp/7030/p2p/16Uiu2HAmVa3xUHzAoE5XEk7oPFmfHEZCQe6yh5JFfb1FYSf1ZDqL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62967/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.112/tcp/61858/p2p/16Uiu2HAkx3BQbyFD7Kin6M9amCr3dDrqPaRgzmbNc8ZDxoz49mkW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61857/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50553/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727842692948073984}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842692948073984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842692948073984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63672/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727842693062783488}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842693062783488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842693062783488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51861/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727842693179362048}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842693179362048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842693179362048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62967/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727842693297828352}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842693297828352,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61857/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727842693297828352,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 942178b20046
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c133afe90667
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 92a056cf2438
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3292b5ca9d0c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d4cf343cd853
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e17b34367575
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.