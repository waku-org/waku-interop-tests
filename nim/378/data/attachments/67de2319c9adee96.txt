[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_invalid_cursor with id: 2024-10-02_04-28-48__6cc7fffc-1306-407f-a94d-9b5efbadc723
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-02_04-28-48__6cc7fffc-1306-407f-a94d-9b5efbadc723__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.95.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38651', '38652', '38653', '38654', '38655']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38651:38651 -p 38652:38652 -p 38653:38653 -p 38654:38654 -p 38655:38655 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38653 --rest-port=38651 --tcp-port=38652 --discv5-udp-port=38654 --rest-address=0.0.0.0 --nat=extip:172.18.95.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=282fce28eaf5baac8c194cbe1f90f4ac2b8ae18cef52932494ab7bc15aaedf87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38655 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.95.242 waku a990523b019be122e8e1e58b89708445fd76b1c194396cc0ca4239dde8fc1afc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a990523b019b. Setting up logs at ./log/docker/publishing_node1_2024-10-02_04-28-48__6cc7fffc-1306-407f-a94d-9b5efbadc723__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38651
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38651/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38651/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.242/tcp/38652/p2p/16Uiu2HAm4y825Ac6uxRGxkZg1VAVADmi86vAb7PSbFMCHiYCRcik","/ip4/172.18.95.242/tcp/38653/ws/p2p/16Uiu2HAm4y825Ac6uxRGxkZg1VAVADmi86vAb7PSbFMCHiYCRcik"],"enrUri":"enr:-LO4QJILH9NH8eo0DLBhm3Pqkl3c-zn3DRI2QBOrgS95i2s1J3USGrYKOm-2YZuZ0I6C4u5u9sZ14VoK8vFf7jM3HksBgmlkgnY0gmlwhKwSX_KKbXVsdGlhZGRyc4wACgSsEl_yBpb93QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNx6FRFDpoMIlQ-t083ypOlCenC_LLQKbch_icRy2KcYN0Y3CClvyDdWRwgpb-hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-02_04-28-48__6cc7fffc-1306-407f-a94d-9b5efbadc723__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.68.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50535', '50536', '50537', '50538', '50539']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50535:50535 -p 50536:50536 -p 50537:50537 -p 50538:50538 -p 50539:50539 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50537 --rest-port=50535 --tcp-port=50536 --discv5-udp-port=50538 --rest-address=0.0.0.0 --nat=extip:172.18.68.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=07b3396cae38fb2bddfbdc65dadc9cefab6c41681be6b9ba8a0d9c1f4a9e30e8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50539 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJILH9NH8eo0DLBhm3Pqkl3c-zn3DRI2QBOrgS95i2s1J3USGrYKOm-2YZuZ0I6C4u5u9sZ14VoK8vFf7jM3HksBgmlkgnY0gmlwhKwSX_KKbXVsdGlhZGRyc4wACgSsEl_yBpb93QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNx6FRFDpoMIlQ-t083ypOlCenC_LLQKbch_icRy2KcYN0Y3CClvyDdWRwgpb-hXdha3UyAw --storenode=/ip4/172.18.95.242/tcp/38652/p2p/16Uiu2HAm4y825Ac6uxRGxkZg1VAVADmi86vAb7PSbFMCHiYCRcik --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.68.225 waku 3d821d5c2d3008c70177b4f9dc4e9a019000198e83ec3b16ec0fd9fb5be5585d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3d821d5c2d30. Setting up logs at ./log/docker/store_node1_2024-10-02_04-28-48__6cc7fffc-1306-407f-a94d-9b5efbadc723__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50535
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50535/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50535/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.225/tcp/50536/p2p/16Uiu2HAm2pygc8vdxKLdfSsLFKbGdS3YKArcH38KZAS7DHKrXdHh","/ip4/172.18.68.225/tcp/50537/ws/p2p/16Uiu2HAm2pygc8vdxKLdfSsLFKbGdS3YKArcH38KZAS7DHKrXdHh"],"enrUri":"enr:-LO4QBkuEeqSeHoXUqF9Ae-JXxWdj1sB4blJ506YWg-CC3fqZ53JYBKz4sIHG2CzSeKhrimfSapdZEELcupa9RViR0IBgmlkgnY0gmlwhKwSROGKbXVsdGlhZGRyc4wACgSsEkThBsVp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJt-i9Il69xl0hY1y8PZ690lvGtryi_tA1yvySh3X3o2IN0Y3CCxWiDdWRwgsVqhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50535/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.95.242/tcp/38652/p2p/16Uiu2HAm4y825Ac6uxRGxkZg1VAVADmi86vAb7PSbFMCHiYCRcik"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38651/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50535/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38651/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38651/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38651/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a990523b019b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3d821d5c2d30
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.