[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_unsubscribed_peer with id: 2024-10-02_04-15-56__fccd02ed-07dd-4701-a495-ad055cdfd92a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-02_04-15-56__fccd02ed-07dd-4701-a495-ad055cdfd92a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.99.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58146', '58147', '58148', '58149', '58150']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58146:58146 -p 58147:58147 -p 58148:58148 -p 58149:58149 -p 58150:58150 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58148 --rest-port=58146 --tcp-port=58147 --discv5-udp-port=58149 --rest-address=0.0.0.0 --nat=extip:172.18.99.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd10b1dcdf3fff7ba1b66b7d1a167def969b9ba236dbf7baca1eadd493940aaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58150 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.99.43 waku 43a00cf1df2dbd43ba312f563391d2e256de822e67df7cf9f1592f4d403b7479
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 43a00cf1df2d. Setting up logs at ./log/docker/node1_2024-10-02_04-15-56__fccd02ed-07dd-4701-a495-ad055cdfd92a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58146
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58146/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58146/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.43/tcp/58147/p2p/16Uiu2HAmHtMvWcE5G12yLyunJzjD2JYJ1NbjFrLvinJTNE3gwJDu","/ip4/172.18.99.43/tcp/58148/ws/p2p/16Uiu2HAmHtMvWcE5G12yLyunJzjD2JYJ1NbjFrLvinJTNE3gwJDu"],"enrUri":"enr:-LO4QNGyBTHag3mYn0QZBUIlYaWfEric-Yiz4TbmZ_6nwu1yaY1GFT698wXJ5Ui5v7UWkfxUswgmfh_9ejvY9mLcWcABgmlkgnY0gmlwhKwSYyuKbXVsdGlhZGRyc4wACgSsEmMrBuMk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNNt2CoowekQTJkxi_4LIB6KuODbjLmFNb_9EutbaJ9MIN0Y3CC4yODdWRwguMlhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-02_04-15-56__fccd02ed-07dd-4701-a495-ad055cdfd92a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.37.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61026', '61027', '61028', '61029', '61030']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61026:61026 -p 61027:61027 -p 61028:61028 -p 61029:61029 -p 61030:61030 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61028 --rest-port=61026 --tcp-port=61027 --discv5-udp-port=61029 --rest-address=0.0.0.0 --nat=extip:172.18.37.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dedfdef14c86f1bc3ce2c93fb4999bf38bfeaa2e0ed2c8b33dfd9bb5f7369bff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61030 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNGyBTHag3mYn0QZBUIlYaWfEric-Yiz4TbmZ_6nwu1yaY1GFT698wXJ5Ui5v7UWkfxUswgmfh_9ejvY9mLcWcABgmlkgnY0gmlwhKwSYyuKbXVsdGlhZGRyc4wACgSsEmMrBuMk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNNt2CoowekQTJkxi_4LIB6KuODbjLmFNb_9EutbaJ9MIN0Y3CC4yODdWRwguMlhXdha3UyBQ --filternode=/ip4/172.18.99.43/tcp/58147/p2p/16Uiu2HAmHtMvWcE5G12yLyunJzjD2JYJ1NbjFrLvinJTNE3gwJDu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.37.126 waku d87fa9b965921ae646719e19882b55b42535f8c9f6cdfa975f8db4043fe402ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d87fa9b96592. Setting up logs at ./log/docker/node2_2024-10-02_04-15-56__fccd02ed-07dd-4701-a495-ad055cdfd92a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61026
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61026/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61026/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.126/tcp/61027/p2p/16Uiu2HAm9GwN4qH7wHUN4FjgVpgvsFoefEzNSSmcfnpy8nmBP96T","/ip4/172.18.37.126/tcp/61028/ws/p2p/16Uiu2HAm9GwN4qH7wHUN4FjgVpgvsFoefEzNSSmcfnpy8nmBP96T"],"enrUri":"enr:-LO4QIE9Xxfnl7e-kt_md34JeCoUgVkpTWO6dK3TnJW72X4MMYtvoGlp7fd7dvSaVTjCuv6eZGbiTJ3Iw-ryz1cPwmwBgmlkgnY0gmlwhKwSJX6KbXVsdGlhZGRyc4wACgSsEiV-Bu5k3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLNxsjSQpvXMHHVDkghSGh7VGkruK_DQBYaW-g9nsEYrIN0Y3CC7mODdWRwgu5lhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61026/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.43/tcp/58147/p2p/16Uiu2HAmHtMvWcE5G12yLyunJzjD2JYJ1NbjFrLvinJTNE3gwJDu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58146/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61026/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7eda7c35-1592-4a61-afc5-b1ca88f80d96", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7eda7c35-1592-4a61-afc5-b1ca88f80d96","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61026/filter/v2/subscriptions/27833aa6-d551-4c87-a31a-0b4899b386a3" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"27833aa6-d551-4c87-a31a-0b4899b386a3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:61026/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12345", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"12345","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61026/filter/v2/subscriptions/460135c2-7363-43c8-aa91-7ec03981d15b" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:61026/filter/v2/subscriptions/460135c2-7363-43c8-aa91-7ec03981d15b. Response content: b'{"requestId":"460135c2-7363-43c8-aa91-7ec03981d15b","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 43a00cf1df2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d87fa9b96592
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.