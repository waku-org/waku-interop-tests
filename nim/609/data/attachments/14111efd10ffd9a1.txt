[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.191.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35582', '35583', '35584', '35585', '35586']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35582:35582 -p 35583:35583 -p 35584:35584 -p 35585:35585 -p 35586:35586 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35584 --rest-port=35582 --tcp-port=35583 --discv5-udp-port=35585 --rest-address=0.0.0.0 --nat=extip:172.18.191.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adab4bcdfecfafee95e9ad6d5f4c9fec531367e4c375c09d5dee2cb1cea29f8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35586 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.191.51 waku c84a28b24f34726458f8618186045c27d3d8d1a37c900e9f74d6104c96686269
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c84a28b24f34. Setting up logs at ./log/docker/node1_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35582
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3a2fc6585e3c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35582/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35582/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.51/tcp/35583/p2p/16Uiu2HAm1BaYmsrCixAg43spXo3fzLV6xEz91dzLnpSEsey6wo3F","/ip4/172.18.191.51/tcp/35584/ws/p2p/16Uiu2HAm1BaYmsrCixAg43spXo3fzLV6xEz91dzLnpSEsey6wo3F"],"enrUri":"enr:-L24QEofsJzClFMraKtsYS6WF2da1gIz0og-BCaHktkzL5xtBlZ1GLoqhBcpYCO-mXaOe38i4DM-HjJX_0_S208iQJECgmlkgnY0gmlwhKwSvzOKbXVsdGlhZGRyc5YACASsEr8zBor_AAoErBK_MwaLAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVYnZVitH3BmONDRRNbBE3poKes0fe3As0K-sF3IUHPqDdGNwgor_g3VkcIKLAYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18029', '18030', '18031', '18032', '18033']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18029:18029 -p 18030:18030 -p 18031:18031 -p 18032:18032 -p 18033:18033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18031 --rest-port=18029 --tcp-port=18030 --discv5-udp-port=18032 --rest-address=0.0.0.0 --nat=extip:172.18.11.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2f5c72ab7e7da9dbf262e8aaa9d123b8bbf2a9893fce3dcaabf8ccff217f9728 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18033 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEofsJzClFMraKtsYS6WF2da1gIz0og-BCaHktkzL5xtBlZ1GLoqhBcpYCO-mXaOe38i4DM-HjJX_0_S208iQJECgmlkgnY0gmlwhKwSvzOKbXVsdGlhZGRyc5YACASsEr8zBor_AAoErBK_MwaLAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVYnZVitH3BmONDRRNbBE3poKes0fe3As0K-sF3IUHPqDdGNwgor_g3VkcIKLAYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.34 waku a9443c7962f116505c00b7ee655deed27559346e07c5cef68e59bff6bce180f7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a9443c7962f1. Setting up logs at ./log/docker/node2_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18029
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18029/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.34/tcp/18030/p2p/16Uiu2HAky8q7xRFzwg4Md5kiTzonuxHJCexHR6R1XKsR8wawiGb9","/ip4/172.18.11.34/tcp/18031/ws/p2p/16Uiu2HAky8q7xRFzwg4Md5kiTzonuxHJCexHR6R1XKsR8wawiGb9"],"enrUri":"enr:-L24QAcupMHOFZj8_OHYaf2V4Xz7yVN0Mf2tu00wzK5PiK36FNLdajBgcHjNOBZcBTrCVCw6Z4ASj39NJxZhkOzmGgICgmlkgnY0gmlwhKwSCyKKbXVsdGlhZGRyc5YACASsEgsiBkZuAAoErBILIgZGb90DgnJzhQADAQAAiXNlY3AyNTZrMaECNx41nEzMsZf8ymetxGgajuTxzHQEP83H7MEOSB1dZ0CDdGNwgkZug3VkcIJGcIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18029/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.51/tcp/35583/p2p/16Uiu2HAm1BaYmsrCixAg43spXo3fzLV6xEz91dzLnpSEsey6wo3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.234.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29472', '29473', '29474', '29475', '29476']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29472:29472 -p 29473:29473 -p 29474:29474 -p 29475:29475 -p 29476:29476 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29474 --rest-port=29472 --tcp-port=29473 --discv5-udp-port=29475 --rest-address=0.0.0.0 --nat=extip:172.18.234.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcdbcc48f9a80fafb48c2ccaf987f411a1ab7c3dff2bc1f97c1f1ce5cf332ba2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29476 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEofsJzClFMraKtsYS6WF2da1gIz0og-BCaHktkzL5xtBlZ1GLoqhBcpYCO-mXaOe38i4DM-HjJX_0_S208iQJECgmlkgnY0gmlwhKwSvzOKbXVsdGlhZGRyc5YACASsEr8zBor_AAoErBK_MwaLAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVYnZVitH3BmONDRRNbBE3poKes0fe3As0K-sF3IUHPqDdGNwgor_g3VkcIKLAYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.234.234 waku ac3428a7c2b3bcf6b0e8395d7fca28c9ab80f221344360870bc7f3bab6dc1ea8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ac3428a7c2b3. Setting up logs at ./log/docker/node3_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29472
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29472/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29472/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.234/tcp/29473/p2p/16Uiu2HAmUhHqZH3Eu5yCMNGqHfvnzsjgJWozMnHZB5oSqqT9a17L","/ip4/172.18.234.234/tcp/29474/ws/p2p/16Uiu2HAmUhHqZH3Eu5yCMNGqHfvnzsjgJWozMnHZB5oSqqT9a17L"],"enrUri":"enr:-L24QOoRfqlHQPRiBX3ckuXgD_BB3-WkagU1Yacc6aUMy8GvNCNrjCRIOFBpumHL6KzJ-1mIzAo9dpzDuZk3c42tRQcCgmlkgnY0gmlwhKwS6uqKbXVsdGlhZGRyc5YACASsEurqBnMhAAoErBLq6gZzIt0DgnJzhQADAQAAiXNlY3AyNTZrMaED7lHs67P6UQu-L2VMWTWmua-Nu9jBNezhpRMCCjI8RFeDdGNwgnMhg3VkcIJzI4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29472/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.51/tcp/35583/p2p/16Uiu2HAm1BaYmsrCixAg43spXo3fzLV6xEz91dzLnpSEsey6wo3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.23.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37507', '37508', '37509', '37510', '37511']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37507:37507 -p 37508:37508 -p 37509:37509 -p 37510:37510 -p 37511:37511 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37509 --rest-port=37507 --tcp-port=37508 --discv5-udp-port=37510 --rest-address=0.0.0.0 --nat=extip:172.18.23.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae7e12c5dfa2a4f855ef7efa4da82a2bdabed6b8d72c0e9c7b4f4a159e7be1fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37511 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEofsJzClFMraKtsYS6WF2da1gIz0og-BCaHktkzL5xtBlZ1GLoqhBcpYCO-mXaOe38i4DM-HjJX_0_S208iQJECgmlkgnY0gmlwhKwSvzOKbXVsdGlhZGRyc5YACASsEr8zBor_AAoErBK_MwaLAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVYnZVitH3BmONDRRNbBE3poKes0fe3As0K-sF3IUHPqDdGNwgor_g3VkcIKLAYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.23.167 waku 3e887af54e2982576b3fd02d39ed6ec169270de9ae423a445fe7feaf6aae89ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3e887af54e29. Setting up logs at ./log/docker/node4_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37507
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37507/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37507/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.167/tcp/37508/p2p/16Uiu2HAm2WfKER8JprczVUzjuBvLdHusEuYqPkXxNnpHBeB3ZkVN","/ip4/172.18.23.167/tcp/37509/ws/p2p/16Uiu2HAm2WfKER8JprczVUzjuBvLdHusEuYqPkXxNnpHBeB3ZkVN"],"enrUri":"enr:-L24QBrUVvfsG6DVb3YU6FNQKM1cHhc7TtHIIOw1i5HTZCMCQwRbDw4JX5zHvrEVtNJBQ_G2LxQ93N5sHZOPWDPikQICgmlkgnY0gmlwhKwSF6eKbXVsdGlhZGRyc5YACASsEhenBpKEAAoErBIXpwaShd0DgnJzhQADAQAAiXNlY3AyNTZrMaECaUj19anfXga5npMme-EXa52tSRPRIOLINpcyBX6upRmDdGNwgpKEg3VkcIKShoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37507/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.51/tcp/35583/p2p/16Uiu2HAm1BaYmsrCixAg43spXo3fzLV6xEz91dzLnpSEsey6wo3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.144.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22154', '22155', '22156', '22157', '22158']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22154:22154 -p 22155:22155 -p 22156:22156 -p 22157:22157 -p 22158:22158 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22156 --rest-port=22154 --tcp-port=22155 --discv5-udp-port=22157 --rest-address=0.0.0.0 --nat=extip:172.18.144.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a5e6ac0ea93541b84d9b5b5b22ae844ff4bbfbc0951b7e0954fa2baacfa2033a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22158 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEofsJzClFMraKtsYS6WF2da1gIz0og-BCaHktkzL5xtBlZ1GLoqhBcpYCO-mXaOe38i4DM-HjJX_0_S208iQJECgmlkgnY0gmlwhKwSvzOKbXVsdGlhZGRyc5YACASsEr8zBor_AAoErBK_MwaLAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVYnZVitH3BmONDRRNbBE3poKes0fe3As0K-sF3IUHPqDdGNwgor_g3VkcIKLAYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.144.171 waku b815598b18b6b0ce47a1361d843689c41f6f8a10527dcf2025c999deae7363e5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b815598b18b6. Setting up logs at ./log/docker/node5_2025-01-07_04-04-56__15a92e24-9cd9-436f-a613-3d8915a253fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 22154
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22154/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22154/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.171/tcp/22155/p2p/16Uiu2HAmHJjc7evuFVx3oqyoviuwruyFtYijMdrbXPHmVuv4nUh2","/ip4/172.18.144.171/tcp/22156/ws/p2p/16Uiu2HAmHJjc7evuFVx3oqyoviuwruyFtYijMdrbXPHmVuv4nUh2"],"enrUri":"enr:-L24QOAAezMkbHARYDHVQyzEvaoNoycHEj9lqufRdxm73747E2Z-BodsyRWVew3N36LytvnFNi8d0ZzI3tdOdGjfKF0CgmlkgnY0gmlwhKwSkKuKbXVsdGlhZGRyc5YACASsEpCrBlaLAAoErBKQqwZWjN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRRolnJsnuq9Z98KileOiMzqMQ4e8r7y9BTlli8ryxTWDdGNwglaLg3VkcIJWjYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22154/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.51/tcp/35583/p2p/16Uiu2HAm1BaYmsrCixAg43spXo3fzLV6xEz91dzLnpSEsey6wo3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35582/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29472/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37507/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22154/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703487476224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703487476224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29472/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703487476224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37507/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703487476224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22154/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703487476224,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22154/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35582/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703613099264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703613099264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29472/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703613099264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37507/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703613099264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22154/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736222703613099264,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c84a28b24f34
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a9443c7962f1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c84a28b24f34. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ac3428a7c2b3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a9443c7962f1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3e887af54e29
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ac3428a7c2b3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b815598b18b6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e887af54e29. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.