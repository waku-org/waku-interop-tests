[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.142.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36793', '36794', '36795', '36796', '36797']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36793:36793 -p 36794:36794 -p 36795:36795 -p 36796:36796 -p 36797:36797 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36795 --rest-port=36793 --tcp-port=36794 --discv5-udp-port=36796 --rest-address=0.0.0.0 --nat=extip:172.18.142.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dca63eab0cbfbbf2a60014c01b4ed57e38bbd4da55cf0a3fe824267e6f98fb84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36797 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.142.8 waku e440f0703a4599cc195b33544f5c9df74d2e10a57139654bf4de4c341ee9f80b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e440f0703a45. Setting up logs at ./log/docker/receiving_node1_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36793
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36793/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36793/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2","/ip4/172.18.142.8/tcp/36795/ws/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2"],"enrUri":"enr:-LO4QJKHLgpzY2xjZAIAKNyjScwa-VvfXa6rSVoCRHVrNU35ZPg2vwJX3etYuZYdf88nKF9TZ-_aImhWp6ZiNQaqVgUBgmlkgnY0gmlwhKwSjgiKbXVsdGlhZGRyc4wACgSsEo4IBo-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrJyRmAXXt11Nv-HJOIN1p53qIVXAnQ_a2A7TTQ5oubYN0Y3CCj7qDdWRwgo-8hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.195.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60310', '60311', '60312', '60313', '60314']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60310:60310 -p 60311:60311 -p 60312:60312 -p 60313:60313 -p 60314:60314 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60312 --rest-port=60310 --tcp-port=60311 --discv5-udp-port=60313 --rest-address=0.0.0.0 --nat=extip:172.18.195.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2a215b0b0660e4e4ea1f8f3a558eff76ea15c56ca6bda06edecebc44ec9c355 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60314 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.195.224 waku d56537ee0e6c10744f90383a555e8522d3bbaf9511a9de3c4ba9fd2313a89f4a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d56537ee0e6c. Setting up logs at ./log/docker/receiving_node2_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60310
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60310/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60310/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.224/tcp/60311/p2p/16Uiu2HAm5L2YWEQULdBvDsrXJWHcAj7NxWVkMFEDgSsTwaT764Pt","/ip4/172.18.195.224/tcp/60312/ws/p2p/16Uiu2HAm5L2YWEQULdBvDsrXJWHcAj7NxWVkMFEDgSsTwaT764Pt"],"enrUri":"enr:-LO4QC0vakBn6_G72_YTxrryxwapqVbBx1hiUkVpez8S4k2PW8qEhDocw85FvRfWYdzC3gIG2kqWUlMItt8aKenPFT4BgmlkgnY0gmlwhKwSw-CKbXVsdGlhZGRyc4wACgSsEsPgBuuY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKTIqLc9SUIs984YmcBJe8eoKQUYYdi2-x1I9hIpiYfQ4N0Y3CC65eDdWRwguuZhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60310/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.72.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48640', '48641', '48642', '48643', '48644']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48640:48640 -p 48641:48641 -p 48642:48642 -p 48643:48643 -p 48644:48644 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48642 --rest-port=48640 --tcp-port=48641 --discv5-udp-port=48643 --rest-address=0.0.0.0 --nat=extip:172.18.72.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d9d1a0f37b4bff13b64a513ab2d8db13dafade3e74f1d48c4c8c2e98edc10df2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48644 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJKHLgpzY2xjZAIAKNyjScwa-VvfXa6rSVoCRHVrNU35ZPg2vwJX3etYuZYdf88nKF9TZ-_aImhWp6ZiNQaqVgUBgmlkgnY0gmlwhKwSjgiKbXVsdGlhZGRyc4wACgSsEo4IBo-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrJyRmAXXt11Nv-HJOIN1p53qIVXAnQ_a2A7TTQ5oubYN0Y3CCj7qDdWRwgo-8hXdha3UyCQ --lightpushnode=/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.72.251 waku 290d91a6718b7f2352b8f2c301a03bc8b46b5d6e49de72cc413c7d44befb538a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 290d91a6718b. Setting up logs at ./log/docker/lightpush_node1_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48640
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48640/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48640/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.72.251/tcp/48641/p2p/16Uiu2HAmMX8Bt3sAk6yRfmLWP6ixDx1a5T9ifA8gwpvF4wVxZMGb","/ip4/172.18.72.251/tcp/48642/ws/p2p/16Uiu2HAmMX8Bt3sAk6yRfmLWP6ixDx1a5T9ifA8gwpvF4wVxZMGb"],"enrUri":"enr:-LO4QF_y2sUCaRdeT2sRI_MDE6P_XGNgfrSLtBunS8YTSVH-bU3W3to2tWzbHzEsYg7NK_rWyKwN3azCrwd33n1xfkcBgmlkgnY0gmlwhKwSSPuKbXVsdGlhZGRyc4wACgSsEkj7Br4C3QOCcnOFAAMBAACJc2VjcDI1NmsxoQODtWXnyJldVBrVmS6znUPw_hUZJjEp-zxM_2yBJJgYSIN0Y3CCvgGDdWRwgr4DhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48640/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48640/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.195.224/tcp/60311/p2p/16Uiu2HAm5L2YWEQULdBvDsrXJWHcAj7NxWVkMFEDgSsTwaT764Pt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.224.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1978', '1979', '1980', '1981', '1982']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1978:1978 -p 1979:1979 -p 1980:1980 -p 1981:1981 -p 1982:1982 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1980 --rest-port=1978 --tcp-port=1979 --discv5-udp-port=1981 --rest-address=0.0.0.0 --nat=extip:172.18.224.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbca0cbd54f59ed8859fbf5324d9ddaf7ed12f55dfbaacf9e597fe8aee0699a4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1982 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJKHLgpzY2xjZAIAKNyjScwa-VvfXa6rSVoCRHVrNU35ZPg2vwJX3etYuZYdf88nKF9TZ-_aImhWp6ZiNQaqVgUBgmlkgnY0gmlwhKwSjgiKbXVsdGlhZGRyc4wACgSsEo4IBo-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrJyRmAXXt11Nv-HJOIN1p53qIVXAnQ_a2A7TTQ5oubYN0Y3CCj7qDdWRwgo-8hXdha3UyCQ --lightpushnode=/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.224.195 waku a8586ccb66864ba2899f5648035cb7731cac9da25d29a3fea784e21fbc987116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a8586ccb6686. Setting up logs at ./log/docker/lightpush_node2_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1978
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1978/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1978/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.195/tcp/1979/p2p/16Uiu2HAmM9voJgvpTvqPn6VkKaLicZN2pNxsWiPc9i6oCJhqM3Hf","/ip4/172.18.224.195/tcp/1980/ws/p2p/16Uiu2HAmM9voJgvpTvqPn6VkKaLicZN2pNxsWiPc9i6oCJhqM3Hf"],"enrUri":"enr:-LO4QAjDPTX-YzVSpRbVMI0g97WmIDP7hSv9Mw1NW_fNrusMM85rSzvAdPOrfMPSj7cp5QIlBJo6PC9rSBMXlDhMOvEBgmlkgnY0gmlwhKwS4MOKbXVsdGlhZGRyc4wACgSsEuDDBge83QOCcnOFAAMBAACJc2VjcDI1NmsxoQN-R1K_p9BeQvHiDf2DEiOh1C-Hg_nMmXCTp0PO9Q3e7oN0Y3CCB7uDdWRwgge9hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1978/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1978/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.195.224/tcp/60311/p2p/16Uiu2HAm5L2YWEQULdBvDsrXJWHcAj7NxWVkMFEDgSsTwaT764Pt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.157.92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61115', '61116', '61117', '61118', '61119']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61115:61115 -p 61116:61116 -p 61117:61117 -p 61118:61118 -p 61119:61119 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61117 --rest-port=61115 --tcp-port=61116 --discv5-udp-port=61118 --rest-address=0.0.0.0 --nat=extip:172.18.157.92 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8d80bfcff9b0933d79ddf51bc34a3ef390b0ab07799dfcdfbc8ef4ecefc6fbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61119 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJKHLgpzY2xjZAIAKNyjScwa-VvfXa6rSVoCRHVrNU35ZPg2vwJX3etYuZYdf88nKF9TZ-_aImhWp6ZiNQaqVgUBgmlkgnY0gmlwhKwSjgiKbXVsdGlhZGRyc4wACgSsEo4IBo-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrJyRmAXXt11Nv-HJOIN1p53qIVXAnQ_a2A7TTQ5oubYN0Y3CCj7qDdWRwgo-8hXdha3UyCQ --lightpushnode=/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.157.92 waku 6192361c8180e48a7e06b48ddb8a84714a81ccf48592888116dc58b487d383c9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6192361c8180. Setting up logs at ./log/docker/lightpush_node3_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61115
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61115/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61115/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.92/tcp/61116/p2p/16Uiu2HAmENsSGSh72Vx8piRfVz1bxiAQreDt4i55dbzhYoPKWDwA","/ip4/172.18.157.92/tcp/61117/ws/p2p/16Uiu2HAmENsSGSh72Vx8piRfVz1bxiAQreDt4i55dbzhYoPKWDwA"],"enrUri":"enr:-LO4QPplLTZ7FPng5WenYKUHJ37BL8a86MSVuX7hQ5278a6OA0FCkCb8HlkQU5zUYP_nfAmiaH5sMJDCh69Rko-wArMBgmlkgnY0gmlwhKwSnVyKbXVsdGlhZGRyc4wACgSsEp1cBu693QOCcnOFAAMBAACJc2VjcDI1NmsxoQMZlkNUxIN5JzWA7IReFW-oefKX9c6qLGOmRIIleGiGXYN0Y3CC7ryDdWRwgu6-hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61115/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61115/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.195.224/tcp/60311/p2p/16Uiu2HAm5L2YWEQULdBvDsrXJWHcAj7NxWVkMFEDgSsTwaT764Pt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.20.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58838', '58839', '58840', '58841', '58842']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58838:58838 -p 58839:58839 -p 58840:58840 -p 58841:58841 -p 58842:58842 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58840 --rest-port=58838 --tcp-port=58839 --discv5-udp-port=58841 --rest-address=0.0.0.0 --nat=extip:172.18.20.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9fa2f08baba2a76ef26ec5ae144a7a95afae39c0acd6ad20f85edcadbf338ebe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58842 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJKHLgpzY2xjZAIAKNyjScwa-VvfXa6rSVoCRHVrNU35ZPg2vwJX3etYuZYdf88nKF9TZ-_aImhWp6ZiNQaqVgUBgmlkgnY0gmlwhKwSjgiKbXVsdGlhZGRyc4wACgSsEo4IBo-73QOCcnOFAAMBAACJc2VjcDI1NmsxoQMrJyRmAXXt11Nv-HJOIN1p53qIVXAnQ_a2A7TTQ5oubYN0Y3CCj7qDdWRwgo-8hXdha3UyCQ --lightpushnode=/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.20.91 waku 0a2478ea727921138f69730d306fe1c137e6e380cb176c470cbdd50064e1bb44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0a2478ea7279. Setting up logs at ./log/docker/lightpush_node4_2024-09-11_09-31-51__dbe8d1c8-ae7a-4a46-8be8-0c3f2db671a5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58838
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58838/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58838/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.91/tcp/58839/p2p/16Uiu2HAkw5uh47SCNuMmqjTCfnwLFD9b9YtAeu7Y5B6Z99BCoVAJ","/ip4/172.18.20.91/tcp/58840/ws/p2p/16Uiu2HAkw5uh47SCNuMmqjTCfnwLFD9b9YtAeu7Y5B6Z99BCoVAJ"],"enrUri":"enr:-LO4QKnx07W3KF9yTjGjAFiDXW7Scsand9ffA9BMLGDkSAlgCeuj3oNvZKjZaDvAcUU03UUT0PVnRpbNKy9zB5utLwkBgmlkgnY0gmlwhKwSFFuKbXVsdGlhZGRyc4wACgSsEhRbBuXY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYp0LdtMjb-YLIBqDrIrFeU_ac_InY003oqiJLEj0tK4N0Y3CC5deDdWRwguXZhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58838/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.8/tcp/36794/p2p/16Uiu2HAmFZSVuUnnr285MD8LeUnBdcAApwtJYh1RN4QoJVuB93B2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58838/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.195.224/tcp/60311/p2p/16Uiu2HAm5L2YWEQULdBvDsrXJWHcAj7NxWVkMFEDgSsTwaT764Pt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36793/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60310/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48640/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726047120888064000}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36793/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047120888064000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047120888064000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1978/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726047121006141440}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36793/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047121006141440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047121006141440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61115/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726047121125203456}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36793/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047121125203456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047121125203456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58838/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726047121241245184}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36793/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047121241245184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60310/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047121241245184,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e440f0703a45
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d56537ee0e6c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 290d91a6718b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a8586ccb6686
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6192361c8180
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0a2478ea7279
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.