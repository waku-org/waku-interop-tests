[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_auto_shard_relay with id: 2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.142.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17462', '17463', '17464', '17465', '17466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17462:17462 -p 17463:17463 -p 17464:17464 -p 17465:17465 -p 17466:17466 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17464 --rest-port=17462 --tcp-port=17463 --discv5-udp-port=17465 --rest-address=0.0.0.0 --nat=extip:172.18.142.211 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=52a6e9b9af3bd8d08a52fa2c1a8538e047e36fc2d0a325b25ca3a10dbfacc046 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17466 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.142.211 waku e87bec839936726d027b5254f4ae9c27f0e4f40d51d81198c8e9ba5379313ff0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e87bec839936. Setting up logs at ./log/docker/node1_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.211/tcp/17463/p2p/16Uiu2HAkw38aXckYDNUjGCyExC9PbQtbVtLqWsWGYbqg2eLHuCWs","/ip4/172.18.142.211/tcp/17464/ws/p2p/16Uiu2HAkw38aXckYDNUjGCyExC9PbQtbVtLqWsWGYbqg2eLHuCWs"],"enrUri":"enr:-LO4QJIMefhDPNWFVwTrTLc2f6oS9ctUWiD2ueBdQqg2vtagASDE_S3NzB0h0Ieg_Z9oE233VCAhzmv8PN_TYf1dnM4BgmlkgnY0gmlwhKwSjtOKbXVsdGlhZGRyc4wACgSsEo7TBkQ43QOCcnOFAAIBAACJc2VjcDI1NmsxoQIX8Rc32fmFXXbfD1hLApPltuv0mR6xJKpHKvViTtZ8EIN0Y3CCRDeDdWRwgkQ5hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.185.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20470', '20471', '20472', '20473', '20474']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20470:20470 -p 20471:20471 -p 20472:20472 -p 20473:20473 -p 20474:20474 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20472 --rest-port=20470 --tcp-port=20471 --discv5-udp-port=20473 --rest-address=0.0.0.0 --nat=extip:172.18.185.169 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dd0e9f3d2aadbddc89258b8dafe295ca36bc9580a513588e56ceb65dce9e22bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20474 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QJIMefhDPNWFVwTrTLc2f6oS9ctUWiD2ueBdQqg2vtagASDE_S3NzB0h0Ieg_Z9oE233VCAhzmv8PN_TYf1dnM4BgmlkgnY0gmlwhKwSjtOKbXVsdGlhZGRyc4wACgSsEo7TBkQ43QOCcnOFAAIBAACJc2VjcDI1NmsxoQIX8Rc32fmFXXbfD1hLApPltuv0mR6xJKpHKvViTtZ8EIN0Y3CCRDeDdWRwgkQ5hXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.185.169 waku 2d2df9f0debe6a31f1bfb6fe6195d5b4d836bed5e9b7e865b40f503035009269
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2d2df9f0debe. Setting up logs at ./log/docker/node2_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20470
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20470/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20470/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.169/tcp/20471/p2p/16Uiu2HAm89U5mNRZyGaFLLQ1dyQVb61aoyGKQhLZbHcSno6B4bGJ","/ip4/172.18.185.169/tcp/20472/ws/p2p/16Uiu2HAm89U5mNRZyGaFLLQ1dyQVb61aoyGKQhLZbHcSno6B4bGJ"],"enrUri":"enr:-LO4QPOamfIXW5BieQso80Ncfzr7SIBmzLXv3ORNbGTaBGkIO5OvxkkCxx5ykB8r_YAHWYv5oOY_Pc60HBfWHEX-yQoBgmlkgnY0gmlwhKwSuamKbXVsdGlhZGRyc4wACgSsErmpBk_43QOCcnOFAAIBAACJc2VjcDI1NmsxoQK9AS9hnVRDtH1JbBnJ995c7zT2Jd3Ij10-KNdO1ZKud4N0Y3CCT_eDdWRwgk_5hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20470/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.211/tcp/17463/p2p/16Uiu2HAkw38aXckYDNUjGCyExC9PbQtbVtLqWsWGYbqg2eLHuCWs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.103.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54364', '54365', '54366', '54367', '54368']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54364:54364 -p 54365:54365 -p 54366:54366 -p 54367:54367 -p 54368:54368 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54366 --rest-port=54364 --tcp-port=54365 --discv5-udp-port=54367 --rest-address=0.0.0.0 --nat=extip:172.18.103.77 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=559cecd2d65ca120fec93dde34cec79acccda0ea874c72cc0d6a61eb1ff25c2d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54368 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QJIMefhDPNWFVwTrTLc2f6oS9ctUWiD2ueBdQqg2vtagASDE_S3NzB0h0Ieg_Z9oE233VCAhzmv8PN_TYf1dnM4BgmlkgnY0gmlwhKwSjtOKbXVsdGlhZGRyc4wACgSsEo7TBkQ43QOCcnOFAAIBAACJc2VjcDI1NmsxoQIX8Rc32fmFXXbfD1hLApPltuv0mR6xJKpHKvViTtZ8EIN0Y3CCRDeDdWRwgkQ5hXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.103.77 waku 9b862cf56bb5fdbcb1554b7099ef84318f1ee6b7141fcbdb175f07cb062cab55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9b862cf56bb5. Setting up logs at ./log/docker/node3_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54364
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54364/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54364/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.77/tcp/54365/p2p/16Uiu2HAm5MAru7EAppQVfARPg6hPbTfvU78aa9EoiukL1hMwfJZ5","/ip4/172.18.103.77/tcp/54366/ws/p2p/16Uiu2HAm5MAru7EAppQVfARPg6hPbTfvU78aa9EoiukL1hMwfJZ5"],"enrUri":"enr:-LO4QJxz1OPXQy4hBuEXauwobpYcHVTQtqzAUWV3eMjiZpBEPiA0LWjoHKqhXT2L3asM2Uzl6VYzH-TIRrXRl7UPhBgBgmlkgnY0gmlwhKwSZ02KbXVsdGlhZGRyc4wACgSsEmdNBtRe3QOCcnOFAAIBAACJc2VjcDI1NmsxoQKTbZ8INzKNQgAXVNf7M9zwuznrG8ULAwLZGEWshvNdeIN0Y3CC1F2DdWRwgtRfhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54364/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.211/tcp/17463/p2p/16Uiu2HAkw38aXckYDNUjGCyExC9PbQtbVtLqWsWGYbqg2eLHuCWs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.23.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30298', '30299', '30300', '30301', '30302']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30298:30298 -p 30299:30299 -p 30300:30300 -p 30301:30301 -p 30302:30302 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30300 --rest-port=30298 --tcp-port=30299 --discv5-udp-port=30301 --rest-address=0.0.0.0 --nat=extip:172.18.23.66 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a9cacf7dc2c69afa7c65e1d0bde74c027d2ceeaf85f06fcf58b32b9e85b959d2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30302 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QJIMefhDPNWFVwTrTLc2f6oS9ctUWiD2ueBdQqg2vtagASDE_S3NzB0h0Ieg_Z9oE233VCAhzmv8PN_TYf1dnM4BgmlkgnY0gmlwhKwSjtOKbXVsdGlhZGRyc4wACgSsEo7TBkQ43QOCcnOFAAIBAACJc2VjcDI1NmsxoQIX8Rc32fmFXXbfD1hLApPltuv0mR6xJKpHKvViTtZ8EIN0Y3CCRDeDdWRwgkQ5hXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.23.66 waku fce50b6ed53fc5951d325699db41d804e6cd3ac66c0463cdf79dac08fbb3a764
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fce50b6ed53f. Setting up logs at ./log/docker/node4_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30298
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30298/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30298/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.66/tcp/30299/p2p/16Uiu2HAmCuzsck6j4LMhMaHqVeasHUNd3BsSB3E1QJuB7dL77cJz","/ip4/172.18.23.66/tcp/30300/ws/p2p/16Uiu2HAmCuzsck6j4LMhMaHqVeasHUNd3BsSB3E1QJuB7dL77cJz"],"enrUri":"enr:-LO4QNwCvR9RW-BkwtrUX3gXIV9daTl12T-sJ6C2HETro5oFLIHNJeYZ9--bJZM-E4fVvyYTKUu5l4VIKp3rFXxSpEYBgmlkgnY0gmlwhKwSF0KKbXVsdGlhZGRyc4wACgSsEhdCBnZc3QOCcnOFAAIBAACJc2VjcDI1NmsxoQMD2E2pGk0l7Q7gjNv7KD6vnVZoqbsBPnVOI3ZdA4tEL4N0Y3CCdluDdWRwgnZdhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30298/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.211/tcp/17463/p2p/16Uiu2HAkw38aXckYDNUjGCyExC9PbQtbVtLqWsWGYbqg2eLHuCWs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.102.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45250', '45251', '45252', '45253', '45254']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45250:45250 -p 45251:45251 -p 45252:45252 -p 45253:45253 -p 45254:45254 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45252 --rest-port=45250 --tcp-port=45251 --discv5-udp-port=45253 --rest-address=0.0.0.0 --nat=extip:172.18.102.62 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=1ddd3b248e00ba88f3d2bae184f85b5b84cca2d8dcfca433763c4ad8ee1aeed7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45254 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QJIMefhDPNWFVwTrTLc2f6oS9ctUWiD2ueBdQqg2vtagASDE_S3NzB0h0Ieg_Z9oE233VCAhzmv8PN_TYf1dnM4BgmlkgnY0gmlwhKwSjtOKbXVsdGlhZGRyc4wACgSsEo7TBkQ43QOCcnOFAAIBAACJc2VjcDI1NmsxoQIX8Rc32fmFXXbfD1hLApPltuv0mR6xJKpHKvViTtZ8EIN0Y3CCRDeDdWRwgkQ5hXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.102.62 waku 6ae6c7a1b9e2c4613d2f0b13f2f9d59852f5bc463471c7df245b7bedfa987ae5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6ae6c7a1b9e2. Setting up logs at ./log/docker/node5_2024-09-11_09-38-58__2cfb1d26-e1bc-4765-b73b-694f46e95fa1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45250
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45250/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45250/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.62/tcp/45251/p2p/16Uiu2HAm471g43TDVFeYzbKePcPTo3rjp515xj3suYUGm7w1dyky","/ip4/172.18.102.62/tcp/45252/ws/p2p/16Uiu2HAm471g43TDVFeYzbKePcPTo3rjp515xj3suYUGm7w1dyky"],"enrUri":"enr:-LO4QK0ui0C4uGu8P60bFpoQsW46QAD_q7rVLAlxp-jy0QTDQgtA2ZrCSRFuYrfgUSAXEqDJFBg6SaC5R1v4wZReaqQBgmlkgnY0gmlwhKwSZj6KbXVsdGlhZGRyc4wACgSsEmY-BrDE3QOCcnOFAAIBAACJc2VjcDI1NmsxoQKA8WpKERlyzE2cerct3aTmqTRQcw0hJ6zUe0WuuctDtoN0Y3CCsMODdWRwgrDFhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45250/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.142.211/tcp/17463/p2p/16Uiu2HAkw38aXckYDNUjGCyExC9PbQtbVtLqWsWGYbqg2eLHuCWs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17462/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20470/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54364/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30298/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45250/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17462/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17462/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047547501400576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20470/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047547501400576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54364/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047547501400576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30298/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047547501400576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45250/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726047547501400576,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e87bec839936
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2d2df9f0debe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9b862cf56bb5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fce50b6ed53f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6ae6c7a1b9e2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.