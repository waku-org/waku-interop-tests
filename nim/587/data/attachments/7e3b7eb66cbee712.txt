[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55595', '55596', '55597', '55598', '55599']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55595:55595 -p 55596:55596 -p 55597:55597 -p 55598:55598 -p 55599:55599 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55597 --rest-port=55595 --tcp-port=55596 --discv5-udp-port=55598 --rest-address=0.0.0.0 --nat=extip:172.18.252.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aabbce34b10ac8db0e3a465e2c8757f9da3ad6790a1c2ae569fffe7c7e7ba4c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55599 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.18 waku 99770c345ca4b58dc44fc5e30e83c79d6f04f9b6907b4b5d8de85d6e838daeee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 99770c345ca4. Setting up logs at ./log/docker/node1_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 55595
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a0db01402e2b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55595/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55595/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.18/tcp/55596/p2p/16Uiu2HAm2nAwcpvAFaPVM338eegooSiJLvq57wUbR9wBu3F6FKuz","/ip4/172.18.252.18/tcp/55597/ws/p2p/16Uiu2HAm2nAwcpvAFaPVM338eegooSiJLvq57wUbR9wBu3F6FKuz"],"enrUri":"enr:-L24QB8AOWp9sSINSEq2PnOmS3W2IXSZKe3fkZMZkum6koIqTiKXb3YAnRH_ZbXVxSqZfkxYV-zjVOGH2B_jEYjzqUsCgmlkgnY0gmlwhKwS_BKKbXVsdGlhZGRyc5YACASsEvwSBtksAAoErBL8EgbZLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbUIsNAhcdH8HPYgcrPKoSFeQkdXn0eXTVWrtn49PS0mDdGNwgtksg3VkcILZLoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13642', '13643', '13644', '13645', '13646']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13642:13642 -p 13643:13643 -p 13644:13644 -p 13645:13645 -p 13646:13646 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13644 --rest-port=13642 --tcp-port=13643 --discv5-udp-port=13645 --rest-address=0.0.0.0 --nat=extip:172.18.73.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0cc59a44dea037adcc8bf88afadfbbdbdfe4c610529a355ff67a2a92d35f4fca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13646 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB8AOWp9sSINSEq2PnOmS3W2IXSZKe3fkZMZkum6koIqTiKXb3YAnRH_ZbXVxSqZfkxYV-zjVOGH2B_jEYjzqUsCgmlkgnY0gmlwhKwS_BKKbXVsdGlhZGRyc5YACASsEvwSBtksAAoErBL8EgbZLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbUIsNAhcdH8HPYgcrPKoSFeQkdXn0eXTVWrtn49PS0mDdGNwgtksg3VkcILZLoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.172 waku 77932ff8de6204005c3f72fadfe544290d0c88e0d4cc249b3092847b451d9ddb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 77932ff8de62. Setting up logs at ./log/docker/node2_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 13642
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13642/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13642/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.172/tcp/13643/p2p/16Uiu2HAmTX5fwS7Kp5XfmpMeq4LadBG9Y7BKF1aregub73TFE8ZF","/ip4/172.18.73.172/tcp/13644/ws/p2p/16Uiu2HAmTX5fwS7Kp5XfmpMeq4LadBG9Y7BKF1aregub73TFE8ZF"],"enrUri":"enr:-L24QGBzPDKhFkQE_3chfS2zxl9zsjwpWL2ppZByI2MKI0kaDIg066U8z8Wp9VmhIbbDEAjH2jaLEAwJ-WlIwCHP8yECgmlkgnY0gmlwhKwSSayKbXVsdGlhZGRyc5YACASsEkmsBjVLAAoErBJJrAY1TN0DgnJzhQADAQAAiXNlY3AyNTZrMaED3NisrKb3isEtgIqVL63piblgVXra1T09hbu2qmXZ6fKDdGNwgjVLg3VkcII1TYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13642/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.18/tcp/55596/p2p/16Uiu2HAm2nAwcpvAFaPVM338eegooSiJLvq57wUbR9wBu3F6FKuz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.252.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10545', '10546', '10547', '10548', '10549']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10545:10545 -p 10546:10546 -p 10547:10547 -p 10548:10548 -p 10549:10549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10547 --rest-port=10545 --tcp-port=10546 --discv5-udp-port=10548 --rest-address=0.0.0.0 --nat=extip:172.18.252.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=149db887e73da50e73c25dab68671fd1ddfee70890f0ccbaf70b6bfd2ceff954 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10549 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB8AOWp9sSINSEq2PnOmS3W2IXSZKe3fkZMZkum6koIqTiKXb3YAnRH_ZbXVxSqZfkxYV-zjVOGH2B_jEYjzqUsCgmlkgnY0gmlwhKwS_BKKbXVsdGlhZGRyc5YACASsEvwSBtksAAoErBL8EgbZLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbUIsNAhcdH8HPYgcrPKoSFeQkdXn0eXTVWrtn49PS0mDdGNwgtksg3VkcILZLoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.252.140 waku 7a0c972d6f82365426f0128c282f691d33229ea56579f684a3c0787781944e1b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7a0c972d6f82. Setting up logs at ./log/docker/node3_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10545
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10545/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.140/tcp/10546/p2p/16Uiu2HAmBangGsiJeEcukxU2VuZT3Uxo68DkqvyFkoaiQzCkjPPB","/ip4/172.18.252.140/tcp/10547/ws/p2p/16Uiu2HAmBangGsiJeEcukxU2VuZT3Uxo68DkqvyFkoaiQzCkjPPB"],"enrUri":"enr:-L24QObsE-wKI3fNPg-cDp26QwZfeP56k80NNm6w-Z-pJs8rSvZt8BwAGHeTzYMYCRhYSnGH5kbfV1U5QzYLgcUE0scCgmlkgnY0gmlwhKwS_IyKbXVsdGlhZGRyc5YACASsEvyMBikyAAoErBL8jAYpM90DgnJzhQADAQAAiXNlY3AyNTZrMaEC8BDKn5QeqtpAX22tc87haLjjcDDAMRbU7_RvkCWrOP6DdGNwgikyg3VkcIIpNIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.18/tcp/55596/p2p/16Uiu2HAm2nAwcpvAFaPVM338eegooSiJLvq57wUbR9wBu3F6FKuz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.47.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24008', '24009', '24010', '24011', '24012']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24008:24008 -p 24009:24009 -p 24010:24010 -p 24011:24011 -p 24012:24012 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24010 --rest-port=24008 --tcp-port=24009 --discv5-udp-port=24011 --rest-address=0.0.0.0 --nat=extip:172.18.47.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc4311cdab83b6e0c02fd105651222f39e6cdbf71fb9c7c7a24ceb29bcafcf6d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24012 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB8AOWp9sSINSEq2PnOmS3W2IXSZKe3fkZMZkum6koIqTiKXb3YAnRH_ZbXVxSqZfkxYV-zjVOGH2B_jEYjzqUsCgmlkgnY0gmlwhKwS_BKKbXVsdGlhZGRyc5YACASsEvwSBtksAAoErBL8EgbZLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbUIsNAhcdH8HPYgcrPKoSFeQkdXn0eXTVWrtn49PS0mDdGNwgtksg3VkcILZLoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.47.23 waku 76722fb1560643ecc530bcb2f40a3f0e51a3ed5095f8856701b8df1551288735
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 76722fb15606. Setting up logs at ./log/docker/node4_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24008
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24008/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24008/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.23/tcp/24009/p2p/16Uiu2HAmRyjwzxH9so2k463omLroXrf8JNZVhAEXyr7Zr2MXvUdN","/ip4/172.18.47.23/tcp/24010/ws/p2p/16Uiu2HAmRyjwzxH9so2k463omLroXrf8JNZVhAEXyr7Zr2MXvUdN"],"enrUri":"enr:-L24QEa0iEvDoxOHwpj_pfajn96DEr8bxh-S1wXmlENxj2sKSZ2DsXv-VT6DF4-lLuLpMp1tzW1cmPsTMR4othDhiGACgmlkgnY0gmlwhKwSLxeKbXVsdGlhZGRyc5YACASsEi8XBl3JAAoErBIvFwZdyt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDxfWueNLLQe24CIcHSSY6UzKwYNiP890vvSJJz3_Z1nGDdGNwgl3Jg3VkcIJdy4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24008/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.18/tcp/55596/p2p/16Uiu2HAm2nAwcpvAFaPVM338eegooSiJLvq57wUbR9wBu3F6FKuz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6968', '6969', '6970', '6971', '6972']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6968:6968 -p 6969:6969 -p 6970:6970 -p 6971:6971 -p 6972:6972 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6970 --rest-port=6968 --tcp-port=6969 --discv5-udp-port=6971 --rest-address=0.0.0.0 --nat=extip:172.18.15.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a5b1f6caedcc6a7e2bf5e49cafaddae820dbd60f3bb9c2fe58abe2fdf333da4d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6972 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB8AOWp9sSINSEq2PnOmS3W2IXSZKe3fkZMZkum6koIqTiKXb3YAnRH_ZbXVxSqZfkxYV-zjVOGH2B_jEYjzqUsCgmlkgnY0gmlwhKwS_BKKbXVsdGlhZGRyc5YACASsEvwSBtksAAoErBL8EgbZLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbUIsNAhcdH8HPYgcrPKoSFeQkdXn0eXTVWrtn49PS0mDdGNwgtksg3VkcILZLoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.100 waku fee44714c577b015da364f899488b8f725c63bc092390ea0cdd95a8a93d5ad81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fee44714c577. Setting up logs at ./log/docker/node5_2024-12-27_11-03-08__da5229ff-e280-40be-9745-99357ca05064__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 6968
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6968/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6968/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.100/tcp/6969/p2p/16Uiu2HAmGP6FkyCAcqTuaBsx7zrFbxJbiys5A6n3V794wB4wTuWG","/ip4/172.18.15.100/tcp/6970/ws/p2p/16Uiu2HAmGP6FkyCAcqTuaBsx7zrFbxJbiys5A6n3V794wB4wTuWG"],"enrUri":"enr:-L24QNlziLxFYc3w-G7IH7W76CeRXSiPRvLaInpPluPc4ou4aXLT8KTUQXyh-mJDU1c9APolgoLBbh0H9-VYmTzUhosCgmlkgnY0gmlwhKwSD2SKbXVsdGlhZGRyc5YACASsEg9kBhs5AAoErBIPZAYbOt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN1whk3GiNgx37P6LNtTh1PME-8VEvKLN9U3XJNvenMGDdGNwghs5g3VkcIIbO4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6968/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.252.18/tcp/55596/p2p/16Uiu2HAm2nAwcpvAFaPVM338eegooSiJLvq57wUbR9wBu3F6FKuz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55595/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13642/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24008/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6968/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394702288128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13642/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394702288128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394702288128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24008/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394702288128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394702288128,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394827593984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13642/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394827593984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394827593984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24008/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394827593984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6968/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735297394827593984,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 99770c345ca4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 77932ff8de62
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 99770c345ca4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7a0c972d6f82
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 77932ff8de62. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 76722fb15606
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fee44714c577
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7a0c972d6f82. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 76722fb15606. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.