[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_content_topic with id: 2024-11-01_04-07-39__198e793b-eda5-4fa3-b974-6c8c3f68e2be
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-01_04-07-39__198e793b-eda5-4fa3-b974-6c8c3f68e2be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.32.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46017', '46018', '46019', '46020', '46021']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46017:46017 -p 46018:46018 -p 46019:46019 -p 46020:46020 -p 46021:46021 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46019 --rest-port=46017 --tcp-port=46018 --discv5-udp-port=46020 --rest-address=0.0.0.0 --nat=extip:172.18.32.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=66280aedb126cc0fa783bcb4275f56c43d114fb225d6ce0b46c72be621137adb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46021 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.32.158 waku 2e7e1789c426d99edc237b74167ce26cc2b0a8ebeb048e708229749c61eae19b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aeec528f39f0. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e7e1789c426. Setting up logs at ./log/docker/node1_2024-11-01_04-07-39__198e793b-eda5-4fa3-b974-6c8c3f68e2be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46017
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46017/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46017/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.32.158/tcp/46018/p2p/16Uiu2HAmD9VyGFeBTF7v5ZjJKmUXvdyjF6qyqd8zuMf2WHiYYNuq","/ip4/172.18.32.158/tcp/46019/ws/p2p/16Uiu2HAmD9VyGFeBTF7v5ZjJKmUXvdyjF6qyqd8zuMf2WHiYYNuq"],"enrUri":"enr:-L24QHCd2Tk2tFtXT84xDCSgMdWML9917njY-9tW2d_W7dJuWMlG7E8breBEhaYuPsdUdjzcJQIHnhOejCWeiO37IScCgmlkgnY0gmlwhKwSIJ6KbXVsdGlhZGRyc5YACASsEiCeBrPCAAoErBIgngazw90DgnJzhQADAQAAiXNlY3AyNTZrMaEDB03BHiM1NUBrdNnh2DBMrDkWtOKUg-K_Gze-raPQR9SDdGNwgrPCg3VkcIKzxIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-01_04-07-39__198e793b-eda5-4fa3-b974-6c8c3f68e2be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.235.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65225', '65226', '65227', '65228', '65229']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65225:65225 -p 65226:65226 -p 65227:65227 -p 65228:65228 -p 65229:65229 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65227 --rest-port=65225 --tcp-port=65226 --discv5-udp-port=65228 --rest-address=0.0.0.0 --nat=extip:172.18.235.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcfdb603e9c0abc771c73cd60add01ef13bfcdb1c2af6bba6eb2ac33cc3cdc3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65229 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHCd2Tk2tFtXT84xDCSgMdWML9917njY-9tW2d_W7dJuWMlG7E8breBEhaYuPsdUdjzcJQIHnhOejCWeiO37IScCgmlkgnY0gmlwhKwSIJ6KbXVsdGlhZGRyc5YACASsEiCeBrPCAAoErBIgngazw90DgnJzhQADAQAAiXNlY3AyNTZrMaEDB03BHiM1NUBrdNnh2DBMrDkWtOKUg-K_Gze-raPQR9SDdGNwgrPCg3VkcIKzxIV3YWt1MgU --filternode=/ip4/172.18.32.158/tcp/46018/p2p/16Uiu2HAmD9VyGFeBTF7v5ZjJKmUXvdyjF6qyqd8zuMf2WHiYYNuq
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.235.43 waku 26ae5fb6013f0d8aeb9dffcbd132ae269033e732f4971705c037715b2a71f9b2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 26ae5fb6013f. Setting up logs at ./log/docker/node2_2024-11-01_04-07-39__198e793b-eda5-4fa3-b974-6c8c3f68e2be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 65225
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65225/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65225/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.43/tcp/65226/p2p/16Uiu2HAmF9n6WEup8mhXFVGwy5XPzcDuYdco2c5eBFYnpbbbMhhk","/ip4/172.18.235.43/tcp/65227/ws/p2p/16Uiu2HAmF9n6WEup8mhXFVGwy5XPzcDuYdco2c5eBFYnpbbbMhhk"],"enrUri":"enr:-L24QNP1GlcGMXEZ33cCQZBeGHxkPtDKzkwwx-Zt6Mm5O8_rCLALsKHusSvCnJ9n0XD6zexKlDXxbsVe6uFbtF5S2OUCgmlkgnY0gmlwhKwS6yuKbXVsdGlhZGRyc5YACASsEusrBv7KAAoErBLrKwb-y90DgnJzhQADAQAAiXNlY3AyNTZrMaEDJRdcUwtDYjyQdXJouSDznCzfDG-f1-SIXjVo3TqOyluDdGNwgv7Kg3VkcIL-zIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65225/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.32.158/tcp/46018/p2p/16Uiu2HAmD9VyGFeBTF7v5ZjJKmUXvdyjF6qyqd8zuMf2WHiYYNuq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46017/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65225/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3fcf5c52-b488-4678-a703-7d3fcd698144", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3fcf5c52-b488-4678-a703-7d3fcd698144","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:65225/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:65225/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2e7e1789c426
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 26ae5fb6013f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2e7e1789c426. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.