[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_end_time_now with id: 2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7725', '7726', '7727', '7728', '7729']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7725:7725 -p 7726:7726 -p 7727:7727 -p 7728:7728 -p 7729:7729 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7727 --rest-port=7725 --tcp-port=7726 --discv5-udp-port=7728 --rest-address=0.0.0.0 --nat=extip:172.18.9.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5dad81fc1ecc4f4bade2daafceaa3ecd8706c074cad0eb2af3cb2fb66cee2efa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7729 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.219 waku 19bba44f8886f8ad02d5eafa79bea3ea9178cc23272a6e69ca7c70587f5c455c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 19bba44f8886. Setting up logs at ./log/docker/publishing_node1_2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7725
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 75601f30f280. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7725/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7725/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.219/tcp/7726/p2p/16Uiu2HAmKpChcwhWPwGmskGwPDJc8rDUS3tsDXrSJdQa69K8uUcw","/ip4/172.18.9.219/tcp/7727/ws/p2p/16Uiu2HAmKpChcwhWPwGmskGwPDJc8rDUS3tsDXrSJdQa69K8uUcw"],"enrUri":"enr:-LO4QLbo9xLNDoXpo7i3znbsXOGA8b3nvlEHdfvEztgkH0QpYDx9tXkN66RuONOVEVbONTWNLmQF7dlJsADowHeyRlMBgmlkgnY0gmlwhKwSCduKbXVsdGlhZGRyc4wACgSsEgnbBh4v3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqXgAkQFT1T8Ulrhlv-GwyBn2U_hQygpIy8h_4W99hQIN0Y3CCHi6DdWRwgh4whXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21854', '21855', '21856', '21857', '21858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21854:21854 -p 21855:21855 -p 21856:21856 -p 21857:21857 -p 21858:21858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21856 --rest-port=21854 --tcp-port=21855 --discv5-udp-port=21857 --rest-address=0.0.0.0 --nat=extip:172.18.33.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa5cb4fb7ed04caf8c0f19871c0db8e51be4b88f8c3b7f737ef71ff7ab59a2d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21858 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLbo9xLNDoXpo7i3znbsXOGA8b3nvlEHdfvEztgkH0QpYDx9tXkN66RuONOVEVbONTWNLmQF7dlJsADowHeyRlMBgmlkgnY0gmlwhKwSCduKbXVsdGlhZGRyc4wACgSsEgnbBh4v3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNqXgAkQFT1T8Ulrhlv-GwyBn2U_hQygpIy8h_4W99hQIN0Y3CCHi6DdWRwgh4whXdha3UyAw --storenode=/ip4/172.18.9.219/tcp/7726/p2p/16Uiu2HAmKpChcwhWPwGmskGwPDJc8rDUS3tsDXrSJdQa69K8uUcw --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.230 waku 868046c5ad1e8b6ffbbe0ebe3657727216ead055269b5b8fe3f8eec87c25304d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 868046c5ad1e. Setting up logs at ./log/docker/store_node1_2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21854/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.230/tcp/21855/p2p/16Uiu2HAmKM8npUS72Q3LjNEpwWwEMcYmmLEaCXepj6yZwTNcm3ri","/ip4/172.18.33.230/tcp/21856/ws/p2p/16Uiu2HAmKM8npUS72Q3LjNEpwWwEMcYmmLEaCXepj6yZwTNcm3ri"],"enrUri":"enr:-LO4QBQ7lT6LUkXt7DqythjCfgxugUJB_SWb4BzbxZ6xDR_xNO9qwFqzfpSBAJBnTp2HnrEw7Lik0b7PE2J6aOQNb6wBgmlkgnY0gmlwhKwSIeaKbXVsdGlhZGRyc4wACgSsEiHmBlVg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNjbuWxwTWtnMT7rRInoUXWIV0smmK3oee7Q4QJhw2xO4N0Y3CCVV-DdWRwglVhhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.219/tcp/7726/p2p/16Uiu2HAmKpChcwhWPwGmskGwPDJc8rDUS3tsDXrSJdQa69K8uUcw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21854/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7725/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:196 inquering stored messages with start time 1730003567688167936 after end time 1730003583993787136
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7725/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1730003567688167936&endTime=1730003583993787136&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Zhz9YSqHFEPLxPHDBC9QGTjQUk5wbyhJBxtFhWnh0rA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003567688167936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"L0IYTPUJL+Oe1vm/h0FIvfaEF8/paBlAB9zoremiAJY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003569688175872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"crcGjCID2KFp/G5BaRvhppJDFWtuxuIv3r21jftYFL0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003570588179968,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"rGo/Of4hV7rNv6ZH881PxF5hnhrpgT+JF5XhZc3DlyQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003572688188160,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"WWLmN7OtCsUOiE8C8C5cQmfmBXb5mzRbj94QCg3J8y8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003580688190976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:199 number of messages stored for start time 1730003567688167936 and end time = 1730003583993787136 is  5
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 19bba44f8886
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 868046c5ad1e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 19bba44f8886. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_04-32-50__32c81b74-bea0-409d-a061-75cb9b0cde0d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_end_time_now with id: 2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.49.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10731', '10732', '10733', '10734', '10735']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10731:10731 -p 10732:10732 -p 10733:10733 -p 10734:10734 -p 10735:10735 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10733 --rest-port=10731 --tcp-port=10732 --discv5-udp-port=10734 --rest-address=0.0.0.0 --nat=extip:172.18.49.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=32bcba114d7b2259ab1b16cc64c8a882ceca39dcf1da78cedeacc5a138a2b8e6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10735 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.49.161 waku 79d6f948d8d7c391793a421d955de75c6d56e2a81a2c652ae1f7ad4449f0bb50
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 868046c5ad1e. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 79d6f948d8d7. Setting up logs at ./log/docker/publishing_node1_2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10731
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10731/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10731/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.161/tcp/10732/p2p/16Uiu2HAmUCXBoxstQzyr2pQGnScgXi7u4Jj4zMHvw8RCpMJYW5Vp","/ip4/172.18.49.161/tcp/10733/ws/p2p/16Uiu2HAmUCXBoxstQzyr2pQGnScgXi7u4Jj4zMHvw8RCpMJYW5Vp"],"enrUri":"enr:-LO4QFr1u7HboF26uGUVb6tyhlH8ram4ed5-NnPGIQjmeVN-fSsOftKpLLBOtM5sjx_nl9YA5pj1OnjVrzPCNcKVbwcBgmlkgnY0gmlwhKwSMaGKbXVsdGlhZGRyc4wACgSsEjGhBint3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPm8y0NptLIXjrkvro0h1wZp_eo4QfF5JT3SrWwQ493r4N0Y3CCKeyDdWRwginuhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20980', '20981', '20982', '20983', '20984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20980:20980 -p 20981:20981 -p 20982:20982 -p 20983:20983 -p 20984:20984 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20982 --rest-port=20980 --tcp-port=20981 --discv5-udp-port=20983 --rest-address=0.0.0.0 --nat=extip:172.18.138.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7a80f47ee3cacdadfdc4702bfdf4edebdc0be0beaabbcaf71dbe435b2c6cb8c1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20984 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QFr1u7HboF26uGUVb6tyhlH8ram4ed5-NnPGIQjmeVN-fSsOftKpLLBOtM5sjx_nl9YA5pj1OnjVrzPCNcKVbwcBgmlkgnY0gmlwhKwSMaGKbXVsdGlhZGRyc4wACgSsEjGhBint3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPm8y0NptLIXjrkvro0h1wZp_eo4QfF5JT3SrWwQ493r4N0Y3CCKeyDdWRwginuhXdha3UyAw --storenode=/ip4/172.18.49.161/tcp/10732/p2p/16Uiu2HAmUCXBoxstQzyr2pQGnScgXi7u4Jj4zMHvw8RCpMJYW5Vp --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.61 waku cd213d8bcdf6fb18a135380b5c50ace0faab365f3e5c5ba4b7e9e600ccabb777
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cd213d8bcdf6. Setting up logs at ./log/docker/store_node1_2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20980
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20980/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20980/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.61/tcp/20981/p2p/16Uiu2HAmPVi2dwxLf8TKiotNz7nEyUUyRZRN9Ci4zNgjygHFcexB","/ip4/172.18.138.61/tcp/20982/ws/p2p/16Uiu2HAmPVi2dwxLf8TKiotNz7nEyUUyRZRN9Ci4zNgjygHFcexB"],"enrUri":"enr:-LO4QDcPQC3NVgVBMI6RlDAQcD9Vu3PpLJdqQ-r9MFMWLH2gR5eiS_sa3gnQPJr5Y2jE6UBdDN96afUM7Fghor6GGDYBgmlkgnY0gmlwhKwSij2KbXVsdGlhZGRyc4wACgSsEoo9BlH23QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhD9_Agdy53ISVPwPDU6prTIlhkwzZvJSIH_sWAY8CzIN0Y3CCUfWDdWRwglH3hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20980/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.49.161/tcp/10732/p2p/16Uiu2HAmUCXBoxstQzyr2pQGnScgXi7u4Jj4zMHvw8RCpMJYW5Vp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20980/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:196 inquering stored messages with start time 1730003585586754048 after end time 1730003602118490880
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10731/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1730003585586754048&endTime=1730003602118490880&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"dA0Pgvmj5Wh9CCxAr8kEuI79FzH0bfwoAsfpS7BzyDI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003585586754048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"9IbUzQjUfceqnzF0f+hRH6dU3TolsyUS5igT4ebrQKA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003587586761984,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"kan92Ku2AfhmF4Ku0caif7L32YV2VDO+srQ0WpiXm1I=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003588486764800,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"LLixvKMmBZs6djXlNHsxun+j/iewen1iqYekp9EO+c4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003590586771968,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"iYUbl8FWhbRM/fK6cDVwn1NpzOT+/ZwIrC9lWJC1w+4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003598586775040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:199 number of messages stored for start time 1730003585586754048 and end time = 1730003602118490880 is  5
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 79d6f948d8d7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cd213d8bcdf6
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 79d6f948d8d7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_04-33-08__6e8226ca-6b3a-463a-931e-b1c5d19a4f07__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_end_time_now with id: 2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.161.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32888', '32889', '32890', '32891', '32892']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32888:32888 -p 32889:32889 -p 32890:32890 -p 32891:32891 -p 32892:32892 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32890 --rest-port=32888 --tcp-port=32889 --discv5-udp-port=32891 --rest-address=0.0.0.0 --nat=extip:172.18.161.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd1b8bb0cde98df0cb89aa3ae2cdd337ecb3f18d775c37dd94aec86cbb4cb59a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32892 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.161.62 waku 5e9eeb544f0fdd0f2651633aefb1ff03aa706da1dce66e7a7a7485203f05cd95
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cd213d8bcdf6. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5e9eeb544f0f. Setting up logs at ./log/docker/publishing_node1_2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32888
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32888/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32888/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.62/tcp/32889/p2p/16Uiu2HAm1S4tTyBEepJPFLmUFkWrZ7BNZGi9KbGNdpJiR1cKNcoH","/ip4/172.18.161.62/tcp/32890/ws/p2p/16Uiu2HAm1S4tTyBEepJPFLmUFkWrZ7BNZGi9KbGNdpJiR1cKNcoH"],"enrUri":"enr:-LO4QNSGIwDiG4taStQlEvwwOQ9Z7BsVGv5tJ2QSpixI_Tuffu2pKYEy5bYvAvq19yV8m7jXxjIPZHERQJ5ejwfZCiEBgmlkgnY0gmlwhKwSoT6KbXVsdGlhZGRyc4wACgSsEqE-BoB63QOCcnOFAAMBAACJc2VjcDI1NmsxoQJZQAYc17PmQxy-uE74WXKdOJ785nwNSnkqOi65wiGmsIN0Y3CCgHmDdWRwgoB7hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.55.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56369', '56370', '56371', '56372', '56373']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56369:56369 -p 56370:56370 -p 56371:56371 -p 56372:56372 -p 56373:56373 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56371 --rest-port=56369 --tcp-port=56370 --discv5-udp-port=56372 --rest-address=0.0.0.0 --nat=extip:172.18.55.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3cac1ce8a4eaf5bbfcf5a3c4dea8fbf90eebdde75b62af2cb50e5fdacfda52f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56373 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNSGIwDiG4taStQlEvwwOQ9Z7BsVGv5tJ2QSpixI_Tuffu2pKYEy5bYvAvq19yV8m7jXxjIPZHERQJ5ejwfZCiEBgmlkgnY0gmlwhKwSoT6KbXVsdGlhZGRyc4wACgSsEqE-BoB63QOCcnOFAAMBAACJc2VjcDI1NmsxoQJZQAYc17PmQxy-uE74WXKdOJ785nwNSnkqOi65wiGmsIN0Y3CCgHmDdWRwgoB7hXdha3UyAw --storenode=/ip4/172.18.161.62/tcp/32889/p2p/16Uiu2HAm1S4tTyBEepJPFLmUFkWrZ7BNZGi9KbGNdpJiR1cKNcoH --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.55.219 waku c1000b4b0597e21b0b34be82a69e53baf349f7ace4fa349cbaa78b4d93c0c72e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c1000b4b0597. Setting up logs at ./log/docker/store_node1_2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56369
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56369/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56369/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.219/tcp/56370/p2p/16Uiu2HAmRUe1TmJCiMXfNZd3gB4sqzWvypjQKrg7K78StTTLu1xv","/ip4/172.18.55.219/tcp/56371/ws/p2p/16Uiu2HAmRUe1TmJCiMXfNZd3gB4sqzWvypjQKrg7K78StTTLu1xv"],"enrUri":"enr:-LO4QGwxAmuDFHHFX7bGcxQ0cVpYkj6d_d2ti4FQkv7Gqb6CFQdsWatsB-SZu7gHzlrFGlCMl8ikpdPqc09SEThZQLIBgmlkgnY0gmlwhKwSN9uKbXVsdGlhZGRyc4wACgSsEjfbBtwz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO-gR8QTieClkEIWOjfy3FIrw-hPx7YPJAMbqfUYgS4O4N0Y3CC3DKDdWRwgtw0hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56369/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.62/tcp/32889/p2p/16Uiu2HAm1S4tTyBEepJPFLmUFkWrZ7BNZGi9KbGNdpJiR1cKNcoH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56369/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32888/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:196 inquering stored messages with start time 1730003603594657024 after end time 1730003620217149952
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32888/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1730003603594657024&endTime=1730003620217149952&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"7sqibPFjp85oN9m/otGpndBYGqD4TfM64MHdG+Zq01Q=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003603594657024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"c3XfwALco8s4R3V8mzx4Tkj/lCXFOcUvefwZlbOXYmo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003605594664192,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"DtUUiOehHJIyHrrK6zc3jVxYtIOBifyaCdtWD+4fd2A=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003606494667008,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"uh+C86MiTpu2D2aAXEF0gbDwa+6HypJfnaOmyo/tEZI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003608594674176,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"j9AmX+PKZJLdmuOfn3fHQc3BOSDTCWHEHpPVEvKivuI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003616594676992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:199 number of messages stored for start time 1730003603594657024 and end time = 1730003620217149952 is  5
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5e9eeb544f0f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c1000b4b0597
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5e9eeb544f0f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_04-33-26__5d81bb2e-c0b7-4790-b8a8-4470c53cd47b__wakuorg_nwaku:latest.log