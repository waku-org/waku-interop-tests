[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_end_time with id: 2024-10-27_04-33-24__d53431cc-b877-4156-ad27-c1fd6f53cbdb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_04-33-24__d53431cc-b877-4156-ad27-c1fd6f53cbdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56015', '56016', '56017', '56018', '56019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56015:56015 -p 56016:56016 -p 56017:56017 -p 56018:56018 -p 56019:56019 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56017 --rest-port=56015 --tcp-port=56016 --discv5-udp-port=56018 --rest-address=0.0.0.0 --nat=extip:172.18.217.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=507ddeacbcf5cda759dc1fdd3d7cbae6f2d1ddc9c67f21cf8ad2ab94d6b44bf0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56019 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.201 waku 853b68fb7e6b528c7d5c6fbf604134afc83cfe9b5ab9de4e86895103b5c926d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 853b68fb7e6b. Setting up logs at ./log/docker/publishing_node1_2024-10-27_04-33-24__d53431cc-b877-4156-ad27-c1fd6f53cbdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d20f845d75d8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.201/tcp/56016/p2p/16Uiu2HAmPosozpoHZGB6ewirL4LzJ8b2FyfDcK5rWvT4PTxysTUV","/ip4/172.18.217.201/tcp/56017/ws/p2p/16Uiu2HAmPosozpoHZGB6ewirL4LzJ8b2FyfDcK5rWvT4PTxysTUV"],"enrUri":"enr:-LO4QMtAHpKqxzsrhmdNq0C8HGfDOaqOlzR2BiJL-hWsQPpJY2zMhxRNSyzWowxSxA8nJTLVDJPduTmMJumWDoJ-xwcBgmlkgnY0gmlwhKwS2cmKbXVsdGlhZGRyc4wACgSsEtnJBtrR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOlt2Ojh-iBBhICmnW6BmnJd5n9xVGwp6207URfQ3R1EoN0Y3CC2tCDdWRwgtrShXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_04-33-24__d53431cc-b877-4156-ad27-c1fd6f53cbdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35088', '35089', '35090', '35091', '35092']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35088:35088 -p 35089:35089 -p 35090:35090 -p 35091:35091 -p 35092:35092 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35090 --rest-port=35088 --tcp-port=35089 --discv5-udp-port=35091 --rest-address=0.0.0.0 --nat=extip:172.18.78.218 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1406819cb8bfc45fa9f4b1d4285a31edffe822978dfd9cf3badaa1634cf378f3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35092 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QMtAHpKqxzsrhmdNq0C8HGfDOaqOlzR2BiJL-hWsQPpJY2zMhxRNSyzWowxSxA8nJTLVDJPduTmMJumWDoJ-xwcBgmlkgnY0gmlwhKwS2cmKbXVsdGlhZGRyc4wACgSsEtnJBtrR3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOlt2Ojh-iBBhICmnW6BmnJd5n9xVGwp6207URfQ3R1EoN0Y3CC2tCDdWRwgtrShXdha3UyAw --storenode=/ip4/172.18.217.201/tcp/56016/p2p/16Uiu2HAmPosozpoHZGB6ewirL4LzJ8b2FyfDcK5rWvT4PTxysTUV --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.218 waku 5a0f15d9a2c6a161d91dbbd57143d35f04744ddbd3270f80ecdba00c02058bef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5a0f15d9a2c6. Setting up logs at ./log/docker/store_node1_2024-10-27_04-33-24__d53431cc-b877-4156-ad27-c1fd6f53cbdb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35088
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35088/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35088/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.218/tcp/35089/p2p/16Uiu2HAmJoSTzaf357JSyj133U6LiK3WpqUE7jPgWfPivdi19Bfa","/ip4/172.18.78.218/tcp/35090/ws/p2p/16Uiu2HAmJoSTzaf357JSyj133U6LiK3WpqUE7jPgWfPivdi19Bfa"],"enrUri":"enr:-LO4QCYVuQhUFbCGPzDIB8s4vo7xDVcSXBlCj0KS5inXBgDfP7OdVDyGRrNQW15cStBfXsxWoZqRqYtJlFkN9QaiuMcBgmlkgnY0gmlwhKwSTtqKbXVsdGlhZGRyc4wACgSsEk7aBokS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNbUEwJATg-JpGlKhaJuF-xUnJ6nmZ75LK7F1xkU9x2hYN0Y3CCiRGDdWRwgokThXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35088/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.217.201/tcp/56016/p2p/16Uiu2HAmPosozpoHZGB6ewirL4LzJ8b2FyfDcK5rWvT4PTxysTUV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35088/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:244 inquering stored messages with end time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56015/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Ctyg/aKZoEGx0waqkq3Un5pq5w7JGWWaiNgn0wGeMu4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003601691440128,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"OJzKt7I7Rd8SPuXR3hTRJdbFGLoqKcc8rBXdjpuH2rI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003603691448064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"jPVD+JTv5+s3AnUxDPeZHwFICQUAspR8sUKhVFhsymM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003604591451904,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lGVIAcuTR/cZSgNrH8ZMDDV5NTfE10U6HlbRrRYakas=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003604791454976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"UVdjJOWoOZwfD/yT7KF5XpIrz6gL68occz6UAsHy/Ds=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003606691458048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"aOZzGjwrciJRBw6ZVbxtABfBy/r9R4/3PJjPlh/oH68=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003614691459840,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:247 number of messages stored for  end time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35088/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Ctyg/aKZoEGx0waqkq3Un5pq5w7JGWWaiNgn0wGeMu4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003601691440128,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"OJzKt7I7Rd8SPuXR3hTRJdbFGLoqKcc8rBXdjpuH2rI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003603691448064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"jPVD+JTv5+s3AnUxDPeZHwFICQUAspR8sUKhVFhsymM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003604591451904,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lGVIAcuTR/cZSgNrH8ZMDDV5NTfE10U6HlbRrRYakas=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003604791454976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"UVdjJOWoOZwfD/yT7KF5XpIrz6gL68occz6UAsHy/Ds=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003606691458048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"aOZzGjwrciJRBw6ZVbxtABfBy/r9R4/3PJjPlh/oH68=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1730003614691459840,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:247 number of messages stored for  end time = 0 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 853b68fb7e6b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5a0f15d9a2c6
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 853b68fb7e6b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.