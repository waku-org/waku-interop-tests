[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55935', '55936', '55937', '55938', '55939']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55935:55935 -p 55936:55936 -p 55937:55937 -p 55938:55938 -p 55939:55939 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55937 --rest-port=55935 --tcp-port=55936 --discv5-udp-port=55938 --rest-address=0.0.0.0 --nat=extip:172.18.154.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aebe9eeaa5aefb186c0b5f3ccbe5aa5f2b275bc511810cbfb4a3fb9607440f0a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55939 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.108 waku 35de1f0737a6a84695f452415087ff4a0f189e840025d2097d1143c3f1709846
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 35de1f0737a6. Setting up logs at ./log/docker/node1_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55935
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e82eb49f6ee5. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55935/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55935/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs","/ip4/172.18.154.108/tcp/55937/ws/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs"],"enrUri":"enr:-LO4QE4wDrpK6mtjXyPaVaJl2sUICk9nMkiIcS_Ezvq5rQDJPlMUtJhQZfuppVftPOjVn2wueXA4ohvHQaIiFec_dzsBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBtqB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK0GFWNRANvX-IEoHb8va-anGSWam2Cs92mxwnuZY3gUoN0Y3CC2oCDdWRwgtqChXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.179.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38114', '38115', '38116', '38117', '38118']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38114:38114 -p 38115:38115 -p 38116:38116 -p 38117:38117 -p 38118:38118 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38116 --rest-port=38114 --tcp-port=38115 --discv5-udp-port=38117 --rest-address=0.0.0.0 --nat=extip:172.18.179.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2d5ca396cbf33aedd66ac2fe9c4f11bafcc91e720d6bdf03dcd63d7c6344f81b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38118 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE4wDrpK6mtjXyPaVaJl2sUICk9nMkiIcS_Ezvq5rQDJPlMUtJhQZfuppVftPOjVn2wueXA4ohvHQaIiFec_dzsBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBtqB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK0GFWNRANvX-IEoHb8va-anGSWam2Cs92mxwnuZY3gUoN0Y3CC2oCDdWRwgtqChXdha3UyBQ --filternode=/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.179.118 waku da3a8601f6c8c29b2fa3fa66889037baf3d328ec4922f7f119e63cb09163cd0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID da3a8601f6c8. Setting up logs at ./log/docker/node2_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38114
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38114/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38114/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.118/tcp/38115/p2p/16Uiu2HAm6UkzhcJpu9iPqBGaQRoFhXkzmNh8hWqs9vt8C6ZSNaQZ","/ip4/172.18.179.118/tcp/38116/ws/p2p/16Uiu2HAm6UkzhcJpu9iPqBGaQRoFhXkzmNh8hWqs9vt8C6ZSNaQZ"],"enrUri":"enr:-LO4QBJSEwQLBJ4d1Wy4g-tQK6ItzHWAkaiUREZIkbIdkiJzKaiQY3EOFtKBb_-MyFWwURqhHCDQjnNHNxH9o2YjImcBgmlkgnY0gmlwhKwSs3aKbXVsdGlhZGRyc4wACgSsErN2BpTk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKkOvhGgF0kbSDqrG0NWwMna4H9T9acYvbJ-WCiP9YykoN0Y3CClOODdWRwgpTlhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38114/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60860', '60861', '60862', '60863', '60864']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60860:60860 -p 60861:60861 -p 60862:60862 -p 60863:60863 -p 60864:60864 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60862 --rest-port=60860 --tcp-port=60861 --discv5-udp-port=60863 --rest-address=0.0.0.0 --nat=extip:172.18.238.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff6cbbadbb1be89deedde686b0bb3ac01a3d6a1ed492aee24d0ae522dca86d41 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60864 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE4wDrpK6mtjXyPaVaJl2sUICk9nMkiIcS_Ezvq5rQDJPlMUtJhQZfuppVftPOjVn2wueXA4ohvHQaIiFec_dzsBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBtqB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK0GFWNRANvX-IEoHb8va-anGSWam2Cs92mxwnuZY3gUoN0Y3CC2oCDdWRwgtqChXdha3UyBQ --filternode=/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.196 waku 9754543b3a08a4a398109f58c4174129ca679e0c15f619de11c42a9d41828dc4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9754543b3a08. Setting up logs at ./log/docker/node3_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60860
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60860/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60860/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.196/tcp/60861/p2p/16Uiu2HAmDKRQYhTbT3HM7W6QSnYtF5ops8gkGB1qvuy5Sfyo3aiW","/ip4/172.18.238.196/tcp/60862/ws/p2p/16Uiu2HAmDKRQYhTbT3HM7W6QSnYtF5ops8gkGB1qvuy5Sfyo3aiW"],"enrUri":"enr:-LO4QHtZL87JHtJR9BScX54IGaWdx15c5kS_s8wigbIM9CwaH_-sZP-ewm9oHzzpIYMrM5Wx_vNZhyibdCi7O9iOy1QBgmlkgnY0gmlwhKwS7sSKbXVsdGlhZGRyc4wACgSsEu7EBu2-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMJ2Gbe5PmqFzUqzDdlrdEgGyKM5GiL2p8CtJaLpMajO4N0Y3CC7b2DdWRwgu2_hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60860/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.51.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55981', '55982', '55983', '55984', '55985']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55981:55981 -p 55982:55982 -p 55983:55983 -p 55984:55984 -p 55985:55985 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55983 --rest-port=55981 --tcp-port=55982 --discv5-udp-port=55984 --rest-address=0.0.0.0 --nat=extip:172.18.51.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5fd1c0cec8feb6c1a9de7a81c0ec71ed37e3b973d5eee38ff32aaae8ddfc4ffd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55985 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE4wDrpK6mtjXyPaVaJl2sUICk9nMkiIcS_Ezvq5rQDJPlMUtJhQZfuppVftPOjVn2wueXA4ohvHQaIiFec_dzsBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBtqB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK0GFWNRANvX-IEoHb8va-anGSWam2Cs92mxwnuZY3gUoN0Y3CC2oCDdWRwgtqChXdha3UyBQ --filternode=/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.51.52 waku c9a619fd6c403b0b62f85106a050c6bfca1c5c3113df0779d291829686d7becb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c9a619fd6c40. Setting up logs at ./log/docker/node4_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55981
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55981/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55981/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.52/tcp/55982/p2p/16Uiu2HAm72MpaCiAFQDi3o7gFf7EjQJZuyQtwmmeGGNHXgDGn9j2","/ip4/172.18.51.52/tcp/55983/ws/p2p/16Uiu2HAm72MpaCiAFQDi3o7gFf7EjQJZuyQtwmmeGGNHXgDGn9j2"],"enrUri":"enr:-LO4QHuiCxGGuRDQDQMF0UzuZg6B1yluNuxqjvh94RYj814yQE-QZDsXMw-L_PRvc0NLnT0spUPrtIDJ2siVOD23lwwBgmlkgnY0gmlwhKwSMzSKbXVsdGlhZGRyc4wACgSsEjM0Btqv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKsU1oi4iI09wZ6bXfUyeOjMj4tsFMInQzSUbjn5ry33YN0Y3CC2q6DdWRwgtqwhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55981/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20899', '20900', '20901', '20902', '20903']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20899:20899 -p 20900:20900 -p 20901:20901 -p 20902:20902 -p 20903:20903 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20901 --rest-port=20899 --tcp-port=20900 --discv5-udp-port=20902 --rest-address=0.0.0.0 --nat=extip:172.18.119.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9e52d816f123db75bfcc6e7a7db2aa7dbe1cd76dcbec7c5fcb59ac0c3c3cfa77 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20903 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE4wDrpK6mtjXyPaVaJl2sUICk9nMkiIcS_Ezvq5rQDJPlMUtJhQZfuppVftPOjVn2wueXA4ohvHQaIiFec_dzsBgmlkgnY0gmlwhKwSmmyKbXVsdGlhZGRyc4wACgSsEppsBtqB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK0GFWNRANvX-IEoHb8va-anGSWam2Cs92mxwnuZY3gUoN0Y3CC2oCDdWRwgtqChXdha3UyBQ --filternode=/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.226 waku 424e41491c3b31efc4caa8e558973a4bed42f630a45cd9a62ab80d2f5ad4e151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 424e41491c3b. Setting up logs at ./log/docker/node5_2024-10-27_04-05-32__906c77eb-dc3b-42a7-9dc0-3ea2518f8c1e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20899
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20899/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20899/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.226/tcp/20900/p2p/16Uiu2HAmE6nnxz92VDreWAbs7nruCmEtXbyamo73ibwrACprPPuM","/ip4/172.18.119.226/tcp/20901/ws/p2p/16Uiu2HAmE6nnxz92VDreWAbs7nruCmEtXbyamo73ibwrACprPPuM"],"enrUri":"enr:-LO4QMIq1jyd88JFmCO0rqIqE4I6LymZFxuTmKjCcxV64D_vOQM-UIO1Iy1Q8msjFGOrPqN4ViGQAtfZPjQGmkYH8gkBgmlkgnY0gmlwhKwSd-KKbXVsdGlhZGRyc4wACgSsEnfiBlGl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMVd7hWwQ7jXmdg6hW1rzTYkJuk2Yg7baM4jqg9FHZlFIN0Y3CCUaSDdWRwglGmhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20899/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.108/tcp/55936/p2p/16Uiu2HAm7YgtPhso6u21QpkCLtKP8NMDXrkQR2yisHnMdGH3QsHs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55935/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38114/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "77439751-5c75-40e0-9679-abbea42bb2fa", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"77439751-5c75-40e0-9679-abbea42bb2fa","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60860/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "566b3896-8319-4015-a33d-eb8b2ece2973", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"566b3896-8319-4015-a33d-eb8b2ece2973","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55981/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6f2e3e1a-9757-4f67-bbc4-fa348b364a41", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6f2e3e1a-9757-4f67-bbc4-fa348b364a41","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20899/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "70be901f-2658-4c22-bb56-5deba023a67a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"70be901f-2658-4c22-bb56-5deba023a67a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38114/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730001942260530432,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60860/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60860/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 35de1f0737a6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id da3a8601f6c8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 35de1f0737a6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9754543b3a08
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container da3a8601f6c8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c9a619fd6c40
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9754543b3a08. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 424e41491c3b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c9a619fd6c40. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.