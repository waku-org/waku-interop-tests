{"uid":"93b8dbdb3a99b651","name":"test_valid_payloads_dynamic_at_spam_rate","fullName":"tests.relay.test_rln.TestRelayRLN#test_valid_payloads_dynamic_at_spam_rate","historyId":"d1fa34dc8ce298ad35b398097829cd20","time":{"start":1734261879375,"stop":1734262479405,"duration":600030},"status":"failed","statusMessage":"Failed: Timeout >600.0s","statusTrace":"tests/relay/test_rln.py:145: in test_valid_payloads_dynamic_at_spam_rate\n    self.setup_main_rln_relay_nodes(\nsrc/steps/rln.py:51: in setup_main_rln_relay_nodes\n    self.setup_first_rln_relay_node(**kwargs)\nsrc/steps/rln.py:57: in setup_first_rln_relay_node\n    self.node1.start(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:314: in iter\n    return fut.result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/waku_node.py:186: in start\n    self.ensure_ready(timeout_duration=wait_for_node_sec)\nsrc/node/waku_node.py:290: in ensure_ready\n    check_healthy()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:389: in __call__\n    self.sleep(do)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/nap.py:31: in sleep\n    time.sleep(seconds)\nE   Failed: Timeout >600.0s","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"check_waku_log_errors","time":{"start":1734261879373,"stop":1734261879373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1734261879373,"stop":1734261879373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1734261879373,"stop":1734261879374,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1734261879373,"stop":1734261879373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1734261879374,"stop":1734261879374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1734261879374,"stop":1734261879374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1734261879374,"stop":1734261879374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"Failed: Timeout >600.0s","statusTrace":"tests/relay/test_rln.py:145: in test_valid_payloads_dynamic_at_spam_rate\n    self.setup_main_rln_relay_nodes(\nsrc/steps/rln.py:51: in setup_main_rln_relay_nodes\n    self.setup_first_rln_relay_node(**kwargs)\nsrc/steps/rln.py:57: in setup_first_rln_relay_node\n    self.node1.start(\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:314: in iter\n    return fut.result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/node/waku_node.py:186: in start\n    self.ensure_ready(timeout_duration=wait_for_node_sec)\nsrc/node/waku_node.py:290: in ensure_ready\n    check_healthy()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py:389: in __call__\n    self.sleep(do)\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/nap.py:31: in sleep\n    time.sleep(seconds)\nE   Failed: Timeout >600.0s","steps":[{"name":"register_rln_relay_nodes","time":{"start":1734261879375,"stop":1734261902514,"duration":23139},"status":"passed","steps":[{"name":"generate_keystore_prefixes","time":{"start":1734261879375,"stop":1734261879375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"count","value":"2"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"register_rln_single_node","time":{"start":1734261879375,"stop":1734261889178,"duration":9803},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"prefix","value":"'rkql'"},{"name":"rln_creds_source","value":"'{\"rln-relay-cred-password\": \"password\", \"rln-relay-eth-client-address\": \"https://sepolia.infura.io/v3/0fbc961f49944da4b8fde35715e2171b\",  \"rln-relay-eth-contract-address\": \"0xCB33Aa5B38d79E3D9Fa8B10afF38AA201399a7e3\",  \"rln-relay-eth-private-key-1\": \"d5f76ef141a96d916f99c72878a92cc6fb479af8441670d103e307d1184ab367\",  \"rln-relay-eth-private-key-2\": \"6bafcb0228b6b369b2de376bd9e37cdd3f5d30ce0787992b235acfacfa5de52e\", \"rln-relay-eth-private-key-3\": \"f11b72833fea837ab8d4a1383b6d297c601600fcae5e95a1c22fa97fd20d16dd\", \"rln-relay-eth-private-key-4\": \"259c2416e4216a45680ce82daf229eb33dc076dd2db76c7eb1c84cc2e35a9c8c\", \"rln-relay-eth-private-key-5\": \"55cc95ecf3d32ce2ca1c5ead8ea1e3702812d285c1892b12bdc33e8c1e476ebe\"}'"},{"name":"rln_creds_id","value":"'1'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"register_rln_single_node","time":{"start":1734261889179,"stop":1734261902514,"duration":13335},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"prefix","value":"'ctoi'"},{"name":"rln_creds_source","value":"'{\"rln-relay-cred-password\": \"password\", \"rln-relay-eth-client-address\": \"https://sepolia.infura.io/v3/0fbc961f49944da4b8fde35715e2171b\",  \"rln-relay-eth-contract-address\": \"0xCB33Aa5B38d79E3D9Fa8B10afF38AA201399a7e3\",  \"rln-relay-eth-private-key-1\": \"d5f76ef141a96d916f99c72878a92cc6fb479af8441670d103e307d1184ab367\",  \"rln-relay-eth-private-key-2\": \"6bafcb0228b6b369b2de376bd9e37cdd3f5d30ce0787992b235acfacfa5de52e\", \"rln-relay-eth-private-key-3\": \"f11b72833fea837ab8d4a1383b6d297c601600fcae5e95a1c22fa97fd20d16dd\", \"rln-relay-eth-private-key-4\": \"259c2416e4216a45680ce82daf229eb33dc076dd2db76c7eb1c84cc2e35a9c8c\", \"rln-relay-eth-private-key-5\": \"55cc95ecf3d32ce2ca1c5ead8ea1e3702812d285c1892b12bdc33e8c1e476ebe\"}'"},{"name":"rln_creds_id","value":"'2'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"count","value":"2"},{"name":"orig_prefixes","value":"[]"}],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_main_rln_relay_nodes","time":{"start":1734261902515,"stop":1734262479404,"duration":576889},"status":"failed","statusMessage":"Failed: Timeout >600.0s\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/rln.py\", line 51, in setup_main_rln_relay_nodes\n    self.setup_first_rln_relay_node(**kwargs)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/rln.py\", line 57, in setup_first_rln_relay_node\n    self.node1.start(\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 314, in iter\n    return fut.result()\n           ^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 186, in start\n    self.ensure_ready(timeout_duration=wait_for_node_sec)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 290, in ensure_ready\n    check_healthy()\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 389, in __call__\n    self.sleep(do)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/nap.py\", line 31, in sleep\n    time.sleep(seconds)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/pytest_timeout.py\", line 264, in handler\n    timeout_sigalrm(item, settings)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/pytest_timeout.py\", line 448, in timeout_sigalrm\n    pytest.fail(\"Timeout >%ss\" % settings.timeout)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/_pytest/outcomes.py\", line 188, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[{"name":"setup_first_rln_relay_node","time":{"start":1734261902515,"stop":1734262479402,"duration":576887},"status":"failed","statusMessage":"Failed: Timeout >600.0s\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/rln.py\", line 57, in setup_first_rln_relay_node\n    self.node1.start(\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 314, in iter\n    return fut.result()\n           ^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 186, in start\n    self.ensure_ready(timeout_duration=wait_for_node_sec)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 290, in ensure_ready\n    check_healthy()\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 389, in __call__\n    self.sleep(do)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/tenacity/nap.py\", line 31, in sleep\n    time.sleep(seconds)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/pytest_timeout.py\", line 264, in handler\n    timeout_sigalrm(item, settings)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/pytest_timeout.py\", line 448, in timeout_sigalrm\n    pytest.fail(\"Timeout >%ss\" % settings.timeout)\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/_pytest/outcomes.py\", line 188, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[{"name":"rln_relay_user_message_limit","value":"100"},{"name":"rln_relay_epoch_sec","value":"600"},{"name":"rln_relay_dynamic","value":"'true'"},{"name":"wait_for_node_sec","value":"600"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"rln_relay_user_message_limit","value":"100"},{"name":"rln_relay_epoch_sec","value":"600"},{"name":"rln_relay_dynamic","value":"'true'"},{"name":"wait_for_node_sec","value":"600"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f4b35294b9ff4db2","name":"log","source":"f4b35294b9ff4db2.txt","type":"text/plain","size":1246638}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1734262479458,"stop":1734262479459,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1734262479459,"stop":1734262484532,"duration":5073},"status":"failed","statusMessage":"AssertionError: Containers ['wakuorg/nwaku:latest'] crashed during the test!!!\nassert not ['wakuorg/nwaku:latest']\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 926, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/tests/conftest.py\", line 92, in close_open_nodes\n    assert not crashed_containers, f\"Containers {crashed_containers} crashed during the test!!!\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1734262484533,"stop":1734262484898,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1734262484899,"stop":1734262484913,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"ba294bee1d893b64","name":"node1_2024-12-15_11-24-39__9313281e-4436-4ae7-b955-c1fe126549fd__wakuorg_nwaku:latest.log","source":"ba294bee1d893b64.txt","type":"text/plain","size":18210506}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"tag","value":"timeout(600)"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Test works only with nwaku')"},{"name":"tag","value":"xdist_group(name='RLN serial tests')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_rln"},{"name":"subSuite","value":"TestRelayRLN"},{"name":"host","value":"fv-az1945-168"},{"name":"thread","value":"2247-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_rln"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"6ab55abea8454f9","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/524//#testresult/6ab55abea8454f9","status":"failed","statusDetails":"Failed: Timeout >600.0s","time":{"start":1734259083066,"stop":1734259683068,"duration":600002}}]},"tags":["timeout(600)","@pytest.mark.skipif(False, reason='Test works only with nwaku')","xdist_group(name='RLN serial tests')"]},"source":"93b8dbdb3a99b651.json","parameterValues":[]}