[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.97.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60621', '60622', '60623', '60624', '60625']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60621:60621 -p 60622:60622 -p 60623:60623 -p 60624:60624 -p 60625:60625 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60623 --rest-port=60621 --tcp-port=60622 --discv5-udp-port=60624 --rest-address=0.0.0.0 --nat=extip:172.18.97.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebcf5e88a3ce9c6feeeefbd190e0120bbf0c88e7ebb8eadbcb63deb4fcca3ecc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60625 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.97.154 waku be7e9d1b8c9a7a5693e614a84261e1f4e4a081dfed19382a8ffaad2128cc944d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID be7e9d1b8c9a. Setting up logs at ./log/docker/node1_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60621
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a87f0f16966a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60621/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60621/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.154/tcp/60622/p2p/16Uiu2HAmPU4aTszFxXHnEZHQj6EYB3M6iobnhVZb2FkERdRfRHsr","/ip4/172.18.97.154/tcp/60623/ws/p2p/16Uiu2HAmPU4aTszFxXHnEZHQj6EYB3M6iobnhVZb2FkERdRfRHsr"],"enrUri":"enr:-L24QJMJnv755-xIhDijj7EFAQBq_G-cwV9o3ffjaqZ4Hk9pW-97-BCsimE4AdDpKgLtL0xSECMmJlFB5veYdgBxZUUCgmlkgnY0gmlwhKwSYZqKbXVsdGlhZGRyc5YACASsEmGaBuzOAAoErBJhmgbsz90DgnJzhQADAQAAiXNlY3AyNTZrMaEDoKPyan2Xa9uUT7WrvyhqWgYIkiGnCi0gsfjPNhl1UOWDdGNwguzOg3VkcILs0IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.237.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52358', '52359', '52360', '52361', '52362']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52358:52358 -p 52359:52359 -p 52360:52360 -p 52361:52361 -p 52362:52362 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52360 --rest-port=52358 --tcp-port=52359 --discv5-udp-port=52361 --rest-address=0.0.0.0 --nat=extip:172.18.237.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aacaa3bcb7ae4c813a2a1f2e1f1f9c615a4e3fedec57782be6ccd4dd3ab9e3bd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52362 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QJMJnv755-xIhDijj7EFAQBq_G-cwV9o3ffjaqZ4Hk9pW-97-BCsimE4AdDpKgLtL0xSECMmJlFB5veYdgBxZUUCgmlkgnY0gmlwhKwSYZqKbXVsdGlhZGRyc5YACASsEmGaBuzOAAoErBJhmgbsz90DgnJzhQADAQAAiXNlY3AyNTZrMaEDoKPyan2Xa9uUT7WrvyhqWgYIkiGnCi0gsfjPNhl1UOWDdGNwguzOg3VkcILs0IV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.237.174 waku 7330dfe85c762e21714aa82369769206af0622890b9ef9ea40e549a079d6e17e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7330dfe85c76. Setting up logs at ./log/docker/node2_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 52358
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52358/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52358/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.174/tcp/52359/p2p/16Uiu2HAmDBqRNs516LtNWuEC3ojP4gw7nrwch2ZfX5QNkX5Q3rCL","/ip4/172.18.237.174/tcp/52360/ws/p2p/16Uiu2HAmDBqRNs516LtNWuEC3ojP4gw7nrwch2ZfX5QNkX5Q3rCL"],"enrUri":"enr:-L24QCpZmgW21U0BpijzDrV9T5NPBcNnVGkLhMjMo9lvlSqKAStq8fPPHRrSMcyG4K2DcgclriwxbbUpLdlOssL99cwCgmlkgnY0gmlwhKwS7a6KbXVsdGlhZGRyc5YACASsEu2uBsyHAAoErBLtrgbMiN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDB-boj6YgBNSZYEsqXnyokCcx2BP6H1HCbwYKq4kDB7WDdGNwgsyHg3VkcILMiYV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.177.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33501', '33502', '33503', '33504', '33505']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33501:33501 -p 33502:33502 -p 33503:33503 -p 33504:33504 -p 33505:33505 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33503 --rest-port=33501 --tcp-port=33502 --discv5-udp-port=33504 --rest-address=0.0.0.0 --nat=extip:172.18.177.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=40853e2bab5a9f6d9ffa08c5b5ab08d3cd051c6e9910e3cfb53d6f63deeb65e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33505 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QCpZmgW21U0BpijzDrV9T5NPBcNnVGkLhMjMo9lvlSqKAStq8fPPHRrSMcyG4K2DcgclriwxbbUpLdlOssL99cwCgmlkgnY0gmlwhKwS7a6KbXVsdGlhZGRyc5YACASsEu2uBsyHAAoErBLtrgbMiN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDB-boj6YgBNSZYEsqXnyokCcx2BP6H1HCbwYKq4kDB7WDdGNwgsyHg3VkcILMiYV3YWt1MhE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.177.147 waku 6b94e6a7a99abd4eccde744dee5a53a94b3226c3d02195a31764411a43584b6c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6b94e6a7a99a. Setting up logs at ./log/docker/node3_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33501
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33501/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33501/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.147/tcp/33502/p2p/16Uiu2HAm7jBqbw2M9Ljh4aHrRqGRRPhaCwppzaRmFnK1C1ZJr4pr","/ip4/172.18.177.147/tcp/33503/ws/p2p/16Uiu2HAm7jBqbw2M9Ljh4aHrRqGRRPhaCwppzaRmFnK1C1ZJr4pr"],"enrUri":"enr:-L24QP-3Au__jhYb7Q6DqwJVav0-iXawR9NRBB4VLvtLs6BjDd38TGXrtw8rPIcur8VHKqYhJoqfz37h47_umpnm79oCgmlkgnY0gmlwhKwSsZOKbXVsdGlhZGRyc5YACASsErGTBoLeAAoErBKxkwaC390DgnJzhQADAQAAiXNlY3AyNTZrMaECtsjg2Lq8yBE0nzVlXYV0-ZYqZAf21CtrIElItCgrsXuDdGNwgoLeg3VkcIKC4IV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52358/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.97.154/tcp/60622/p2p/16Uiu2HAmPU4aTszFxXHnEZHQj6EYB3M6iobnhVZb2FkERdRfRHsr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33501/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.237.174/tcp/52359/p2p/16Uiu2HAmDBqRNs516LtNWuEC3ojP4gw7nrwch2ZfX5QNkX5Q3rCL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52358/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33501/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60621/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60621/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"38saJEEKRqKIxxZmyudR2xXT557mUHbJFtKNGcFyV8c="},{"messageHash":"hixFDf33zXwThBcOii1CBy0/RpFYbXqSTrhWTEd7lvk="},{"messageHash":"P2o4xVoGUcNBp30NkshWo4qZD468l0NDkmg9YtzFLGo="},{"messageHash":"L5/ZC+ebEPLOmehytaw64ReWIEmX/FyXsGUZnVkdPmY="},{"messageHash":"KczbmtZS1zJ0R9hhvUwnYOchrn2c9OAYy9tONkDaUFg="},{"messageHash":"Qbam4CyTl3Y2Lbw0I+K0AqBwtAlQFuTrjqaPrK37G2E="},{"messageHash":"gtZ1lBUUiFNtoXfdq+LZHykNtl1X/pE8ohlgMM3/SzI="},{"messageHash":"PnVFSZW9uW8OFcRPv367DID+HDz4Lvwxp4wIvu8sex8="},{"messageHash":"hoRgkXyyHB7em08XM4m35kFgt3ao9uu8LhlakmVp7rU="},{"messageHash":"WRToeKhcX3RqYOqYGjaKEkT1eAaQ+PTuR44j+0tz1Yo="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52358/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"85fedcbdb66a994f415f","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"38saJEEKRqKIxxZmyudR2xXT557mUHbJFtKNGcFyV8c="},{"messageHash":"hixFDf33zXwThBcOii1CBy0/RpFYbXqSTrhWTEd7lvk="},{"messageHash":"P2o4xVoGUcNBp30NkshWo4qZD468l0NDkmg9YtzFLGo="},{"messageHash":"L5/ZC+ebEPLOmehytaw64ReWIEmX/FyXsGUZnVkdPmY="},{"messageHash":"KczbmtZS1zJ0R9hhvUwnYOchrn2c9OAYy9tONkDaUFg="},{"messageHash":"Qbam4CyTl3Y2Lbw0I+K0AqBwtAlQFuTrjqaPrK37G2E="},{"messageHash":"gtZ1lBUUiFNtoXfdq+LZHykNtl1X/pE8ohlgMM3/SzI="},{"messageHash":"PnVFSZW9uW8OFcRPv367DID+HDz4Lvwxp4wIvu8sex8="},{"messageHash":"hoRgkXyyHB7em08XM4m35kFgt3ao9uu8LhlakmVp7rU="},{"messageHash":"WRToeKhcX3RqYOqYGjaKEkT1eAaQ+PTuR44j+0tz1Yo="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33501/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 412 Client Error: Precondition Failed for url: http://127.0.0.1:33501/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true. Response content: b'No suitable service peer & none discovered'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id be7e9d1b8c9a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7330dfe85c76
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container be7e9d1b8c9a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6b94e6a7a99a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7330dfe85c76. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-12-27_13-48-25__2cf790bb-d485-4292-bea1-48657b17caa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.28.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40108', '40109', '40110', '40111', '40112']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40108:40108 -p 40109:40109 -p 40110:40110 -p 40111:40111 -p 40112:40112 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40110 --rest-port=40108 --tcp-port=40109 --discv5-udp-port=40111 --rest-address=0.0.0.0 --nat=extip:172.18.28.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f74bdd4a8c6fb52ce9437ddabefe31a5081cbbd1e8fcfcc54ae3e2cbeb2decf1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40112 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.28.122 waku 9fd9d9e3fea9a1ff864b931e7a10211789c65856b4db61849c380085e395da1a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9fd9d9e3fea9. Setting up logs at ./log/docker/node1_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40108
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6b94e6a7a99a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40108/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40108/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.122/tcp/40109/p2p/16Uiu2HAmMG7ujgcqiDEQ1WYw2cRZhR9j8BmTUq1kaVjEGHPUPn4w","/ip4/172.18.28.122/tcp/40110/ws/p2p/16Uiu2HAmMG7ujgcqiDEQ1WYw2cRZhR9j8BmTUq1kaVjEGHPUPn4w"],"enrUri":"enr:-L24QGIlvpigthLGbrPOsKKqCBdKb-M8Y5su5DJnzjIEDnOWei6pHXyPl_1GieN6KWGiZAuBFFpJGLPkx5DYD_zKpZECgmlkgnY0gmlwhKwSHHqKbXVsdGlhZGRyc5YACASsEhx6BpytAAoErBIcegacrt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDf91fBxCBtLMrDKXZPzfZ51dUg16XxyM5FOo1NiKShpiDdGNwgpytg3VkcIKcr4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39730', '39731', '39732', '39733', '39734']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39730:39730 -p 39731:39731 -p 39732:39732 -p 39733:39733 -p 39734:39734 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39732 --rest-port=39730 --tcp-port=39731 --discv5-udp-port=39733 --rest-address=0.0.0.0 --nat=extip:172.18.212.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a1eeea2f9cf5d79ab1712bf6d86c9573fa504f42f51286e59fbef9a8488eb54d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39734 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QGIlvpigthLGbrPOsKKqCBdKb-M8Y5su5DJnzjIEDnOWei6pHXyPl_1GieN6KWGiZAuBFFpJGLPkx5DYD_zKpZECgmlkgnY0gmlwhKwSHHqKbXVsdGlhZGRyc5YACASsEhx6BpytAAoErBIcegacrt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDf91fBxCBtLMrDKXZPzfZ51dUg16XxyM5FOo1NiKShpiDdGNwgpytg3VkcIKcr4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.212 waku ee42601c6efbd89afec21dc362348c6b3e7041942204737eb1cb7b15339cf174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ee42601c6efb. Setting up logs at ./log/docker/node2_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39730
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39730/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39730/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.212/tcp/39731/p2p/16Uiu2HAm6P44CqyHvXHWX5giatnZc8pZ7xiRsvNypqxu8HapEmXv","/ip4/172.18.212.212/tcp/39732/ws/p2p/16Uiu2HAm6P44CqyHvXHWX5giatnZc8pZ7xiRsvNypqxu8HapEmXv"],"enrUri":"enr:-L24QNyE1s9tTVb0GZwEGTPmeWjmdw-bhihSDz345GaCwQw2Uffp8eaU9cey6eEe2qsVDLgFaSpqGTpMdq2WctjCTHsCgmlkgnY0gmlwhKwS1NSKbXVsdGlhZGRyc5YACASsEtTUBpszAAoErBLU1AabNN0DgnJzhQADAQAAiXNlY3AyNTZrMaECosTGdmI2vuatamFW3gNkC0gnT3i9iS3JRQuVAOZHnEmDdGNwgpszg3VkcIKbNYV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.152.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16685', '16686', '16687', '16688', '16689']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16685:16685 -p 16686:16686 -p 16687:16687 -p 16688:16688 -p 16689:16689 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16687 --rest-port=16685 --tcp-port=16686 --discv5-udp-port=16688 --rest-address=0.0.0.0 --nat=extip:172.18.152.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c1dad760ff0cf60c94eca82ff6dbb4ad86dfacaf2e7e98e0128168f7aa403ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16689 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QNyE1s9tTVb0GZwEGTPmeWjmdw-bhihSDz345GaCwQw2Uffp8eaU9cey6eEe2qsVDLgFaSpqGTpMdq2WctjCTHsCgmlkgnY0gmlwhKwS1NSKbXVsdGlhZGRyc5YACASsEtTUBpszAAoErBLU1AabNN0DgnJzhQADAQAAiXNlY3AyNTZrMaECosTGdmI2vuatamFW3gNkC0gnT3i9iS3JRQuVAOZHnEmDdGNwgpszg3VkcIKbNYV3YWt1MhE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.152.42 waku f0391e75984b8dc779fdeb1decbfcc51aff72f4499fe90d3d0b5e1f744845bb7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f0391e75984b. Setting up logs at ./log/docker/node3_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 16685
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16685/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16685/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.42/tcp/16686/p2p/16Uiu2HAmT9WFHXK2eT6xgnDUPayjEfnCqUN96DTZthRE5SZ1gCMa","/ip4/172.18.152.42/tcp/16687/ws/p2p/16Uiu2HAmT9WFHXK2eT6xgnDUPayjEfnCqUN96DTZthRE5SZ1gCMa"],"enrUri":"enr:-L24QGxytOkUWNzULsIbNz4bVxqhxgtjltVgwCjwhWWu4_rMdr11YFbIVtWBXNJViI338IjyIh5_NE01BYqlDN94n14CgmlkgnY0gmlwhKwSmCqKbXVsdGlhZGRyc5YACASsEpgqBkEuAAoErBKYKgZBL90DgnJzhQADAQAAiXNlY3AyNTZrMaED11GvBaqKLVtx-QYTkI6DAx96g8ttOkOObmGFXUPxwI2DdGNwgkEug3VkcIJBMIV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39730/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.28.122/tcp/40109/p2p/16Uiu2HAmMG7ujgcqiDEQ1WYw2cRZhR9j8BmTUq1kaVjEGHPUPn4w"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16685/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.212.212/tcp/39731/p2p/16Uiu2HAm6P44CqyHvXHWX5giatnZc8pZ7xiRsvNypqxu8HapEmXv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39730/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16685/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40108/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40108/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"dSMeQfPp5CLCw8quKzS8V40vE4ldpixRW03zuMgMIVA="},{"messageHash":"v+5YLfuUmbXMCYdR9+z+8XOS19eFCqPp3uwx6K1PcNY="},{"messageHash":"q5VvbdRwS65xlngW44R1pDkfvmbIFLg1J0Pjq6KTpNk="},{"messageHash":"ANQ/zw2TqfhzMtUjiLxsbcwLkGbjBCjYZeiwTD73IVU="},{"messageHash":"PaOIQazPwsiHGwfelc77H2m5hE5MK+rxfQWhTWOuSRM="},{"messageHash":"qIR9v68Z0ufFvMvYvV7U685yu6aZBL+0xGnsg9Eg+/Q="},{"messageHash":"vAPKfApM2bcwZh3paYbqCNEBXXwaL/v238OucIkO2L4="},{"messageHash":"6IXDYbAfo2LHJSZ61TnVIXafhc55G1fmqWdR9qOv3tk="},{"messageHash":"gDYzZP4MzThAKh45I0H0RiZ9lXN9TSTWwuDEyQXnhf4="},{"messageHash":"uQeyo2AWgE1F4MUNpuN94QDls8r2zZkfw7JV7/mb4oI="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39730/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9f29640f7d65de87a88e","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"dSMeQfPp5CLCw8quKzS8V40vE4ldpixRW03zuMgMIVA="},{"messageHash":"v+5YLfuUmbXMCYdR9+z+8XOS19eFCqPp3uwx6K1PcNY="},{"messageHash":"q5VvbdRwS65xlngW44R1pDkfvmbIFLg1J0Pjq6KTpNk="},{"messageHash":"ANQ/zw2TqfhzMtUjiLxsbcwLkGbjBCjYZeiwTD73IVU="},{"messageHash":"PaOIQazPwsiHGwfelc77H2m5hE5MK+rxfQWhTWOuSRM="},{"messageHash":"qIR9v68Z0ufFvMvYvV7U685yu6aZBL+0xGnsg9Eg+/Q="},{"messageHash":"vAPKfApM2bcwZh3paYbqCNEBXXwaL/v238OucIkO2L4="},{"messageHash":"6IXDYbAfo2LHJSZ61TnVIXafhc55G1fmqWdR9qOv3tk="},{"messageHash":"gDYzZP4MzThAKh45I0H0RiZ9lXN9TSTWwuDEyQXnhf4="},{"messageHash":"uQeyo2AWgE1F4MUNpuN94QDls8r2zZkfw7JV7/mb4oI="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16685/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 412 Client Error: Precondition Failed for url: http://127.0.0.1:16685/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true. Response content: b'No suitable service peer & none discovered'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9fd9d9e3fea9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ee42601c6efb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9fd9d9e3fea9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f0391e75984b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ee42601c6efb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-12-27_13-48-36__4dedafb6-e394-45bd-97aa-b5544a5d7cfd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_sync_nodes_are_relay with id: 2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.169.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2353', '2354', '2355', '2356', '2357']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2353:2353 -p 2354:2354 -p 2355:2355 -p 2356:2356 -p 2357:2357 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2355 --rest-port=2353 --tcp-port=2354 --discv5-udp-port=2356 --rest-address=0.0.0.0 --nat=extip:172.18.169.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff8fb3cdcdafb870753b3bfeb033d178805a00ebabbbffd803d24032c2f908db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2357 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.169.121 waku ae4fb166afd1f0c6cb2afbdea17f01f26df10c67be174676fb3945ce0f71a420
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ae4fb166afd1. Setting up logs at ./log/docker/node1_2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2353
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f0391e75984b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2353/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2353/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.121/tcp/2354/p2p/16Uiu2HAmKykhMsdNhiGibibTTApctjRxhpsaqveFzzLAvtBjD9AN","/ip4/172.18.169.121/tcp/2355/ws/p2p/16Uiu2HAmKykhMsdNhiGibibTTApctjRxhpsaqveFzzLAvtBjD9AN"],"enrUri":"enr:-L24QHwaLPstRcfQQDOAv4ReI7ZH5yE7HEqezBqzNo-3-zgTYiLDagR1Sgt-k_FXnjsRX6CXRe8MjQSksln-Dm4LlU4CgmlkgnY0gmlwhKwSqXmKbXVsdGlhZGRyc5YACASsEql5BgkyAAoErBKpeQYJM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDbNBnwL6s7iULsP_GkuxOxMEWMRZuSeDxGTVvzXOI8D-DdGNwggkyg3VkcIIJNIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.147.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43633', '43634', '43635', '43636', '43637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43633:43633 -p 43634:43634 -p 43635:43635 -p 43636:43636 -p 43637:43637 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43635 --rest-port=43633 --tcp-port=43634 --discv5-udp-port=43636 --rest-address=0.0.0.0 --nat=extip:172.18.147.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b5f4f19d7e5c49c97b2d1e26b20bde0db82d2ecc7cbdc30de6d1bf5daddb7e40 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43637 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QHwaLPstRcfQQDOAv4ReI7ZH5yE7HEqezBqzNo-3-zgTYiLDagR1Sgt-k_FXnjsRX6CXRe8MjQSksln-Dm4LlU4CgmlkgnY0gmlwhKwSqXmKbXVsdGlhZGRyc5YACASsEql5BgkyAAoErBKpeQYJM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDbNBnwL6s7iULsP_GkuxOxMEWMRZuSeDxGTVvzXOI8D-DdGNwggkyg3VkcIIJNIV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.147.135 waku 9857f5c0b89603fed8889cea08f4b13b941de85ddb4b9d359a5317931054a521
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9857f5c0b896. Setting up logs at ./log/docker/node2_2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43633
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.135/tcp/43634/p2p/16Uiu2HAmStdteAMvhLR4zyHBRhUVBqkp2JAfhc1M3Q2q8LgXPPMF","/ip4/172.18.147.135/tcp/43635/ws/p2p/16Uiu2HAmStdteAMvhLR4zyHBRhUVBqkp2JAfhc1M3Q2q8LgXPPMF"],"enrUri":"enr:-L24QLsBhFbLYFnJxu5hJcY12L3-mnV3Gu6INu3laTnbZJebRvFkycWUocp0p_pnza0881r_2XuF8Ph3z50s9ZdKZH0CgmlkgnY0gmlwhKwSk4eKbXVsdGlhZGRyc5YACASsEpOHBqpyAAoErBKThwaqc90DgnJzhQADAQAAiXNlY3AyNTZrMaED04KdXh1M-wgf3Oy-F3RZKhkNbV2I6n-6ZQ4kvJbiTp6DdGNwgqpyg3VkcIKqdIV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27258', '27259', '27260', '27261', '27262']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27258:27258 -p 27259:27259 -p 27260:27260 -p 27261:27261 -p 27262:27262 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27260 --rest-port=27258 --tcp-port=27259 --discv5-udp-port=27261 --rest-address=0.0.0.0 --nat=extip:172.18.20.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=251eb5e56dfdebdedbd7abcce4a8aedbc4fe6e7c66edbfb544c197a168f4689b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27262 --metrics-logging=true --store=false --store-sync=true --relay=true --discv5-bootstrap-node=enr:-L24QLsBhFbLYFnJxu5hJcY12L3-mnV3Gu6INu3laTnbZJebRvFkycWUocp0p_pnza0881r_2XuF8Ph3z50s9ZdKZH0CgmlkgnY0gmlwhKwSk4eKbXVsdGlhZGRyc5YACASsEpOHBqpyAAoErBKThwaqc90DgnJzhQADAQAAiXNlY3AyNTZrMaED04KdXh1M-wgf3Oy-F3RZKhkNbV2I6n-6ZQ4kvJbiTp6DdGNwgqpyg3VkcIKqdIV3YWt1MhE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.42 waku 2c97ede131850a1a856a21ca15adbd2c7b821235096e9b6c250bce068328bb1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2c97ede13185. Setting up logs at ./log/docker/node3_2024-12-27_13-48-48__f748eb61-7e1c-4114-ae3b-b3b1b90b78e8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 27258
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27258/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27258/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.42/tcp/27259/p2p/16Uiu2HAmQ4Fn6VfDUX3dypfSsgJyMR9x8GEBfkyYShmontViyZLR","/ip4/172.18.20.42/tcp/27260/ws/p2p/16Uiu2HAmQ4Fn6VfDUX3dypfSsgJyMR9x8GEBfkyYShmontViyZLR"],"enrUri":"enr:-L24QLPTWMuU562Szedma1mDsAGV2D2kVsFY-bTElq7MonMEdORMWFBlTiDkyOB1AWzvJAshDulPBXNNR0xDNAJgQHsCgmlkgnY0gmlwhKwSFCqKbXVsdGlhZGRyc5YACASsEhQqBmp7AAoErBIUKgZqfN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqWZb40GiqxmPpjIeSQpR7dUFobRWSlvOpqU0n-ARq_aDdGNwgmp7g3VkcIJqfYV3YWt1MhE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43633/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.169.121/tcp/2354/p2p/16Uiu2HAmKykhMsdNhiGibibTTApctjRxhpsaqveFzzLAvtBjD9AN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27258/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.147.135/tcp/43634/p2p/16Uiu2HAmStdteAMvhLR4zyHBRhUVBqkp2JAfhc1M3Q2q8LgXPPMF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43633/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27258/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2353/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2353/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xqtMcKTt0Q8cQ/M9EnMqkVepjVA0ELcFi0O48vaoKo="},{"messageHash":"BqwCBVAw8kzpFjPWxgtAb8di0sB4lcZgY2Nyj6KwyB4="},{"messageHash":"SrP58ZJankoHb9u0k/CBo7fF8YO38Zh84LOZ6O1V+6Q="},{"messageHash":"LnfEjLK0rD+msP1+JQoVIi2rsK4Ce/NPIUY+bMl6Kfw="},{"messageHash":"uC3raX6QhPcaHlt1zmVh1nR2JLP7wugxeNC6JTHnA8A="},{"messageHash":"DXJvwOuFs1WkBmDk0RWExAu+FR84ntNS46EHajihwkE="},{"messageHash":"Y/R4hGiMH2YkoiF4QZJvdAGaAE8URCJaiacYUOMCM6w="},{"messageHash":"pceNshPPF3t+4NltWtoc6Gr6Jn+N/R3pi28n6WWdWEY="},{"messageHash":"mI7NO5IQ6xLALGnScQeHx9yaR4/7Q5AFWm9v7UpfnTg="},{"messageHash":"IXQo5bnvH5ZGHGvmYdQ0WyMpTKuxrf2Bha3jyw2FIDo="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43633/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3cbfcdde18d9c1de5aac","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xqtMcKTt0Q8cQ/M9EnMqkVepjVA0ELcFi0O48vaoKo="},{"messageHash":"BqwCBVAw8kzpFjPWxgtAb8di0sB4lcZgY2Nyj6KwyB4="},{"messageHash":"SrP58ZJankoHb9u0k/CBo7fF8YO38Zh84LOZ6O1V+6Q="},{"messageHash":"LnfEjLK0rD+msP1+JQoVIi2rsK4Ce/NPIUY+bMl6Kfw="},{"messageHash":"uC3raX6QhPcaHlt1zmVh1nR2JLP7wugxeNC6JTHnA8A="},{"messageHash":"DXJvwOuFs1WkBmDk0RWExAu+FR84ntNS46EHajihwkE="},{"messageHash":"Y/R4hGiMH2YkoiF4QZJvdAGaAE8URCJaiacYUOMCM6w="},{"messageHash":"pceNshPPF3t+4NltWtoc6Gr6Jn+N/R3pi28n6WWdWEY="},{"messageHash":"mI7NO5IQ6xLALGnScQeHx9yaR4/7Q5AFWm9v7UpfnTg="},{"messageHash":"IXQo5bnvH5ZGHGvmYdQ0WyMpTKuxrf2Bha3jyw2FIDo="}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27258/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"faacd9b867d807759baf","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xqtMcKTt0Q8cQ/M9EnMqkVepjVA0ELcFi0O48vaoKo="},{"messageHash":"BqwCBVAw8kzpFjPWxgtAb8di0sB4lcZgY2Nyj6KwyB4="},{"messageHash":"SrP58ZJankoHb9u0k/CBo7fF8YO38Zh84LOZ6O1V+6Q="},{"messageHash":"LnfEjLK0rD+msP1+JQoVIi2rsK4Ce/NPIUY+bMl6Kfw="},{"messageHash":"uC3raX6QhPcaHlt1zmVh1nR2JLP7wugxeNC6JTHnA8A="},{"messageHash":"DXJvwOuFs1WkBmDk0RWExAu+FR84ntNS46EHajihwkE="},{"messageHash":"Y/R4hGiMH2YkoiF4QZJvdAGaAE8URCJaiacYUOMCM6w="},{"messageHash":"pceNshPPF3t+4NltWtoc6Gr6Jn+N/R3pi28n6WWdWEY="},{"messageHash":"mI7NO5IQ6xLALGnScQeHx9yaR4/7Q5AFWm9v7UpfnTg="},{"messageHash":"IXQo5bnvH5ZGHGvmYdQ0WyMpTKuxrf2Bha3jyw2FIDo="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ae4fb166afd1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9857f5c0b896
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2c97ede13185
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ae4fb166afd1. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9857f5c0b896. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.