[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:439 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.101
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11481', '11482', '11483', '11484', '11485']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11481:11481 -p 11482:11482 -p 11483:11483 -p 11484:11484 -p 11485:11485 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11483 --rest-port=11481 --tcp-port=11482 --discv5-udp-port=11484 --rest-address=0.0.0.0 --nat=extip:172.18.121.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fafac488c3cabf3fcc1cbc38de6794cebe7edbcc17f8e2f23d8cbfcb3ea5be8b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11485 --metrics-logging=true --relay=true --store=true --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.101 waku fad2eb3f3f6e1dd09b1698372bb03102f50b92cea76b1b9c462e40bfb621b37b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fad2eb3f3f6e. Setting up logs at ./log/docker/node6_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11481
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11481/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11481/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.101/tcp/11482/p2p/16Uiu2HAkv4aRME7EQuvFgHp4rMGFW2m2w7dEkSx8jfAsScbQR19M","/ip4/172.18.121.101/tcp/11483/ws/p2p/16Uiu2HAkv4aRME7EQuvFgHp4rMGFW2m2w7dEkSx8jfAsScbQR19M"],"enrUri":"enr:-L24QMMAZss_7evEIAVSgw60Kj8d5hbvh3O2D7RePtFOSjTzEGSatqDxaqF-cFmiP3wEOiC3R_R-vTwar-TavoIRBBMCgmlkgnY0gmlwhKwSeWWKbXVsdGlhZGRyc5YACASsEnllBizaAAoErBJ5ZQYs290DgnJzhQADAQAAiXNlY3AyNTZrMaECCXQ0NH6jTFyyJEsSE_9TPHDUOJbuWjZ74GdegB7uNpSDdGNwgizag3VkcIIs3IV3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11523', '11524', '11525', '11526', '11527']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11523:11523 -p 11524:11524 -p 11525:11525 -p 11526:11526 -p 11527:11527 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11525 --rest-port=11523 --tcp-port=11524 --discv5-udp-port=11526 --rest-address=0.0.0.0 --nat=extip:172.18.137.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=99aa1fcff01ecc3d5bcbdb6c7ea098dade9ca2f8e48b294b060bf1be80d58a9f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11527 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.121.101/tcp/11482/p2p/16Uiu2HAkv4aRME7EQuvFgHp4rMGFW2m2w7dEkSx8jfAsScbQR19M --discv5-bootstrap-node=enr:-L24QMMAZss_7evEIAVSgw60Kj8d5hbvh3O2D7RePtFOSjTzEGSatqDxaqF-cFmiP3wEOiC3R_R-vTwar-TavoIRBBMCgmlkgnY0gmlwhKwSeWWKbXVsdGlhZGRyc5YACASsEnllBizaAAoErBJ5ZQYs290DgnJzhQADAQAAiXNlY3AyNTZrMaECCXQ0NH6jTFyyJEsSE_9TPHDUOJbuWjZ74GdegB7uNpSDdGNwgizag3VkcIIs3IV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.137.19 waku f11da00146e1e757f2b7cc7731fabd1c3a7bd84bec801981e6c735c829f13e56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f11da00146e1. Setting up logs at ./log/docker/node4_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11523
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11523/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11523/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.19/tcp/11524/p2p/16Uiu2HAmU71sjPgSYENUKRMQLQdPV6JgFBaEHj4kQGajUUJLaneZ","/ip4/172.18.137.19/tcp/11525/ws/p2p/16Uiu2HAmU71sjPgSYENUKRMQLQdPV6JgFBaEHj4kQGajUUJLaneZ"],"enrUri":"enr:-L24QLo02tynLkwe49Btz85_c-IvCL_n4PyrffCXSQttyIqlG109sxioPUnjaPvkwfEItr2hZXUyJuNvprOVRQmvkVoCgmlkgnY0gmlwhKwSiROKbXVsdGlhZGRyc5YACASsEokTBi0EAAoErBKJEwYtBd0DgnJzhQADAQAAiXNlY3AyNTZrMaED5YohDFrbHxO7GMWst_8BkbOpavmUNxn4ldShBBMfaw6DdGNwgi0Eg3VkcIItBoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.177.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29484', '29485', '29486', '29487', '29488']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29484:29484 -p 29485:29485 -p 29486:29486 -p 29487:29487 -p 29488:29488 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29486 --rest-port=29484 --tcp-port=29485 --discv5-udp-port=29487 --rest-address=0.0.0.0 --nat=extip:172.18.177.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6e2f9ed5abab3976b0fb97b4f3c54fc0b5ee85fcce60f78ed59fe3456cf2b82d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29488 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QMMAZss_7evEIAVSgw60Kj8d5hbvh3O2D7RePtFOSjTzEGSatqDxaqF-cFmiP3wEOiC3R_R-vTwar-TavoIRBBMCgmlkgnY0gmlwhKwSeWWKbXVsdGlhZGRyc5YACASsEnllBizaAAoErBJ5ZQYs290DgnJzhQADAQAAiXNlY3AyNTZrMaECCXQ0NH6jTFyyJEsSE_9TPHDUOJbuWjZ74GdegB7uNpSDdGNwgizag3VkcIIs3IV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.177.95 waku c37120ef58cf11457c2e9aada1b1ff5c5b8d60700b202c7f59c2222f7dd664ef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c37120ef58cf. Setting up logs at ./log/docker/node7_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29484
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29484/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29484/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.95/tcp/29485/p2p/16Uiu2HAmPmp5in8emPARbWrA2PkgDAaaZrrC1jGA5dpJfYHS74Rd","/ip4/172.18.177.95/tcp/29486/ws/p2p/16Uiu2HAmPmp5in8emPARbWrA2PkgDAaaZrrC1jGA5dpJfYHS74Rd"],"enrUri":"enr:-L24QADvFaBITlIQHKqPoFU-0CCHmt3W3rf9Jyp8HZlgwFM4dzwcSywByoKLE2j-251-nZscTolKyz90LkAV7r7yhnICgmlkgnY0gmlwhKwSsV-KbXVsdGlhZGRyc5YACASsErFfBnMtAAoErBKxXwZzLt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpTAC5PkPLFzc4vz_l6Mi5cIl-2ceEEhI8k5W2t20ckCDdGNwgnMtg3VkcIJzL4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.168.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20654', '20655', '20656', '20657', '20658']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20654:20654 -p 20655:20655 -p 20656:20656 -p 20657:20657 -p 20658:20658 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20656 --rest-port=20654 --tcp-port=20655 --discv5-udp-port=20657 --rest-address=0.0.0.0 --nat=extip:172.18.168.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6fc5dbf326e9be73c9ae8c78fca8ea5cb3bd3ffd1d3b52c79a351bdfdedd9ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20658 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.177.95/tcp/29485/p2p/16Uiu2HAmPmp5in8emPARbWrA2PkgDAaaZrrC1jGA5dpJfYHS74Rd --discv5-bootstrap-node=enr:-L24QADvFaBITlIQHKqPoFU-0CCHmt3W3rf9Jyp8HZlgwFM4dzwcSywByoKLE2j-251-nZscTolKyz90LkAV7r7yhnICgmlkgnY0gmlwhKwSsV-KbXVsdGlhZGRyc5YACASsErFfBnMtAAoErBKxXwZzLt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpTAC5PkPLFzc4vz_l6Mi5cIl-2ceEEhI8k5W2t20ckCDdGNwgnMtg3VkcIJzL4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.168.120 waku 667abb74f22d893e7cd6abb151228f9b3d896bc9e881f6daab83de1476f77b0b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 667abb74f22d. Setting up logs at ./log/docker/node8_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20654
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20654/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20654/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.168.120/tcp/20655/p2p/16Uiu2HAmSGS5CEqi8cPz7fsWg3362rBeQsJvo5d4Bg8cz8poNDmK","/ip4/172.18.168.120/tcp/20656/ws/p2p/16Uiu2HAmSGS5CEqi8cPz7fsWg3362rBeQsJvo5d4Bg8cz8poNDmK"],"enrUri":"enr:-L24QIGj0O4xSknK-ca9VgHhKBQHD8S_e5BSX8i54GjXosg7Ro48o0QHOUn9FUicFENuic4kt9eEr7-QBCPb0UUzOtcCgmlkgnY0gmlwhKwSqHiKbXVsdGlhZGRyc5YACASsEqh4BlCvAAoErBKoeAZQsN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyjxXxtqYKXTThb5M4H1ITpcKqv0LtOWE76AqKGQ1tYKDdGNwglCvg3VkcIJQsYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58306', '58307', '58308', '58309', '58310']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58306:58306 -p 58307:58307 -p 58308:58308 -p 58309:58309 -p 58310:58310 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58308 --rest-port=58306 --tcp-port=58307 --discv5-udp-port=58309 --rest-address=0.0.0.0 --nat=extip:172.18.9.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=71d40cf58840745af27b0d3fa568982c3bda0c1ec4aa55ed8e149e14beb20ba3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58310 --metrics-logging=true --relay=false --filternode=/ip4/172.18.168.120/tcp/20655/p2p/16Uiu2HAmSGS5CEqi8cPz7fsWg3362rBeQsJvo5d4Bg8cz8poNDmK --storenode=/ip4/172.18.177.95/tcp/29485/p2p/16Uiu2HAmPmp5in8emPARbWrA2PkgDAaaZrrC1jGA5dpJfYHS74Rd --discv5-bootstrap-node=enr:-L24QADvFaBITlIQHKqPoFU-0CCHmt3W3rf9Jyp8HZlgwFM4dzwcSywByoKLE2j-251-nZscTolKyz90LkAV7r7yhnICgmlkgnY0gmlwhKwSsV-KbXVsdGlhZGRyc5YACASsErFfBnMtAAoErBKxXwZzLt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpTAC5PkPLFzc4vz_l6Mi5cIl-2ceEEhI8k5W2t20ckCDdGNwgnMtg3VkcIJzL4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.0 waku 8e0d3d313766731bf7d6419770ca9befb94f81b09cfe8b6e9e56307163895e7e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8e0d3d313766. Setting up logs at ./log/docker/node5_2024-12-27_13-44-18__385bf6e6-7c5d-43d5-8d78-8a0e09e302d4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58306
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58306/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58306/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.0/tcp/58307/p2p/16Uiu2HAmNiiNjTwUQCoEtWR5AmfjsqRDuWfDXDoEXmmyx3U5sxtx","/ip4/172.18.9.0/tcp/58308/ws/p2p/16Uiu2HAmNiiNjTwUQCoEtWR5AmfjsqRDuWfDXDoEXmmyx3U5sxtx"],"enrUri":"enr:-L24QIbDOJC325mz--7c61kbN3Z2RBG99Jp425VTKYskObZOLQGv3MPK2BC8tMPzmPAsHgv8TrrsNsdXmKm5j_V1AP0CgmlkgnY0gmlwhKwSCQCKbXVsdGlhZGRyc5YACASsEgkABuPDAAoErBIJAAbjxN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDlYkhHrecOpP2VqCnQvHafQT_cYvdO2mH2oimeXXRpHGDdGNwguPDg3VkcILjxYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:455 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11481/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29484/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20654/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11481/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.177.95/tcp/29485/p2p/16Uiu2HAmPmp5in8emPARbWrA2PkgDAaaZrrC1jGA5dpJfYHS74Rd","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29484/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.121.101/tcp/11482/p2p/16Uiu2HAkv4aRME7EQuvFgHp4rMGFW2m2w7dEkSx8jfAsScbQR19M","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20654/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.177.95/tcp/29485/p2p/16Uiu2HAmPmp5in8emPARbWrA2PkgDAaaZrrC1jGA5dpJfYHS74Rd","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:461 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58306/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:466 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11523/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1735307097795603968}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11481/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735307097795603968,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:470 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58306/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4ff3391cf0b672f41642","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"KLnpK2qoj6sjNZ3S26KnGFRZMXcEMl16M+v8XJK7vuQ="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:473 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20654/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e2cb61adcd2347ea250f","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"KLnpK2qoj6sjNZ3S26KnGFRZMXcEMl16M+v8XJK7vuQ="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:476 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58306/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1735307097795603968,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fad2eb3f3f6e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f11da00146e1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fad2eb3f3f6e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c37120ef58cf
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f11da00146e1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 667abb74f22d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c37120ef58cf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8e0d3d313766
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 667abb74f22d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.