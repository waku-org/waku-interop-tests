[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2024-08-24_04-18-13__4dfac440-7b50-4330-b846-fde74bf36903
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-24_04-18-13__4dfac440-7b50-4330-b846-fde74bf36903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.154.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['65406', '65407', '65408', '65409', '65410']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 65406:65406 -p 65407:65407 -p 65408:65408 -p 65409:65409 -p 65410:65410 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65408 --rest-port=65406 --tcp-port=65407 --discv5-udp-port=65409 --rest-address=0.0.0.0 --nat=extip:172.18.154.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8c69ded0262afaccdef27bd4f709ad56c9d1d95adffcdaddafdae7bb29d7d05e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65410 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.154.146 waku 46780daa35de494fcfadc842763d0cd4f0adb16cb359f9470084e5255809d408
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 46780daa35de. Setting up logs at ./log/docker/node1_2024-08-24_04-18-13__4dfac440-7b50-4330-b846-fde74bf36903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 65406
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65406/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65406/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.146/tcp/65407/p2p/16Uiu2HAkwy8n3BFwFTYKAQ12tnvNBZJX1P7GCJQUAG3miXjwunnJ","/ip4/172.18.154.146/tcp/65408/ws/p2p/16Uiu2HAkwy8n3BFwFTYKAQ12tnvNBZJX1P7GCJQUAG3miXjwunnJ"],"enrUri":"enr:-LO4QDqIchaj8f_IF8Nkd5EWxUrLTM0zQ_q01l8Q8KNvX2egPqQsr8ZR38EuZAzind0MmweW_Enr9N4n2iPxvexvCmwBgmlkgnY0gmlwhKwSmpKKbXVsdGlhZGRyc4wACgSsEpqSBv-A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlxq3DlcoHkFUV4K0NwPfHf7PYMAsYrVIiRmkaxNS1V4N0Y3CC_3-DdWRwgv-BhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-24_04-18-13__4dfac440-7b50-4330-b846-fde74bf36903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.80.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['13370', '13371', '13372', '13373', '13374']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 13370:13370 -p 13371:13371 -p 13372:13372 -p 13373:13373 -p 13374:13374 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13372 --rest-port=13370 --tcp-port=13371 --discv5-udp-port=13373 --rest-address=0.0.0.0 --nat=extip:172.18.80.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7b6dd75e52eecbcfacc61bad5eddbc27da87f5bfc9bb8774e8eaa01bccf133b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13374 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDqIchaj8f_IF8Nkd5EWxUrLTM0zQ_q01l8Q8KNvX2egPqQsr8ZR38EuZAzind0MmweW_Enr9N4n2iPxvexvCmwBgmlkgnY0gmlwhKwSmpKKbXVsdGlhZGRyc4wACgSsEpqSBv-A3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlxq3DlcoHkFUV4K0NwPfHf7PYMAsYrVIiRmkaxNS1V4N0Y3CC_3-DdWRwgv-BhXdha3UyBQ --filternode=/ip4/172.18.154.146/tcp/65407/p2p/16Uiu2HAkwy8n3BFwFTYKAQ12tnvNBZJX1P7GCJQUAG3miXjwunnJ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.80.15 waku 3bfb19280697f5d033f3adf98f154ede49adcd5f2212833bde6bc631ea8acb59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3bfb19280697. Setting up logs at ./log/docker/node2_2024-08-24_04-18-13__4dfac440-7b50-4330-b846-fde74bf36903__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 13370
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13370/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13370/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.15/tcp/13371/p2p/16Uiu2HAkxzDnh3G6nneo295g3RAuQq25kbVo8DtXf8p2UPzcXfYo","/ip4/172.18.80.15/tcp/13372/ws/p2p/16Uiu2HAkxzDnh3G6nneo295g3RAuQq25kbVo8DtXf8p2UPzcXfYo"],"enrUri":"enr:-LO4QDvej-TJ-WtvnblrgV3vm78DDIcMVy13TsZyrGWuNzVQUXx8riKi2VWeDBUADQ-qIt3bvkvPvhDLTzZ7-gRBjxUBgmlkgnY0gmlwhKwSUA-KbXVsdGlhZGRyc4wACgSsElAPBjQ83QOCcnOFAAMBAACJc2VjcDI1NmsxoQI06Zzc355qRFKiOk4ImjN1I3oC9cZHXmmnbFpJGZbdDIN0Y3CCNDuDdWRwgjQ9hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13370/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.146/tcp/65407/p2p/16Uiu2HAkwy8n3BFwFTYKAQ12tnvNBZJX1P7GCJQUAG3miXjwunnJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65406/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13370/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2125d01e-a245-467a-927b-0a772fa20d69", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2125d01e-a245-467a-927b-0a772fa20d69","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:13370/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:13370/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 46780daa35de
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 3bfb19280697
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.