[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.101
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12907', '12908', '12909', '12910', '12911']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12907:12907 -p 12908:12908 -p 12909:12909 -p 12910:12910 -p 12911:12911 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12909 --rest-port=12907 --tcp-port=12908 --discv5-udp-port=12910 --rest-address=0.0.0.0 --nat=extip:172.18.0.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8e82870bade95feccfe9dfa2cca7cc4afb473132fed8cea62efe8f55d1ebac2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12911 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.101 waku 118d82d7cc17dcc4fc950894d1f29afdf196795d37b03302f4a62711ef526cf9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 118d82d7cc17. Setting up logs at ./log/docker/receiving_node1_2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 12907
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 024b382ab709. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12907/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12907/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.101/tcp/12908/p2p/16Uiu2HAkvaW3Yjo2YpCKPD65ytWX2Pt4NdxBAK2FmCWRzYkkoguc","/ip4/172.18.0.101/tcp/12909/ws/p2p/16Uiu2HAkvaW3Yjo2YpCKPD65ytWX2Pt4NdxBAK2FmCWRzYkkoguc"],"enrUri":"enr:-L24QG4y4wdxeXxTf968QSh3BMaPiT5wm26Ad9mGnC5-z3RVfqmWUvJhixh3ZPAA0Pv3Ev4jRXtnGIQ8dl3UIeAu5EoCgmlkgnY0gmlwhKwSAGWKbXVsdGlhZGRyc5YACASsEgBlBjJsAAoErBIAZQYybd0DgnJzhQADAQAAiXNlY3AyNTZrMaECER6uLHC5QdAllBudJLRym0C4qDRioxwYxKb6-ZwKAWeDdGNwgjJsg3VkcIIyboV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34501', '34502', '34503', '34504', '34505']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34501:34501 -p 34502:34502 -p 34503:34503 -p 34504:34504 -p 34505:34505 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34503 --rest-port=34501 --tcp-port=34502 --discv5-udp-port=34504 --rest-address=0.0.0.0 --nat=extip:172.18.20.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faa4c9aaa56c0f8bfcbeb28f6baaba466b9ddac97faf25e9b3e73aa11e0b6bce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34505 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.167 waku 9c722422e28b07803c391b7f2e60cb368bfab31480eb03440f454c19c755bebc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9c722422e28b. Setting up logs at ./log/docker/receiving_node2_2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34501
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34501/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34501/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.167/tcp/34502/p2p/16Uiu2HAkxhrmWDiQ9XSSNtnEyKUaATRZsrXRLcVzszP48dazXtnB","/ip4/172.18.20.167/tcp/34503/ws/p2p/16Uiu2HAkxhrmWDiQ9XSSNtnEyKUaATRZsrXRLcVzszP48dazXtnB"],"enrUri":"enr:-L24QASsAJdmbK2-25L-ONS5pm37lo6FnUN3KgbnF8iODL7AagHYX0mkw-c9kZtdUn1rTkZgrMMSeuas2Gbwk4QRXBwCgmlkgnY0gmlwhKwSFKeKbXVsdGlhZGRyc5YACASsEhSnBobGAAoErBIUpwaGx90DgnJzhQADAQAAiXNlY3AyNTZrMaECMLiNSNfKRgvoCCQ-N20EVLFrmqB5bPcbhIEg6rHoeMiDdGNwgobGg3VkcIKGyIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34501/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.101/tcp/12908/p2p/16Uiu2HAkvaW3Yjo2YpCKPD65ytWX2Pt4NdxBAK2FmCWRzYkkoguc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.171.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45684', '45685', '45686', '45687', '45688']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45684:45684 -p 45685:45685 -p 45686:45686 -p 45687:45687 -p 45688:45688 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45686 --rest-port=45684 --tcp-port=45685 --discv5-udp-port=45687 --rest-address=0.0.0.0 --nat=extip:172.18.171.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=85e35e7119dcdc567f3e812da1320e9352000cad1ab2b92af2f07fe4397bb544 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45688 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QG4y4wdxeXxTf968QSh3BMaPiT5wm26Ad9mGnC5-z3RVfqmWUvJhixh3ZPAA0Pv3Ev4jRXtnGIQ8dl3UIeAu5EoCgmlkgnY0gmlwhKwSAGWKbXVsdGlhZGRyc5YACASsEgBlBjJsAAoErBIAZQYybd0DgnJzhQADAQAAiXNlY3AyNTZrMaECER6uLHC5QdAllBudJLRym0C4qDRioxwYxKb6-ZwKAWeDdGNwgjJsg3VkcIIyboV3YWt1Mgk --lightpushnode=/ip4/172.18.0.101/tcp/12908/p2p/16Uiu2HAkvaW3Yjo2YpCKPD65ytWX2Pt4NdxBAK2FmCWRzYkkoguc --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.171.79 waku 6fc94ecf0fccb7086fb3d6d0f3a204014bb58ae8f40715137b4d8bfc095e1af4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6fc94ecf0fcc. Setting up logs at ./log/docker/lightpush_node1_2024-12-21_04-12-25__4b0b9b7c-9452-4207-a7aa-7d7ab532fce7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 45684
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45684/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45684/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.79/tcp/45685/p2p/16Uiu2HAm1ZZkgBsrwCWVUhEJ6FmcTiQJjWFgXWwAVx2dqCaAjQDs","/ip4/172.18.171.79/tcp/45686/ws/p2p/16Uiu2HAm1ZZkgBsrwCWVUhEJ6FmcTiQJjWFgXWwAVx2dqCaAjQDs"],"enrUri":"enr:-L24QJvHz4Z698tQQfja5wHZzSOApuF_2IiNAxouY4CCWGr4fsDSQX77xiaiGnSQviK6CXE1-yQQZjTT5v44DaykLw8CgmlkgnY0gmlwhKwSq0-KbXVsdGlhZGRyc5YACASsEqtPBrJ1AAoErBKrTwaydt0DgnJzhQADAQAAiXNlY3AyNTZrMaECWyu6ZFcqLkDlQ7QOsruunc6J5RBI5b420MxMPgQcIaaDdGNwgrJ1g3VkcIKyd4V3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45684/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.101/tcp/12908/p2p/16Uiu2HAkvaW3Yjo2YpCKPD65ytWX2Pt4NdxBAK2FmCWRzYkkoguc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45684/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.167/tcp/34502/p2p/16Uiu2HAkxhrmWDiQ9XSSNtnEyKUaATRZsrXRLcVzszP48dazXtnB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12907/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34501/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45684/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1734754350241929984}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45684/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 118d82d7cc17
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9c722422e28b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 118d82d7cc17. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6fc94ecf0fcc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9c722422e28b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.