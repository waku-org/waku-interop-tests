[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-11-21_04-11-48__015bbf77-7887-4c67-a17c-683826194d99
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-21_04-11-48__015bbf77-7887-4c67-a17c-683826194d99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.64.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42219', '42220', '42221', '42222', '42223']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42219:42219 -p 42220:42220 -p 42221:42221 -p 42222:42222 -p 42223:42223 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42221 --rest-port=42219 --tcp-port=42220 --discv5-udp-port=42222 --rest-address=0.0.0.0 --nat=extip:172.18.64.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=61a1cbcdd92441efceba65efe365d2fcc2bdce97a3530ebeb34fbdda777fb1ff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42223 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.64.210 waku fe732d9496dabee8e74f8f5c2ef6700abb9170abd8ebbd687c50d3c552a38d3c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fe732d9496da. Setting up logs at ./log/docker/node1_2024-11-21_04-11-48__015bbf77-7887-4c67-a17c-683826194d99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 42219
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f6bbc840601d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42219/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42219/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.210/tcp/42220/p2p/16Uiu2HAkynU1xNZE5FMMrbdUfwA1i64cdYjczwywJcsGsYijTtd8","/ip4/172.18.64.210/tcp/42221/ws/p2p/16Uiu2HAkynU1xNZE5FMMrbdUfwA1i64cdYjczwywJcsGsYijTtd8"],"enrUri":"enr:-L24QNfj2PDqLdWj_bvocmUBzIVIejTYDsdLrooiCKHAjDRNRBCv1WEtRc6NhRFUxHrWMeY43cFoPKtXS5vMKyFDgKACgmlkgnY0gmlwhKwSQNKKbXVsdGlhZGRyc5YACASsEkDSBqTsAAoErBJA0gak7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECQMJrHEkDTPfFP_e1sKwt1qM1Xk7StGB1RF7XqpZjr2uDdGNwgqTsg3VkcIKk7oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-21_04-11-48__015bbf77-7887-4c67-a17c-683826194d99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8721', '8722', '8723', '8724', '8725']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8721:8721 -p 8722:8722 -p 8723:8723 -p 8724:8724 -p 8725:8725 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8723 --rest-port=8721 --tcp-port=8722 --discv5-udp-port=8724 --rest-address=0.0.0.0 --nat=extip:172.18.121.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3a6f1df668a1ba4a4dda74fe494a1eced9bbdda98a1da6badcc38eefcf4b6ed5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8725 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QNfj2PDqLdWj_bvocmUBzIVIejTYDsdLrooiCKHAjDRNRBCv1WEtRc6NhRFUxHrWMeY43cFoPKtXS5vMKyFDgKACgmlkgnY0gmlwhKwSQNKKbXVsdGlhZGRyc5YACASsEkDSBqTsAAoErBJA0gak7d0DgnJzhQADAQAAiXNlY3AyNTZrMaECQMJrHEkDTPfFP_e1sKwt1qM1Xk7StGB1RF7XqpZjr2uDdGNwgqTsg3VkcIKk7oV3YWt1MgU --filternode=/ip4/172.18.64.210/tcp/42220/p2p/16Uiu2HAkynU1xNZE5FMMrbdUfwA1i64cdYjczwywJcsGsYijTtd8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.241 waku d70149416e1bd7535162c6a0eaedb67e7063c4a0df61e5f6e46486abd4f3d282
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d70149416e1b. Setting up logs at ./log/docker/node2_2024-11-21_04-11-48__015bbf77-7887-4c67-a17c-683826194d99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 8721
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8721/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8721/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.241/tcp/8722/p2p/16Uiu2HAkybF68bWAMrDFYgoiN53AGXUnxgpmuEte8sJijApxXLk9","/ip4/172.18.121.241/tcp/8723/ws/p2p/16Uiu2HAkybF68bWAMrDFYgoiN53AGXUnxgpmuEte8sJijApxXLk9"],"enrUri":"enr:-L24QBEhQ4WnNncHvw0XsMTroeSi8sMw1BAaato4ELsBDsm4ccZYQPJz6UXKyaLwRsivopAJbTCnuL2m18MJHgPKsHkCgmlkgnY0gmlwhKwSefGKbXVsdGlhZGRyc5YACASsEnnxBiISAAoErBJ58QYiE90DgnJzhQADAQAAiXNlY3AyNTZrMaECPeJpabjQG27teck2MYbKJ1Wa57rT7ZFCf1seXg-jHzKDdGNwgiISg3VkcIIiFIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8721/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.64.210/tcp/42220/p2p/16Uiu2HAkynU1xNZE5FMMrbdUfwA1i64cdYjczwywJcsGsYijTtd8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42219/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8721/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8eaa972f-7fe5-427b-a142-4d247dc69a60", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8eaa972f-7fe5-427b-a142-4d247dc69a60","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8721/filter/v2/subscriptions/0b2a4761-06bc-441d-ab9d-efbbaffc6854" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0b2a4761-06bc-441d-ab9d-efbbaffc6854","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fe732d9496da
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id d70149416e1b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fe732d9496da. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.