[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.51.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4972', '4973', '4974', '4975', '4976']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4972:4972 -p 4973:4973 -p 4974:4974 -p 4975:4975 -p 4976:4976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4974 --rest-port=4972 --tcp-port=4973 --discv5-udp-port=4975 --rest-address=0.0.0.0 --nat=extip:172.18.51.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4eef6e8eb4893bdd0af93daca28ea92896dee475b3b5ea3de619612ad1b39fb5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4976 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.51.216 waku 9fb206fcf899f45fd9d2e3690cef7323ddfc9ccd2708d7afdd111ec349674d53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9fb206fcf899. Setting up logs at ./log/docker/node1_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 4972
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 86792150e8a7. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4972/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.216/tcp/4973/p2p/16Uiu2HAmUWSiVJe4jmpZTv6nBcJc4En23D7g8Dimb6VSY61GuHR4","/ip4/172.18.51.216/tcp/4974/ws/p2p/16Uiu2HAmUWSiVJe4jmpZTv6nBcJc4En23D7g8Dimb6VSY61GuHR4"],"enrUri":"enr:-L24QJEO1zJt8_MwOHrdwzs3433N2q2cACZjpSiWdmqN9VRsfSi9d6jWKQ1e__AAADcKBl1R1wgskDKh3ZEKNTb8r0ICgmlkgnY0gmlwhKwSM9iKbXVsdGlhZGRyc5YACASsEjPYBhNtAAoErBIz2AYTbt0DgnJzhQADAQAAiXNlY3AyNTZrMaED64qTOhBN6TCVDAK3Yipq1WJM17_oApfPbfoyF6L2pYODdGNwghNtg3VkcIITb4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.222.4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16337', '16338', '16339', '16340', '16341']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16337:16337 -p 16338:16338 -p 16339:16339 -p 16340:16340 -p 16341:16341 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16339 --rest-port=16337 --tcp-port=16338 --discv5-udp-port=16340 --rest-address=0.0.0.0 --nat=extip:172.18.222.4 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abe0fd4b2d9aad47b95bd64a8d174dc9becceeccbde6f44af6ce99507c3fec4c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16341 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJEO1zJt8_MwOHrdwzs3433N2q2cACZjpSiWdmqN9VRsfSi9d6jWKQ1e__AAADcKBl1R1wgskDKh3ZEKNTb8r0ICgmlkgnY0gmlwhKwSM9iKbXVsdGlhZGRyc5YACASsEjPYBhNtAAoErBIz2AYTbt0DgnJzhQADAQAAiXNlY3AyNTZrMaED64qTOhBN6TCVDAK3Yipq1WJM17_oApfPbfoyF6L2pYODdGNwghNtg3VkcIITb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.222.4 waku 3ddcc04163c94fe90f5d50ef57c108a5a5a98f6477f6ae394d4f81ecb1790a4a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3ddcc04163c9. Setting up logs at ./log/docker/node2_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 16337
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16337/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16337/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.4/tcp/16338/p2p/16Uiu2HAmDLdduPEvMEUfWwgtK7Q9PksyiMd2WgHq4QCEVRYJenyZ","/ip4/172.18.222.4/tcp/16339/ws/p2p/16Uiu2HAmDLdduPEvMEUfWwgtK7Q9PksyiMd2WgHq4QCEVRYJenyZ"],"enrUri":"enr:-L24QFeMroXVajfEm2XSox5hdy8cvrt6DYpZLmlNsQ4vH9_pWCPMrxRT-ol4cS-Hqo0Getn7wOb_MEbVQ59TQAzDBF8CgmlkgnY0gmlwhKwS3gSKbXVsdGlhZGRyc5YACASsEt4EBj_SAAoErBLeBAY_090DgnJzhQADAQAAiXNlY3AyNTZrMaEDCifPvPvW--ZnRUlN-hOTRA47FnAKx8IYrz-prQyIm1yDdGNwgj_Sg3VkcII_1IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16337/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.216/tcp/4973/p2p/16Uiu2HAmUWSiVJe4jmpZTv6nBcJc4En23D7g8Dimb6VSY61GuHR4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.166.131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31115', '31116', '31117', '31118', '31119']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31115:31115 -p 31116:31116 -p 31117:31117 -p 31118:31118 -p 31119:31119 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31117 --rest-port=31115 --tcp-port=31116 --discv5-udp-port=31118 --rest-address=0.0.0.0 --nat=extip:172.18.166.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1eb9e9aebbc84cf7abaa21abe0e6cb814b24bcceabad1fcbe07e56b8db52edb7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31119 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJEO1zJt8_MwOHrdwzs3433N2q2cACZjpSiWdmqN9VRsfSi9d6jWKQ1e__AAADcKBl1R1wgskDKh3ZEKNTb8r0ICgmlkgnY0gmlwhKwSM9iKbXVsdGlhZGRyc5YACASsEjPYBhNtAAoErBIz2AYTbt0DgnJzhQADAQAAiXNlY3AyNTZrMaED64qTOhBN6TCVDAK3Yipq1WJM17_oApfPbfoyF6L2pYODdGNwghNtg3VkcIITb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.166.131 waku f3799e513eccbbc336cc71cf2834fdc29b8cfac848f23cbe4fad4c7afe7a5002
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f3799e513ecc. Setting up logs at ./log/docker/node3_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 31115
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31115/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31115/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.131/tcp/31116/p2p/16Uiu2HAmLSn8jJCqGK97uFSesVqREQxjQob7UCbqpAVMXUmiiabZ","/ip4/172.18.166.131/tcp/31117/ws/p2p/16Uiu2HAmLSn8jJCqGK97uFSesVqREQxjQob7UCbqpAVMXUmiiabZ"],"enrUri":"enr:-L24QApoJ2px5mFCj8p_bDxVR07IfjmWrqetsd6_6ytglKRCZqn5hwqi2wB6lhJvYeqiqNJTtGMsb6qJNhhm1lZkIw4CgmlkgnY0gmlwhKwSpoOKbXVsdGlhZGRyc5YACASsEqaDBnmMAAoErBKmgwZ5jd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc7y2YEdgWnQ2Tn8ya6YfJUMWVUcqB4QL84rbfE6yRLCDdGNwgnmMg3VkcIJ5joV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31115/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.216/tcp/4973/p2p/16Uiu2HAmUWSiVJe4jmpZTv6nBcJc4En23D7g8Dimb6VSY61GuHR4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10379', '10380', '10381', '10382', '10383']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10379:10379 -p 10380:10380 -p 10381:10381 -p 10382:10382 -p 10383:10383 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10381 --rest-port=10379 --tcp-port=10380 --discv5-udp-port=10382 --rest-address=0.0.0.0 --nat=extip:172.18.68.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5df8a1def633e7a1f44a1ae0d531d4ce0d9bcd38be2c899b9bcc9cfa61eb1d54 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10383 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJEO1zJt8_MwOHrdwzs3433N2q2cACZjpSiWdmqN9VRsfSi9d6jWKQ1e__AAADcKBl1R1wgskDKh3ZEKNTb8r0ICgmlkgnY0gmlwhKwSM9iKbXVsdGlhZGRyc5YACASsEjPYBhNtAAoErBIz2AYTbt0DgnJzhQADAQAAiXNlY3AyNTZrMaED64qTOhBN6TCVDAK3Yipq1WJM17_oApfPbfoyF6L2pYODdGNwghNtg3VkcIITb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.86 waku 60b14ce05cdee4138fcfcbd16efd9a9cc1433e3bfef6168a5d0aa9ab0194cfd5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 60b14ce05cde. Setting up logs at ./log/docker/node4_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 10379
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10379/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10379/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.86/tcp/10380/p2p/16Uiu2HAmEy3CkHNrFkoRZ1L1F89iMx1jNykD7rr7hvqXTY58hmXw","/ip4/172.18.68.86/tcp/10381/ws/p2p/16Uiu2HAmEy3CkHNrFkoRZ1L1F89iMx1jNykD7rr7hvqXTY58hmXw"],"enrUri":"enr:-L24QDK_pn0UBQ0O8PXATAZTpcsFRtAVzE4Fs4WKDCWvhL7TURm8xSrvkPlNx-FfcnA2QLD5vLLCq8tAavE7468XELACgmlkgnY0gmlwhKwSRFaKbXVsdGlhZGRyc5YACASsEkRWBiiMAAoErBJEVgYojd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDIlcN0gGTmVrLz4wI7ONlSG1YvNUip_9XDRPfiKRNFiKDdGNwgiiMg3VkcIIojoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10379/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.216/tcp/4973/p2p/16Uiu2HAmUWSiVJe4jmpZTv6nBcJc4En23D7g8Dimb6VSY61GuHR4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.211.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37032', '37033', '37034', '37035', '37036']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37032:37032 -p 37033:37033 -p 37034:37034 -p 37035:37035 -p 37036:37036 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37034 --rest-port=37032 --tcp-port=37033 --discv5-udp-port=37035 --rest-address=0.0.0.0 --nat=extip:172.18.211.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcdafc9ff62eea6c1aabb4d8a34ca7a832aaeafdaeaaedd9ed0723e4d7fbee35 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37036 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJEO1zJt8_MwOHrdwzs3433N2q2cACZjpSiWdmqN9VRsfSi9d6jWKQ1e__AAADcKBl1R1wgskDKh3ZEKNTb8r0ICgmlkgnY0gmlwhKwSM9iKbXVsdGlhZGRyc5YACASsEjPYBhNtAAoErBIz2AYTbt0DgnJzhQADAQAAiXNlY3AyNTZrMaED64qTOhBN6TCVDAK3Yipq1WJM17_oApfPbfoyF6L2pYODdGNwghNtg3VkcIITb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.211.249 waku 5fff74741bea3df852c98ca04c6569302f2eb5795d9b1987bff44faf03a754e9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5fff74741bea. Setting up logs at ./log/docker/node5_2024-11-21_04-19-39__6d875b26-e512-4f6e-b991-bde40d35f79d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 37032
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37032/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.211.249/tcp/37033/p2p/16Uiu2HAkxjhKzdQeeamxXyZxKJhvC7C2Z1gqqKKJECuaocj4VutJ","/ip4/172.18.211.249/tcp/37034/ws/p2p/16Uiu2HAkxjhKzdQeeamxXyZxKJhvC7C2Z1gqqKKJECuaocj4VutJ"],"enrUri":"enr:-L24QCnfIlh79VRxT1YHuFZaYCv5Nsbv775OACOR4pLhR-GTa8MJV2mHZv3nxiqmaiUGBVlJhFuMtrSmmhBin73KRkACgmlkgnY0gmlwhKwS0_mKbXVsdGlhZGRyc5YACASsEtP5BpCpAAoErBLT-QaQqt0DgnJzhQADAQAAiXNlY3AyNTZrMaECMTEKNEMUp7VTzGHmOodz26YxeBFT-_Md7G3pquNlMX-DdGNwgpCpg3VkcIKQq4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37032/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.216/tcp/4973/p2p/16Uiu2HAmUWSiVJe4jmpZTv6nBcJc4En23D7g8Dimb6VSY61GuHR4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16337/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31115/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10379/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37032/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788432403712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16337/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788432403712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788432403712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10379/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788432403712,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788432403712,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788573597440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16337/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788573597440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31115/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788573597440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10379/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788573597440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37032/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732162788573597440,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 9fb206fcf899
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3ddcc04163c9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9fb206fcf899. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f3799e513ecc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3ddcc04163c9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 60b14ce05cde
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f3799e513ecc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5fff74741bea
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 60b14ce05cde. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.