[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_invalid_content_topics with id: 2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.203.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62657', '62658', '62659', '62660', '62661']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62657:62657 -p 62658:62658 -p 62659:62659 -p 62660:62660 -p 62661:62661 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62659 --rest-port=62657 --tcp-port=62658 --discv5-udp-port=62660 --rest-address=0.0.0.0 --nat=extip:172.18.203.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aaf9dac169447236ac11a9baa66165b978c4ba2ac878a35bbbaccf890dc2a58d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62661 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.203.203 waku 9d1cd14e88f14d5221bcbdcb4590cede450a15e91743af7fb865b95decc8f88e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9d1cd14e88f1. Setting up logs at ./log/docker/receiving_node1_2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62657
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 459f8c10405f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62657/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62657/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.203/tcp/62658/p2p/16Uiu2HAmDcPcmQ9JnowofR7nTpWANPGwDS8KZhvM7pmCTVyn7JmG","/ip4/172.18.203.203/tcp/62659/ws/p2p/16Uiu2HAmDcPcmQ9JnowofR7nTpWANPGwDS8KZhvM7pmCTVyn7JmG"],"enrUri":"enr:-L24QOaPJ5m_6I8hqKJo2NWVD0IDnCxkR-Ji11RKH3xkfJGAbihc_r6rzaLAt35UTDcrd-GUAnhrgsYpEFsD0d54WAQCgmlkgnY0gmlwhKwSy8uKbXVsdGlhZGRyc5YACASsEsvLBvTCAAoErBLLywb0w90DgnJzhQADAQAAiXNlY3AyNTZrMaEDDjFAnNz3T8EQw36kR3zUsRNAcSbjFDxOUw_FLRkDvCuDdGNwgvTCg3VkcIL0xIV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.145.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48867', '48868', '48869', '48870', '48871']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48867:48867 -p 48868:48868 -p 48869:48869 -p 48870:48870 -p 48871:48871 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48869 --rest-port=48867 --tcp-port=48868 --discv5-udp-port=48870 --rest-address=0.0.0.0 --nat=extip:172.18.145.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0d534bedd0053f331a223904acafab7903d29db5ebb3e2bc903ebcc1e113c1ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48871 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.145.126 waku 8a6c9e2b2082b94822b74ad1dc5931eed8c6edc814a4c74e938f3a417016d00a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8a6c9e2b2082. Setting up logs at ./log/docker/receiving_node2_2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 48867
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48867/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48867/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.126/tcp/48868/p2p/16Uiu2HAmGyJ2xwGpRKzigUD4BRNi74HF35LtSUAGy6pmBJUHK6T4","/ip4/172.18.145.126/tcp/48869/ws/p2p/16Uiu2HAmGyJ2xwGpRKzigUD4BRNi74HF35LtSUAGy6pmBJUHK6T4"],"enrUri":"enr:-L24QA_nWXBscC3Zgjp_yXl-XApPWolxUGVbibQj7uVmRRHdPtIcw3Ylq1r_UoUKHLYwaVIpt02ivlFf_7GP0Y_FXzcCgmlkgnY0gmlwhKwSkX6KbXVsdGlhZGRyc5YACASsEpF-Br7kAAoErBKRfga-5d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQB8ynD6sg9g0oy2WA_jy24L2Uri1jbU5NWZuXj1cYIuDdGNwgr7kg3VkcIK-5oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48867/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.203.203/tcp/62658/p2p/16Uiu2HAmDcPcmQ9JnowofR7nTpWANPGwDS8KZhvM7pmCTVyn7JmG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.166.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41274', '41275', '41276', '41277', '41278']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41274:41274 -p 41275:41275 -p 41276:41276 -p 41277:41277 -p 41278:41278 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41276 --rest-port=41274 --tcp-port=41275 --discv5-udp-port=41277 --rest-address=0.0.0.0 --nat=extip:172.18.166.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc9ac121d7b36d1b8fefbeff95a9ef0818766dba0baf866bbdcd81a32067faaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41278 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOaPJ5m_6I8hqKJo2NWVD0IDnCxkR-Ji11RKH3xkfJGAbihc_r6rzaLAt35UTDcrd-GUAnhrgsYpEFsD0d54WAQCgmlkgnY0gmlwhKwSy8uKbXVsdGlhZGRyc5YACASsEsvLBvTCAAoErBLLywb0w90DgnJzhQADAQAAiXNlY3AyNTZrMaEDDjFAnNz3T8EQw36kR3zUsRNAcSbjFDxOUw_FLRkDvCuDdGNwgvTCg3VkcIL0xIV3YWt1Mgk --lightpushnode=/ip4/172.18.203.203/tcp/62658/p2p/16Uiu2HAmDcPcmQ9JnowofR7nTpWANPGwDS8KZhvM7pmCTVyn7JmG --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.166.15 waku c863cc0145bd607c2669dccdf123c323794159a89d9686ad09712b419a153764
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c863cc0145bd. Setting up logs at ./log/docker/lightpush_node1_2025-01-17_04-02-52__0f9a6eed-e74e-461a-b81a-6098e8550987__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 41274
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41274/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41274/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.15/tcp/41275/p2p/16Uiu2HAmVLH2gSfpjv3MuYZWSKKk8NnE8L49iALorEWbDnE11S1J","/ip4/172.18.166.15/tcp/41276/ws/p2p/16Uiu2HAmVLH2gSfpjv3MuYZWSKKk8NnE8L49iALorEWbDnE11S1J"],"enrUri":"enr:-L24QNAUCvh1OR7Z7rFoZ7kWScwB2ShGxqLwZy99eCBrfhx6N2IKJSOjnuFnzKK5NzamUioCHMIXdKNoMoraX7iSMx0CgmlkgnY0gmlwhKwSpg-KbXVsdGlhZGRyc5YACASsEqYPBqE7AAoErBKmDwahPN0DgnJzhQADAQAAiXNlY3AyNTZrMaED98uAZfvH3YnYk6aPIlmy_zjgJgtshA4OiMi2JV1FaPWDdGNwgqE7g3VkcIKhPYV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.203.203/tcp/62658/p2p/16Uiu2HAmDcPcmQ9JnowofR7nTpWANPGwDS8KZhvM7pmCTVyn7JmG"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.126/tcp/48868/p2p/16Uiu2HAmGyJ2xwGpRKzigUD4BRNi74HF35LtSUAGy6pmBJUHK6T4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62657/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48867/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:93 Running test with contetn topic Empty string
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "", "timestamp": 1737086576103443712}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41274/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:93 Running test with contetn topic A dictionary
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": {"key": "YWFh"}, "timestamp": 1737086576110073344}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41274/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:93 Running test with contetn topic An integer
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": 1234567890, "timestamp": 1737086576113057024}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41274/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:93 Running test with contetn topic A list
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": ["YWFh"], "timestamp": 1737086576115991296}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41274/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.light_push.test_publish:test_publish.py:93 Running test with contetn topic A bool
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41274/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": true, "timestamp": 1737086576119088640}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41274/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9d1cd14e88f1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8a6c9e2b2082
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9d1cd14e88f1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c863cc0145bd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8a6c9e2b2082. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.