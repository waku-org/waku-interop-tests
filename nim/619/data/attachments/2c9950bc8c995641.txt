[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.215.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21735', '21736', '21737', '21738', '21739']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21735:21735 -p 21736:21736 -p 21737:21737 -p 21738:21738 -p 21739:21739 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21737 --rest-port=21735 --tcp-port=21736 --discv5-udp-port=21738 --rest-address=0.0.0.0 --nat=extip:172.18.215.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2fb63ad98759b68caadee2a4fdd9d3863ded361ec52bf71c6afa7bc46ee1fede --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21739 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.215.36 waku 356a4593a1769811493199a499019340a6095ecbbb2af5aca6f45224d101f751
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 356a4593a176. Setting up logs at ./log/docker/node1_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 21735
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bd20da94c5f4. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21735/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21735/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.36/tcp/21736/p2p/16Uiu2HAmTYjHa6pzqYVdrYeL1rYE8GnjHSx6K6JGLHkdNdhkjFFN","/ip4/172.18.215.36/tcp/21737/ws/p2p/16Uiu2HAmTYjHa6pzqYVdrYeL1rYE8GnjHSx6K6JGLHkdNdhkjFFN"],"enrUri":"enr:-L24QMbLBO00VzCALFyOAVHXoQnUP3hNwbaP-kvijMx3-7R7Rp4RcGB4wG4ogLYiKSiL93-yPfoT1DbYPG7NGn-OlhgCgmlkgnY0gmlwhKwS1ySKbXVsdGlhZGRyc5YACASsEtckBlToAAoErBLXJAZU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaED3UTJNyVfUedeYWpKmE3mAmmVYT2h5Z8fxltWeRmgv_mDdGNwglTog3VkcIJU6oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.90.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19722', '19723', '19724', '19725', '19726']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19722:19722 -p 19723:19723 -p 19724:19724 -p 19725:19725 -p 19726:19726 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19724 --rest-port=19722 --tcp-port=19723 --discv5-udp-port=19725 --rest-address=0.0.0.0 --nat=extip:172.18.90.218 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7d52a1beeec208dd0ddf14583326bcd3ddec9cdaebddaefea54202c14fcc1ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19726 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMbLBO00VzCALFyOAVHXoQnUP3hNwbaP-kvijMx3-7R7Rp4RcGB4wG4ogLYiKSiL93-yPfoT1DbYPG7NGn-OlhgCgmlkgnY0gmlwhKwS1ySKbXVsdGlhZGRyc5YACASsEtckBlToAAoErBLXJAZU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaED3UTJNyVfUedeYWpKmE3mAmmVYT2h5Z8fxltWeRmgv_mDdGNwglTog3VkcIJU6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.90.218 waku 66b60bb2e0c0f9ca4b7059877e32d0b14cf5af6cef091a59b04b720de8dfa5ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 66b60bb2e0c0. Setting up logs at ./log/docker/node2_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19722
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19722/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19722/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.218/tcp/19723/p2p/16Uiu2HAmNbEjj1ChVn2JL6NknX2uE1VE61MjtvvYwHbhW2HQKXL5","/ip4/172.18.90.218/tcp/19724/ws/p2p/16Uiu2HAmNbEjj1ChVn2JL6NknX2uE1VE61MjtvvYwHbhW2HQKXL5"],"enrUri":"enr:-L24QCdE1LWukO2pDVBXA9vlPEyXp_MuPFzxlO-pykDPAFx8EemC1TKp0ytLKt1FhxQQVyM0bHtCMyMdfDVEqY2NQPcCgmlkgnY0gmlwhKwSWtqKbXVsdGlhZGRyc5YACASsElraBk0LAAoErBJa2gZNDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDk57QMQlSiQR06ZzIbDNI2vCdBn_g3wsSo5sgQAnbXoqDdGNwgk0Lg3VkcIJNDYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19722/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.215.36/tcp/21736/p2p/16Uiu2HAmTYjHa6pzqYVdrYeL1rYE8GnjHSx6K6JGLHkdNdhkjFFN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.185.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34418', '34419', '34420', '34421', '34422']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34418:34418 -p 34419:34419 -p 34420:34420 -p 34421:34421 -p 34422:34422 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34420 --rest-port=34418 --tcp-port=34419 --discv5-udp-port=34421 --rest-address=0.0.0.0 --nat=extip:172.18.185.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb2f2f6ffdaaafec58df735c4b80e33a8bcad3ce8aacb71db181bb82dce642fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34422 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMbLBO00VzCALFyOAVHXoQnUP3hNwbaP-kvijMx3-7R7Rp4RcGB4wG4ogLYiKSiL93-yPfoT1DbYPG7NGn-OlhgCgmlkgnY0gmlwhKwS1ySKbXVsdGlhZGRyc5YACASsEtckBlToAAoErBLXJAZU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaED3UTJNyVfUedeYWpKmE3mAmmVYT2h5Z8fxltWeRmgv_mDdGNwglTog3VkcIJU6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.185.57 waku d0f95ecd4f6ef4a45f4a3292e75b23b51555077587cce3b18015cc6e9de4589c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d0f95ecd4f6e. Setting up logs at ./log/docker/node3_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34418
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34418/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34418/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.57/tcp/34419/p2p/16Uiu2HAmMMXWwmtMtMay3YGhTuimVdwEFuHE4USAN7XV6W82MPBT","/ip4/172.18.185.57/tcp/34420/ws/p2p/16Uiu2HAmMMXWwmtMtMay3YGhTuimVdwEFuHE4USAN7XV6W82MPBT"],"enrUri":"enr:-L24QDqgUeRXly31UNWkpWwexHQgb8aJ-NrKo-E3QgzXNQOZPDRTTTPlKFHE3n_DdYhv5TebtlbCkCUnVARco_AQwAsCgmlkgnY0gmlwhKwSuTmKbXVsdGlhZGRyc5YACASsErk5BoZzAAoErBK5OQaGdN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgT_3wrgAVnixVpccVxHAdUyzk84tx7WlM6sEomwO9MaDdGNwgoZzg3VkcIKGdYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34418/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.215.36/tcp/21736/p2p/16Uiu2HAmTYjHa6pzqYVdrYeL1rYE8GnjHSx6K6JGLHkdNdhkjFFN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.2.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9921', '9922', '9923', '9924', '9925']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9921:9921 -p 9922:9922 -p 9923:9923 -p 9924:9924 -p 9925:9925 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9923 --rest-port=9921 --tcp-port=9922 --discv5-udp-port=9924 --rest-address=0.0.0.0 --nat=extip:172.18.2.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4b43e3d55ceb07c96f6ca6bdefd8b6b4db2caa3cbb7aa847a6c07ec1e51b5aa1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9925 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMbLBO00VzCALFyOAVHXoQnUP3hNwbaP-kvijMx3-7R7Rp4RcGB4wG4ogLYiKSiL93-yPfoT1DbYPG7NGn-OlhgCgmlkgnY0gmlwhKwS1ySKbXVsdGlhZGRyc5YACASsEtckBlToAAoErBLXJAZU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaED3UTJNyVfUedeYWpKmE3mAmmVYT2h5Z8fxltWeRmgv_mDdGNwglTog3VkcIJU6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.2.14 waku adb0bfe6ac7d6734e54710fc1d3898001ea5458ed71baa6b9e9e861254972b66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID adb0bfe6ac7d. Setting up logs at ./log/docker/node4_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9921
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9921/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9921/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.2.14/tcp/9922/p2p/16Uiu2HAmNB9MM1eoxao9NGDAEpjVAzTKoHtU6MMF9NJ7D9x9CYB6","/ip4/172.18.2.14/tcp/9923/ws/p2p/16Uiu2HAmNB9MM1eoxao9NGDAEpjVAzTKoHtU6MMF9NJ7D9x9CYB6"],"enrUri":"enr:-L24QMIAqZxGYV10Fd4KF7QVZRvRokD-ma5ZcLN6abl1uvHvGFbLeAIVoypoIWavCK7n1tKGU96orWHHFnf6KdC2OxECgmlkgnY0gmlwhKwSAg6KbXVsdGlhZGRyc5YACASsEgIOBibCAAoErBICDgYmw90DgnJzhQADAQAAiXNlY3AyNTZrMaEDjXLItmAw10aFiab4HakHXfaFqmmM19izlnDUn-vQ6z2DdGNwgibCg3VkcIImxIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9921/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.215.36/tcp/21736/p2p/16Uiu2HAmTYjHa6pzqYVdrYeL1rYE8GnjHSx6K6JGLHkdNdhkjFFN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.87.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42398', '42399', '42400', '42401', '42402']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42398:42398 -p 42399:42399 -p 42400:42400 -p 42401:42401 -p 42402:42402 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42400 --rest-port=42398 --tcp-port=42399 --discv5-udp-port=42401 --rest-address=0.0.0.0 --nat=extip:172.18.87.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bde7f7b73cfd1a8a9402aac19f4ed5a0defefab4af50fcb5e54fceffad101d7d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42402 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMbLBO00VzCALFyOAVHXoQnUP3hNwbaP-kvijMx3-7R7Rp4RcGB4wG4ogLYiKSiL93-yPfoT1DbYPG7NGn-OlhgCgmlkgnY0gmlwhKwS1ySKbXVsdGlhZGRyc5YACASsEtckBlToAAoErBLXJAZU6d0DgnJzhQADAQAAiXNlY3AyNTZrMaED3UTJNyVfUedeYWpKmE3mAmmVYT2h5Z8fxltWeRmgv_mDdGNwglTog3VkcIJU6oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.87.102 waku b9bc593e725ca13237132acfbb4863f4fde7b761358e6cd6c11811bebea3983d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b9bc593e725c. Setting up logs at ./log/docker/node5_2025-01-17_04-03-18__e6de11d0-5597-48ad-a813-e9e60246bdfe__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42398
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42398/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42398/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.87.102/tcp/42399/p2p/16Uiu2HAkyjH9QVcghjkFDunvhNccqjMEbJWmmN5DqjwmprxMitJD","/ip4/172.18.87.102/tcp/42400/ws/p2p/16Uiu2HAkyjH9QVcghjkFDunvhNccqjMEbJWmmN5DqjwmprxMitJD"],"enrUri":"enr:-L24QPram9_zU8z2cP_uTF6Ydpv1wMMep01MsrVPiGS6WwgXSMLDCO7fHcf-7cwXs7-qhmS4zkshKVbCQnxe-AAxUpICgmlkgnY0gmlwhKwSV2aKbXVsdGlhZGRyc5YACASsEldmBqWfAAoErBJXZgaloN0DgnJzhQADAQAAiXNlY3AyNTZrMaECP_FiK5gwNeboDdUwhX49L0ElQKuMHLHZp7kbEP0_rNqDdGNwgqWfg3VkcIKloYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42398/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.215.36/tcp/21736/p2p/16Uiu2HAmTYjHa6pzqYVdrYeL1rYE8GnjHSx6K6JGLHkdNdhkjFFN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21735/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19722/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34418/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9921/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42398/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21735/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21735/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605195649024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19722/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605195649024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34418/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605195649024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9921/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605195649024,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605195649024,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21735/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21735/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605322549504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19722/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605322549504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34418/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605322549504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9921/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605322549504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737086605322549504,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 356a4593a176
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 66b60bb2e0c0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 356a4593a176. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d0f95ecd4f6e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 66b60bb2e0c0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id adb0bfe6ac7d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b9bc593e725c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d0f95ecd4f6e. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container adb0bfe6ac7d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.