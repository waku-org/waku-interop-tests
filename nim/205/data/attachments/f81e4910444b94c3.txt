[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_get_store_messages_with_different_content_topics with id: 2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:26 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.28.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4563', '4564', '4565', '4566', '4567']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4563:4563 -p 4564:4564 -p 4565:4565 -p 4566:4566 -p 4567:4567 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4565 --rest-port=4563 --tcp-port=4564 --discv5-udp-port=4566 --rest-address=0.0.0.0 --nat=extip:172.18.28.223 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4567 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.28.223 waku 249d2ada7a8a5fc726f7af76e6f59f5665559fd2f0ee86e4987ce923515828de
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 249d2ada7a8a. Setting up logs at ./log/docker/publishing_node1_2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 4563
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.28.223/tcp/4564/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.28.223/tcp/4565/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QIsLVCvh7l-PjJWjFbCPC5YCH0d95yViMgkM4smFSc55NvKc7FwUrEUJjjgS-JOwhCoI3M9aofE-VGt1s6ndLPgBgmlkgnY0gmlwhKwSHN-KbXVsdGlhZGRyc4wACgSsEhzfBhHV3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCEdSDdWRwghHWhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.215.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32925', '32926', '32927', '32928', '32929']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32925:32925 -p 32926:32926 -p 32927:32927 -p 32928:32928 -p 32929:32929 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32927 --rest-port=32925 --tcp-port=32926 --discv5-udp-port=32928 --rest-address=0.0.0.0 --nat=extip:172.18.215.55 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32929 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIsLVCvh7l-PjJWjFbCPC5YCH0d95yViMgkM4smFSc55NvKc7FwUrEUJjjgS-JOwhCoI3M9aofE-VGt1s6ndLPgBgmlkgnY0gmlwhKwSHN-KbXVsdGlhZGRyc4wACgSsEhzfBhHV3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCEdSDdWRwghHWhXdha3UyAw --storenode=/ip4/172.18.28.223/tcp/4564/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.215.55 waku c632d983f8d011b327d02b5d31310fec2409a76ed5421ccfd7e573941e7545ed
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c632d983f8d0. Setting up logs at ./log/docker/store_node1_2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 32925
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32925/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32925/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.55/tcp/32926/p2p/16Uiu2HAm2heWtDnA8HcWd2dMZWw6cZYDTAbPvFTFQcWPrwvyWz9F","/ip4/172.18.215.55/tcp/32927/ws/p2p/16Uiu2HAm2heWtDnA8HcWd2dMZWw6cZYDTAbPvFTFQcWPrwvyWz9F"],"enrUri":"enr:-LO4QBbK7SItz5pQuPl_FygUStcRSgjiRndHX_YLnbkIBPy5MpFzyeyvYNQ2E2kwmj9g_gnJWhcRAXlA9hDzQiYm_fkBgmlkgnY0gmlwhKwS1zeKbXVsdGlhZGRyc4wACgSsEtc3BoCf3QOCcnOFAAABAACJc2VjcDI1NmsxoQJsGXI1WVSDWXF5Tmp2XuvmL9gUOqC_G4uvJeCs0_S7CoN0Y3CCgJ6DdWRwgoCghXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32925/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.28.223/tcp/4564/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32925/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"Iv9VY+vY1R7qG4yqmGBpolW1EZ7oEhkNdasxdbAAav0="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /myapp/1/latest/proto failed: Message hash returned by store doesn't match the computed message hash Iv9VY+vY1R7qG4yqmGBpolW1EZ7oEhkNdasxdbAAav0=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"icEIrVxSsDYJD30C2N6SSiZA9DwnCaQuXIXK07bmdVo="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /waku/2/content/test.js failed: Message hash returned by store doesn't match the computed message hash icEIrVxSsDYJD30C2N6SSiZA9DwnCaQuXIXK07bmdVo=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"FqIEO2rys8tMUJsZTGaZapy7YdRBPG1Fb09hGE3fTts="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/22/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash FqIEO2rys8tMUJsZTGaZapy7YdRBPG1Fb09hGE3fTts=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"0/QquyUVA9lOx23RxhW8ZvH4Nv5Ag03H1CM5pz+Jytc="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /toychat/2/huilong/proto failed: Message hash returned by store doesn't match the computed message hash 0/QquyUVA9lOx23RxhW8ZvH4Nv5Ag03H1CM5pz+Jytc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"4zaHKi7XZfMrpPMPHJ8sEASTXTkGNXP3Z3c2kgttuW4="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /statusim/1/community/cbor failed: Message hash returned by store doesn't match the computed message hash 4zaHKi7XZfMrpPMPHJ8sEASTXTkGNXP3Z3c2kgttuW4=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"XYM8bVpff494QOd6scqDVMlMeVERN81GJGwdRpYiCQ4="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/27/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash XYM8bVpff494QOd6scqDVMlMeVERN81GJGwdRpYiCQ4=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"6TgM5zLVneyJFwIeTfOIOxAON96i2y/fH1N9m3OB8oU="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/29/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash 6TgM5zLVneyJFwIeTfOIOxAON96i2y/fH1N9m3OB8oU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4563/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4563/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"asb0muIj7Qzz2XGSfLCEnHYse0QwfjyZt9wsic5xXTw="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/20/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash asb0muIj7Qzz2XGSfLCEnHYse0QwfjyZt9wsic5xXTw=
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 249d2ada7a8a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id c632d983f8d0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:65 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:66 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-05-22_16-05-47__8801a2dd-8ffc-4a3e-96ab-46bef98afa9e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_get_store_messages_with_different_content_topics with id: 2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:26 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.229.92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['27452', '27453', '27454', '27455', '27456']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 27452:27452 -p 27453:27453 -p 27454:27454 -p 27455:27455 -p 27456:27456 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27454 --rest-port=27452 --tcp-port=27453 --discv5-udp-port=27455 --rest-address=0.0.0.0 --nat=extip:172.18.229.92 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27456 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.229.92 waku 759a2afc27e0cf09f5e9f7b532dd63cdea64841437292dd7ce7d2440486de7f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 759a2afc27e0. Setting up logs at ./log/docker/publishing_node1_2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 27452
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.92/tcp/27453/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.229.92/tcp/27454/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QBF0Expf0kZnAb53CGUNAirj99l1LRCc9E7FZQeA9nYfe_z7Cw-S2eziA0s4MV_1yuTVPyw7LwSnrJ6Ep71SyrABgmlkgnY0gmlwhKwS5VyKbXVsdGlhZGRyc4wACgSsEuVcBms-3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCaz2DdWRwgms_hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.144.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['20928', '20929', '20930', '20931', '20932']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 20928:20928 -p 20929:20929 -p 20930:20930 -p 20931:20931 -p 20932:20932 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20930 --rest-port=20928 --tcp-port=20929 --discv5-udp-port=20931 --rest-address=0.0.0.0 --nat=extip:172.18.144.116 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20932 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBF0Expf0kZnAb53CGUNAirj99l1LRCc9E7FZQeA9nYfe_z7Cw-S2eziA0s4MV_1yuTVPyw7LwSnrJ6Ep71SyrABgmlkgnY0gmlwhKwS5VyKbXVsdGlhZGRyc4wACgSsEuVcBms-3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCaz2DdWRwgms_hXdha3UyAw --storenode=/ip4/172.18.229.92/tcp/27453/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.144.116 waku e46d5ca48741fbc8de3a01668ff54ad6595631cdaff5d535baca363a03a91164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e46d5ca48741. Setting up logs at ./log/docker/store_node1_2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 20928
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20928/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20928/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.144.116/tcp/20929/p2p/16Uiu2HAmSEEVpSHrqHNHa8wK5v29WujT7qBzvHpd6sy4b35t7Qv3","/ip4/172.18.144.116/tcp/20930/ws/p2p/16Uiu2HAmSEEVpSHrqHNHa8wK5v29WujT7qBzvHpd6sy4b35t7Qv3"],"enrUri":"enr:-LO4QJSb-EurRq50ZttZMJJuzo8V9cvcDHwdOyWd26lfTDXfVF4FDRzzgRkWW53B0DSpi9RS1Dh1R5OP2fFkkEWXrUMBgmlkgnY0gmlwhKwSkHSKbXVsdGlhZGRyc4wACgSsEpB0BlHC3QOCcnOFAAABAACJc2VjcDI1NmsxoQPJrBfFtmDfiAP8TkAf9661r86SjBz2ZKb7SJVkNRXcYIN0Y3CCUcGDdWRwglHDhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20928/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.229.92/tcp/27453/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20928/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"0S9oRSTs8mfQpiid9T9GnqL2Fxm01SmmBHuNI0i8e8g="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /myapp/1/latest/proto failed: Message hash returned by store doesn't match the computed message hash 0S9oRSTs8mfQpiid9T9GnqL2Fxm01SmmBHuNI0i8e8g=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"6T7t5twlON9tI+690TtbBIYQXneEdK/rIWJx+0cxHPY="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /waku/2/content/test.js failed: Message hash returned by store doesn't match the computed message hash 6T7t5twlON9tI+690TtbBIYQXneEdK/rIWJx+0cxHPY=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"oy7te6f/T4e3tDsTWHT95NGJd5rcdJh0ZrqqHbAAwio="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/22/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash oy7te6f/T4e3tDsTWHT95NGJd5rcdJh0ZrqqHbAAwio=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"sub06/Xy5KagNQSj4+SGUC1z/LqoOqqZqVUREvqApao="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /toychat/2/huilong/proto failed: Message hash returned by store doesn't match the computed message hash sub06/Xy5KagNQSj4+SGUC1z/LqoOqqZqVUREvqApao=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"I5dcLqACJDHISarhJvMigNp9DZgmMuFcUXlDxXZXOtM="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /statusim/1/community/cbor failed: Message hash returned by store doesn't match the computed message hash I5dcLqACJDHISarhJvMigNp9DZgmMuFcUXlDxXZXOtM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"YhOX09eUtbE+z+SdFLMh+RJeLPTCoVcQ/9bVotp7ZJk="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/27/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash YhOX09eUtbE+z+SdFLMh+RJeLPTCoVcQ/9bVotp7ZJk=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"7XtuhElNo1O3mKTTyotuoALoB3enJ73KKd2kDoAaEHU="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/29/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash 7XtuhElNo1O3mKTTyotuoALoB3enJ73KKd2kDoAaEHU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27452/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"aSWaZs35mM/BoRFo6qagwjU0qeVJ2zLeSCznW3i6mRA="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/20/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash aSWaZs35mM/BoRFo6qagwjU0qeVJ2zLeSCznW3i6mRA=
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 759a2afc27e0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id e46d5ca48741
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:65 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:66 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-05-22_16-06-04__4f2932d9-734a-472b-92a3-84363492062e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_get_store_messages_with_different_content_topics with id: 2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:26 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.51.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['19009', '19010', '19011', '19012', '19013']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 19009:19009 -p 19010:19010 -p 19011:19011 -p 19012:19012 -p 19013:19013 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19011 --rest-port=19009 --tcp-port=19010 --discv5-udp-port=19012 --rest-address=0.0.0.0 --nat=extip:172.18.51.19 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19013 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.51.19 waku 5295b47e1327e15518b28c33682e11eed8523233509e9a92f4954b133c6c3b2e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5295b47e1327. Setting up logs at ./log/docker/publishing_node1_2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 19009
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.19/tcp/19010/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.51.19/tcp/19011/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QJKmZtob-6ZKxWbsYUtRqY5xjb4l3jK8OIEVCdrgp727VS67Q4JMi6jd1p5fFEzpckkbUIGalaID8tvgNkYdRawBgmlkgnY0gmlwhKwSMxOKbXVsdGlhZGRyc4wACgSsEjMTBkpD3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCSkKDdWRwgkpEhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.213.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['42170', '42171', '42172', '42173', '42174']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 42170:42170 -p 42171:42171 -p 42172:42172 -p 42173:42173 -p 42174:42174 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42172 --rest-port=42170 --tcp-port=42171 --discv5-udp-port=42173 --rest-address=0.0.0.0 --nat=extip:172.18.213.132 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42174 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJKmZtob-6ZKxWbsYUtRqY5xjb4l3jK8OIEVCdrgp727VS67Q4JMi6jd1p5fFEzpckkbUIGalaID8tvgNkYdRawBgmlkgnY0gmlwhKwSMxOKbXVsdGlhZGRyc4wACgSsEjMTBkpD3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCSkKDdWRwgkpEhXdha3UyAw --storenode=/ip4/172.18.51.19/tcp/19010/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.213.132 waku 1cda4d5af1babea115e2b5d161b4718eb8cb1c2af4f3bc6ef3aa4494326d387f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1cda4d5af1ba. Setting up logs at ./log/docker/store_node1_2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 42170
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42170/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42170/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.132/tcp/42171/p2p/16Uiu2HAm3CGX9T6kZF8kxADfNJsNuy1q3Kwag6BD3H5j643dTVN5","/ip4/172.18.213.132/tcp/42172/ws/p2p/16Uiu2HAm3CGX9T6kZF8kxADfNJsNuy1q3Kwag6BD3H5j643dTVN5"],"enrUri":"enr:-LO4QKp73sPzBuEoPv0oclwkgq41VECvwgExP2w_nVY6GG6AKWXDw0wYFB3IE65R-czaFLWtOSCFpOf1JBmTC71YsAABgmlkgnY0gmlwhKwS1YSKbXVsdGlhZGRyc4wACgSsEtWEBqS83QOCcnOFAAABAACJc2VjcDI1NmsxoQJzbmtSngJUpZg1zq6LQUJmyjrYY-wCYktSvfC1b18HhoN0Y3CCpLuDdWRwgqS9hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42170/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.19/tcp/19010/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42170/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"22TDtnC6PsJT1J0gw4US/QR5UT3UIZ/iamvs+r6N7Cg="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /myapp/1/latest/proto failed: Message hash returned by store doesn't match the computed message hash 22TDtnC6PsJT1J0gw4US/QR5UT3UIZ/iamvs+r6N7Cg=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"jIPdpxoChEERh6Qk9P62oNrVwEBusy2c34zcs3P/jOU="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /waku/2/content/test.js failed: Message hash returned by store doesn't match the computed message hash jIPdpxoChEERh6Qk9P62oNrVwEBusy2c34zcs3P/jOU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"cPpzkdtbwFW/lbWI6Tgi8vk66EIi0I4LlcYVZa76XVk="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/22/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash cPpzkdtbwFW/lbWI6Tgi8vk66EIi0I4LlcYVZa76XVk=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"NET62J3HAlI75FWNdgCsqzDfmFrdigMVxdX6WfdvCH0="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /toychat/2/huilong/proto failed: Message hash returned by store doesn't match the computed message hash NET62J3HAlI75FWNdgCsqzDfmFrdigMVxdX6WfdvCH0=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"IGeCTNV+X5taOaAu6QovsiUeIuFVtIaljtwmaJfHbiY="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /statusim/1/community/cbor failed: Message hash returned by store doesn't match the computed message hash IGeCTNV+X5taOaAu6QovsiUeIuFVtIaljtwmaJfHbiY=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"XABQbaWLv9/RENNV84Oagqb2ZahneCI5GAsojthrqIQ="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/27/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash XABQbaWLv9/RENNV84Oagqb2ZahneCI5GAsojthrqIQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"4c16docdLavrYX8w/dlw/DycHvNZvY6mOef2WP3zDwM="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/29/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash 4c16docdLavrYX8w/dlw/DycHvNZvY6mOef2WP3zDwM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:36 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19009/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19009/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"xOJMTssrSyeQe1KjpWCzdItOpUOxiJ+Xz1uGgSINReA="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:42 ContentTopic /app/20/sometopic/someencoding failed: Message hash returned by store doesn't match the computed message hash xOJMTssrSyeQe1KjpWCzdItOpUOxiJ+Xz1uGgSINReA=
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 5295b47e1327
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 1cda4d5af1ba
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:65 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:66 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-05-22_16-06-20__0ffb6db6-1313-4089-99ff-95b0e3cd4562__harbor.status.im_wakuorg_nwaku:latest.log