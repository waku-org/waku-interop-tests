[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_get_store_messages_with_different_pubsub_topics with id: 2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:26 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.160.202
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58286', '58287', '58288', '58289', '58290']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58286:58286 -p 58287:58287 -p 58288:58288 -p 58289:58289 -p 58290:58290 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58288 --rest-port=58286 --tcp-port=58287 --discv5-udp-port=58289 --rest-address=0.0.0.0 --nat=extip:172.18.160.202 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58290 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.160.202 waku ee03e3b662c1bde9cb4608ccb20e881deb47ae04797398d349f22eb3438b655f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ee03e3b662c1. Setting up logs at ./log/docker/publishing_node1_2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 58286
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.202/tcp/58287/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.160.202/tcp/58288/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QKsdN_NLRpAVI5uIl0-ixkjMG7OHhoDkzV5-Ctnldgq3GmWe9nb43X5BnhuKo4b-6ymlPh0OnDFgCVG9J8b6g34BgmlkgnY0gmlwhKwSoMqKbXVsdGlhZGRyc4wACgSsEqDKBuOw3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC46-DdWRwguOxhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.118.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['13098', '13099', '13100', '13101', '13102']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 13098:13098 -p 13099:13099 -p 13100:13100 -p 13101:13101 -p 13102:13102 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13100 --rest-port=13098 --tcp-port=13099 --discv5-udp-port=13101 --rest-address=0.0.0.0 --nat=extip:172.18.118.244 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13102 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKsdN_NLRpAVI5uIl0-ixkjMG7OHhoDkzV5-Ctnldgq3GmWe9nb43X5BnhuKo4b-6ymlPh0OnDFgCVG9J8b6g34BgmlkgnY0gmlwhKwSoMqKbXVsdGlhZGRyc4wACgSsEqDKBuOw3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC46-DdWRwguOxhXdha3UyAw --storenode=/ip4/172.18.160.202/tcp/58287/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.118.244 waku 8518f52f7d8341b09eba08972c3405cb2be23dea82af23cfd805dd4b59e95b27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8518f52f7d83. Setting up logs at ./log/docker/store_node1_2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 13098
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13098/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13098/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.244/tcp/13099/p2p/16Uiu2HAmCn7HsZH8mqzG4ZqyJiJ1Tm8xgeyDn7id9q2rjGSMqBXj","/ip4/172.18.118.244/tcp/13100/ws/p2p/16Uiu2HAmCn7HsZH8mqzG4ZqyJiJ1Tm8xgeyDn7id9q2rjGSMqBXj"],"enrUri":"enr:-LO4QL0OisZ0Y-MUE1tpipez-AbKMpj4IVWQfLU7K0s-A70qH7wytWYCSstpVyRd1V0vR3pVwZcgihcCwDXwIrn_nagBgmlkgnY0gmlwhKwSdvSKbXVsdGlhZGRyc4wACgSsEnb0BjMs3QOCcnOFAAABAACJc2VjcDI1NmsxoQMB0un5vfGwBQuX41UztFUbKpJSV8ITDEB36f8BO8GVfoN0Y3CCMyuDdWRwgjMthXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13098/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.160.202/tcp/58287/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13098/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0", "/waku/2/rs/0/1", "/waku/2/rs/0/2", "/waku/2/rs/0/3", "/waku/2/rs/0/4", "/waku/2/rs/0/5", "/waku/2/rs/0/6", "/waku/2/rs/0/7", "/waku/2/rs/0/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13098/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0", "/waku/2/rs/0/1", "/waku/2/rs/0/2", "/waku/2/rs/0/3", "/waku/2/rs/0/4", "/waku/2/rs/0/5", "/waku/2/rs/0/6", "/waku/2/rs/0/7", "/waku/2/rs/0/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/0
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"mbaoiZio716VoZgucY8DVrQhFfdCGO55jXXgbfFnZxQ="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash mbaoiZio716VoZgucY8DVrQhFfdCGO55jXXgbfFnZxQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/1
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"Z3ylw/04gXRC5PVxSaxutxqUoDlCXJ7EVphyPiCpZHo="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash Z3ylw/04gXRC5PVxSaxutxqUoDlCXJ7EVphyPiCpZHo=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/2
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"N2s1p3unqhzc4BUTeH5rL81Ys97ZsKqy5tGWLt5ED+E="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash N2s1p3unqhzc4BUTeH5rL81Ys97ZsKqy5tGWLt5ED+E=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/3
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"MNybzK5nuHApehvt2E08XK3xJu4gBSgc0AcuuNSPKWM="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash MNybzK5nuHApehvt2E08XK3xJu4gBSgc0AcuuNSPKWM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/4
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"hzJhRLa4F67FrIbYYYLt3pd4icvY+1Echja53XPGDwI="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash hzJhRLa4F67FrIbYYYLt3pd4icvY+1Echja53XPGDwI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/5
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"rIME8snVTsZrup+ziPH178LIL8TvjznGINzKCgfiNHI="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash rIME8snVTsZrup+ziPH178LIL8TvjznGINzKCgfiNHI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/6
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"EPoTcX9I/b5vYyZIW4w62/pYnCurZBBpMRvPuzfY21w="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash EPoTcX9I/b5vYyZIW4w62/pYnCurZBBpMRvPuzfY21w=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/7
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"G3TXY7ME6hR+zgycTndCe9i8BBhk1AD2ZxpL6KpD3mM="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash G3TXY7ME6hR+zgycTndCe9i8BBhk1AD2ZxpL6KpD3mM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/8
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58286/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"qGR3xZJWqAbgkIQ1AJl4oADdG7Iw098+D65r68LrdK8="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash qGR3xZJWqAbgkIQ1AJl4oADdG7Iw098+D65r68LrdK8=
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id ee03e3b662c1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 8518f52f7d83
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:65 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:66 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-05-22_16-06-06__5521182f-6117-4090-9cb9-4ee1b66b2361__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_get_store_messages_with_different_pubsub_topics with id: 2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:26 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.217.9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['34548', '34549', '34550', '34551', '34552']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 34548:34548 -p 34549:34549 -p 34550:34550 -p 34551:34551 -p 34552:34552 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34550 --rest-port=34548 --tcp-port=34549 --discv5-udp-port=34551 --rest-address=0.0.0.0 --nat=extip:172.18.217.9 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34552 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.217.9 waku 75c294a9b41e0d6b8462d08ae9a1f5dc8532c33f8ba5222f6c37f10aca5fa7e0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 75c294a9b41e. Setting up logs at ./log/docker/publishing_node1_2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 34548
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.9/tcp/34549/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.217.9/tcp/34550/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QDZSkC9ZJksJCzI8A3e67bd0cFDDYzOQxg5xIhjpwHRDLl_bmeDR-4Nbt724jNSyRXiNq2AI4Su_vHSvEFl2QSYBgmlkgnY0gmlwhKwS2QmKbXVsdGlhZGRyc4wACgSsEtkJBob23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CChvWDdWRwgob3hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.203.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['42152', '42153', '42154', '42155', '42156']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 42152:42152 -p 42153:42153 -p 42154:42154 -p 42155:42155 -p 42156:42156 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42154 --rest-port=42152 --tcp-port=42153 --discv5-udp-port=42155 --rest-address=0.0.0.0 --nat=extip:172.18.203.63 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42156 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDZSkC9ZJksJCzI8A3e67bd0cFDDYzOQxg5xIhjpwHRDLl_bmeDR-4Nbt724jNSyRXiNq2AI4Su_vHSvEFl2QSYBgmlkgnY0gmlwhKwS2QmKbXVsdGlhZGRyc4wACgSsEtkJBob23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CChvWDdWRwgob3hXdha3UyAw --storenode=/ip4/172.18.217.9/tcp/34549/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.203.63 waku 79e2caa82b35ea50bf650cd63df1ddae2a50a392d4f79ed35454de3e0b321c5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 79e2caa82b35. Setting up logs at ./log/docker/store_node1_2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 42152
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42152/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42152/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.63/tcp/42153/p2p/16Uiu2HAmFv59SZMu5ZvE3zJCCQNsenGwBTihGCrdu4E7qcWdNLex","/ip4/172.18.203.63/tcp/42154/ws/p2p/16Uiu2HAmFv59SZMu5ZvE3zJCCQNsenGwBTihGCrdu4E7qcWdNLex"],"enrUri":"enr:-LO4QFKP416fDTDahvFHOJjty5d7bC06TY0PEyJmLVf4gkkYFNmQ5ENf2TyJe_qMV9JujSIVyExGX5pAFxEnozFX0jABgmlkgnY0gmlwhKwSyz-KbXVsdGlhZGRyc4wACgSsEss_BqSq3QOCcnOFAAABAACJc2VjcDI1NmsxoQMwcDIJAEo00uFxagQQToy-mHlbdBb3MJRZ4-7PW6tHrYN0Y3CCpKmDdWRwgqSrhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42152/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.217.9/tcp/34549/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42152/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0", "/waku/2/rs/0/1", "/waku/2/rs/0/2", "/waku/2/rs/0/3", "/waku/2/rs/0/4", "/waku/2/rs/0/5", "/waku/2/rs/0/6", "/waku/2/rs/0/7", "/waku/2/rs/0/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42152/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0", "/waku/2/rs/0/1", "/waku/2/rs/0/2", "/waku/2/rs/0/3", "/waku/2/rs/0/4", "/waku/2/rs/0/5", "/waku/2/rs/0/6", "/waku/2/rs/0/7", "/waku/2/rs/0/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/0
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"nYvHWhlQWtz+QMpwAbe9ao85uw5ulb9JTR4K4sutFvs="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash nYvHWhlQWtz+QMpwAbe9ao85uw5ulb9JTR4K4sutFvs=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/1
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"lJ453ma4x6Dyor0MfzkQH2NyyZmflFWlBDiqhHDiPOc="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash lJ453ma4x6Dyor0MfzkQH2NyyZmflFWlBDiqhHDiPOc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/2
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"0GUufXwScbyjWhIm/wGT58fEO9Ufw4oHNlNGg+TIF98="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash 0GUufXwScbyjWhIm/wGT58fEO9Ufw4oHNlNGg+TIF98=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/3
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"ItI2bwsrouTCn2/5o9guO6LHgePmwu7lwVfUhm4JL2s="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash ItI2bwsrouTCn2/5o9guO6LHgePmwu7lwVfUhm4JL2s=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/4
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"OdSvE0CnYkPrpr+Jy/S7DiKhXxNhKT9Zk+TaRZw837U="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash OdSvE0CnYkPrpr+Jy/S7DiKhXxNhKT9Zk+TaRZw837U=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/5
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"PooYhlNGVPuMDqrxIG6CDWMgRsXTici2Wn/qM8ZjPAI="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash PooYhlNGVPuMDqrxIG6CDWMgRsXTici2Wn/qM8ZjPAI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/6
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"UciO53KMOBLZkSDEDiD227GpVQyO5otUfXeOQ9wT2HI="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash UciO53KMOBLZkSDEDiD227GpVQyO5otUfXeOQ9wT2HI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/7
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"FNmWNWlyjHmOGSRPbeLihasIeVMF0UVzdq1lQpkOwXE="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash FNmWNWlyjHmOGSRPbeLihasIeVMF0UVzdq1lQpkOwXE=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/8
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34548/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34548/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"GgHcdEtKkopsoKWZrZhWm+MB5FA1kcwERmxN191vh64="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash GgHcdEtKkopsoKWZrZhWm+MB5FA1kcwERmxN191vh64=
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 75c294a9b41e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 79e2caa82b35
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:65 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:66 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-05-22_16-06-23__ac2f8957-9c02-4d91-804c-10c531e7ad7c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_get_store_messages_with_different_pubsub_topics with id: 2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:26 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.82.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['28766', '28767', '28768', '28769', '28770']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 28766:28766 -p 28767:28767 -p 28768:28768 -p 28769:28769 -p 28770:28770 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28768 --rest-port=28766 --tcp-port=28767 --discv5-udp-port=28769 --rest-address=0.0.0.0 --nat=extip:172.18.82.11 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28770 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.82.11 waku 3936039139ed1ad12f63319886d5b5f08cce699a5042c78109fd8b4794b655a0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3936039139ed. Setting up logs at ./log/docker/publishing_node1_2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 28766
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.11/tcp/28767/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.82.11/tcp/28768/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QGFeHxCLnbqj1YCLT7g35A-5WZaiPtTqNAlMFIngnykcE5ZGU5bkoG4blmebTt30dJ2SJZWey9OPbaiVdWBQBToBgmlkgnY0gmlwhKwSUguKbXVsdGlhZGRyc4wACgSsElILBnBg3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcF-DdWRwgnBhhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.146.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46930', '46931', '46932', '46933', '46934']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:357 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46930:46930 -p 46931:46931 -p 46932:46932 -p 46933:46933 -p 46934:46934 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46932 --rest-port=46930 --tcp-port=46931 --discv5-udp-port=46933 --rest-address=0.0.0.0 --nat=extip:172.18.146.167 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46934 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGFeHxCLnbqj1YCLT7g35A-5WZaiPtTqNAlMFIngnykcE5ZGU5bkoG4blmebTt30dJ2SJZWey9OPbaiVdWBQBToBgmlkgnY0gmlwhKwSUguKbXVsdGlhZGRyc4wACgSsElILBnBg3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcF-DdWRwgnBhhXdha3UyAw --storenode=/ip4/172.18.82.11/tcp/28767/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.146.167 waku 0a22ffdc90e27d7c4c8515baa1bd042b2409abb1a712aedcadbbf5b828723944
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0a22ffdc90e2. Setting up logs at ./log/docker/store_node1_2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 46930
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46930/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46930/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.167/tcp/46931/p2p/16Uiu2HAm6wQACLyBwWjujgb7kezYTTzofdBPE1zqZAU9x6kASFSi","/ip4/172.18.146.167/tcp/46932/ws/p2p/16Uiu2HAm6wQACLyBwWjujgb7kezYTTzofdBPE1zqZAU9x6kASFSi"],"enrUri":"enr:-LO4QEqcGD-fkSTSObTa5qeG-sX0v6CbOGrnIWwhbhIoru5VbQar-lJVAbT9mj6gxUehpTYcO_LJZcnD-RD-OBJAABcBgmlkgnY0gmlwhKwSkqeKbXVsdGlhZGRyc4wACgSsEpKnBrdU3QOCcnOFAAABAACJc2VjcDI1NmsxoQKrDheN0FFvAd9838Z0KBEzHLGzPHBta3kfU2nOkCht44N0Y3CCt1ODdWRwgrdVhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46930/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.82.11/tcp/28767/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46930/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0", "/waku/2/rs/0/1", "/waku/2/rs/0/2", "/waku/2/rs/0/3", "/waku/2/rs/0/4", "/waku/2/rs/0/5", "/waku/2/rs/0/6", "/waku/2/rs/0/7", "/waku/2/rs/0/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46930/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0", "/waku/2/rs/0/1", "/waku/2/rs/0/2", "/waku/2/rs/0/3", "/waku/2/rs/0/4", "/waku/2/rs/0/5", "/waku/2/rs/0/6", "/waku/2/rs/0/7", "/waku/2/rs/0/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/0
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"gRqOfydNR9VqBCRS15n3z7NQpHTBhcMefMEpOq1YAbc="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash gRqOfydNR9VqBCRS15n3z7NQpHTBhcMefMEpOq1YAbc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/1
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"99nySIQhWHpHNuMPY/UGr63HzFxW6yl28nUe92wavZQ="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash 99nySIQhWHpHNuMPY/UGr63HzFxW6yl28nUe92wavZQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/2
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"xpLu/RJnvRwZCZ03F8yKhPqx/HZUx6TNQ8NsfeCdDwQ="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash xpLu/RJnvRwZCZ03F8yKhPqx/HZUx6TNQ8NsfeCdDwQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/3
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"WFzQLnf8Xgc6CuXPFhMwFoXI5+lncawEvqDOjsPCGJM="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash WFzQLnf8Xgc6CuXPFhMwFoXI5+lncawEvqDOjsPCGJM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/4
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"tCM2bnp3X2A4p7kuH+xvSVo3DBVo49sBDj2Qf5GxK+Y="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash tCM2bnp3X2A4p7kuH+xvSVo3DBVo49sBDj2Qf5GxK+Y=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/5
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"opytCrhzRFenkEl2DE5cfoYnVx2bxe7p3TzkeE3s3m0="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash opytCrhzRFenkEl2DE5cfoYnVx2bxe7p3TzkeE3s3m0=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/6
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"P9UxwLkxfNohgOx97bVot9LzMF4xC+eMt7eCbE7l/iA="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash P9UxwLkxfNohgOx97bVot9LzMF4xC+eMt7eCbE7l/iA=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/7
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"SJEAbvoflQUAQeQJiPEtCxAT1kH+ItgIVjxjKjv3KMw="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash SJEAbvoflQUAQeQJiPEtCxAT1kH+ItgIVjxjKjv3KMw=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:50 Running test with pubsub topic /waku/2/rs/0/8
[35mDEBUG   [0m src.steps.store:store.py:126 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28766/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:198 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28766/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":{"data":"yhH10e5NLbEtFbIqUcXJyOQEIM/jWaGHqJUgGka+sM0="}}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:55 PubsubTopic pubsub_topic failed: Message hash returned by store doesn't match the computed message hash yhH10e5NLbEtFbIqUcXJyOQEIM/jWaGHqJUgGka+sM0=
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 3936039139ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 0a22ffdc90e2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:65 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:66 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-05-22_16-06-39__3d9e9621-4a8c-49f6-b4d3-e5d315059308__harbor.status.im_wakuorg_nwaku:latest.log