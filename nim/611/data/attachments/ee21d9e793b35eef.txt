[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_negative_end_time with id: 2025-01-09_04-07-50__e89f7707-4619-4647-9d21-93c750c5ef40
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-09_04-07-50__e89f7707-4619-4647-9d21-93c750c5ef40__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.8.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36266', '36267', '36268', '36269', '36270']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36266:36266 -p 36267:36267 -p 36268:36268 -p 36269:36269 -p 36270:36270 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36268 --rest-port=36266 --tcp-port=36267 --discv5-udp-port=36269 --rest-address=0.0.0.0 --nat=extip:172.18.8.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9428f38bf6fdfa5d8e9caf8efd0abbba9ffb3c5e3b11a6e164eabdfbfca58952 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36270 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.8.223 waku b972c5363009ee684bfdd6f31e6de21c7bc5b53d4f917ae9e4276bfdb075ed44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b972c5363009. Setting up logs at ./log/docker/publishing_node1_2025-01-09_04-07-50__e89f7707-4619-4647-9d21-93c750c5ef40__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36266
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8c5e251fcafb. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36266/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36266/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.223/tcp/36267/p2p/16Uiu2HAkxtyn6hb6k2VxfBwPUScFYxc4w1i8DFLDkmdpntH4wVLy","/ip4/172.18.8.223/tcp/36268/ws/p2p/16Uiu2HAkxtyn6hb6k2VxfBwPUScFYxc4w1i8DFLDkmdpntH4wVLy"],"enrUri":"enr:-L24QPUPMuzeWdmRMT6C8SX6lQYW9AKtfd2ERwrJZZKZdp7UAYH1Kx0bnwmMjI0UJrBIW2bECBxQvpT0DCYVnx2GYuUCgmlkgnY0gmlwhKwSCN-KbXVsdGlhZGRyc5YACASsEgjfBo2rAAoErBII3waNrN0DgnJzhQADAQAAiXNlY3AyNTZrMaECM5HeB9s0r0esryLeVXd86I3XsedhEdKmaQV9f5qN8FaDdGNwgo2rg3VkcIKNrYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-09_04-07-50__e89f7707-4619-4647-9d21-93c750c5ef40__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14078', '14079', '14080', '14081', '14082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14078:14078 -p 14079:14079 -p 14080:14080 -p 14081:14081 -p 14082:14082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14080 --rest-port=14078 --tcp-port=14079 --discv5-udp-port=14081 --rest-address=0.0.0.0 --nat=extip:172.18.248.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fad0ffecc621b3d5ae38a01faabedfab41ddaed5b12ba4196a22ba08a4dddac6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14082 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QPUPMuzeWdmRMT6C8SX6lQYW9AKtfd2ERwrJZZKZdp7UAYH1Kx0bnwmMjI0UJrBIW2bECBxQvpT0DCYVnx2GYuUCgmlkgnY0gmlwhKwSCN-KbXVsdGlhZGRyc5YACASsEgjfBo2rAAoErBII3waNrN0DgnJzhQADAQAAiXNlY3AyNTZrMaECM5HeB9s0r0esryLeVXd86I3XsedhEdKmaQV9f5qN8FaDdGNwgo2rg3VkcIKNrYV3YWt1MgM --storenode=/ip4/172.18.8.223/tcp/36267/p2p/16Uiu2HAkxtyn6hb6k2VxfBwPUScFYxc4w1i8DFLDkmdpntH4wVLy --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.93 waku 237f132ffa08cacce0633b8c12915d599df7b35d7388b2c4652cbfb1e7719963
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 237f132ffa08. Setting up logs at ./log/docker/store_node1_2025-01-09_04-07-50__e89f7707-4619-4647-9d21-93c750c5ef40__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 14078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.93/tcp/14079/p2p/16Uiu2HAmC7mr12BXwehXe66Gg3mxkv7weAxpH1zGaR2Ybh3n4Tc8","/ip4/172.18.248.93/tcp/14080/ws/p2p/16Uiu2HAmC7mr12BXwehXe66Gg3mxkv7weAxpH1zGaR2Ybh3n4Tc8"],"enrUri":"enr:-L24QF2mxxQdW5Mf8QThLEyY9aNGVjxSl70N3jmrlZHYZo_3Onj4Ud9lWGA4DtKgixu_jDaXO3gkPFtZUtwpODu916MCgmlkgnY0gmlwhKwS-F2KbXVsdGlhZGRyc5YACASsEvhdBjb_AAoErBL4XQY3AN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-ADbAb0JUSctjQOSmHdG8OwkhE6Kh0koP36p5OWU0yWDdGNwgjb_g3VkcII3AYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14078/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.8.223/tcp/36267/p2p/16Uiu2HAkxtyn6hb6k2VxfBwPUScFYxc4w1i8DFLDkmdpntH4wVLy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14078/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:232 inquering stored messages with end time -10000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36266/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"pPBuO9ovOinvH3KTsyw+kXxkk50N9/n+oddr3D6Qy3Y=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395669943932928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"oy4c3Ry6hNKVWuCLFO+ndR8udWcaecpzL5uBm8v3osY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395671943939840,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"xPnY7z33ZS3vtGXIfRYCXATz+1jhoTEmUQp0H/kN83M=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395672843941888,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Hd1vkAgqveXdptgrr82V3AOkgDs8Uh6NYNcEKhDY7Jc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395673043943936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"9rXnSVoMXq5+ds6d1+qUE6mPRSbXMW2AMJ+pqQdEGew=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395674943945984,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"XeC9EFJIEO9OP9fKMNJrgiSoOM5F+uDhEGocTw9flHQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395682943948032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:235 number of messages stored for  end time = -10000 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14078/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"pPBuO9ovOinvH3KTsyw+kXxkk50N9/n+oddr3D6Qy3Y=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395669943932928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"oy4c3Ry6hNKVWuCLFO+ndR8udWcaecpzL5uBm8v3osY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395671943939840,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"xPnY7z33ZS3vtGXIfRYCXATz+1jhoTEmUQp0H/kN83M=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395672843941888,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Hd1vkAgqveXdptgrr82V3AOkgDs8Uh6NYNcEKhDY7Jc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395673043943936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"9rXnSVoMXq5+ds6d1+qUE6mPRSbXMW2AMJ+pqQdEGew=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395674943945984,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"XeC9EFJIEO9OP9fKMNJrgiSoOM5F+uDhEGocTw9flHQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736395682943948032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:235 number of messages stored for  end time = -10000 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b972c5363009
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 237f132ffa08
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b972c5363009. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.