[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_unsubscribe_with_extra_field with id: 2024-04-05_04-13-46__7b6aaede-a4df-4e0e-8c7a-9e589a4f3584
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-04-05_04-13-46__7b6aaede-a4df-4e0e-8c7a-9e589a4f3584__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.204.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['25197', '25198', '25199', '25200', '25201']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 25197:25197 -p 25198:25198 -p 25199:25199 -p 25200:25200 -p 25201:25201 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25199 --rest-port=25197 --tcp-port=25198 --discv5-udp-port=25200 --rest-address=0.0.0.0 --nat=extip:172.18.204.198 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25201 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.204.198 waku cabfdbafa0ae23f7cc90ca01e73f19c0f655fab6e0c142a46a367315c5e0357d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID cabfdbafa0ae. Setting up logs at ./log/docker/node1_2024-04-05_04-13-46__7b6aaede-a4df-4e0e-8c7a-9e589a4f3584__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 25197
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:25197/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.198/tcp/25198/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.204.198/tcp/25199/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QBfJet_c21l-UwikUbh1zdO1H8K0xieUXdEmEIB3h53MPevp2FX_ay70x8ugPGuiZMnJUxIhRSP_8QAH1SVLbAcBgmlkgnY0gmlwhKwSzMaKbXVsdGlhZGRyc4wACgSsEszGBmJv3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgmJug3VkcIJicIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-04-05_04-13-46__7b6aaede-a4df-4e0e-8c7a-9e589a4f3584__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.48.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41567', '41568', '41569', '41570', '41571']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41567:41567 -p 41568:41568 -p 41569:41569 -p 41570:41570 -p 41571:41571 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41569 --rest-port=41567 --tcp-port=41568 --discv5-udp-port=41570 --rest-address=0.0.0.0 --nat=extip:172.18.48.13 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41571 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QBfJet_c21l-UwikUbh1zdO1H8K0xieUXdEmEIB3h53MPevp2FX_ay70x8ugPGuiZMnJUxIhRSP_8QAH1SVLbAcBgmlkgnY0gmlwhKwSzMaKbXVsdGlhZGRyc4wACgSsEszGBmJv3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgmJug3VkcIJicIV3YWt1MgU --filternode=/ip4/172.18.204.198/tcp/25198/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.48.13 waku 876836a943eddeec0fae29c39e141c01663fbf6d4d057f06b5d8805516c77f5e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 876836a943ed. Setting up logs at ./log/docker/node2_2024-04-05_04-13-46__7b6aaede-a4df-4e0e-8c7a-9e589a4f3584__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 41567
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:41567/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.13/tcp/41568/p2p/16Uiu2HAm6LepAbmBjDarYiJFyoBU5zfRW6CJgfFv3EGE3CAxEvqa","/ip4/172.18.48.13/tcp/41569/ws/p2p/16Uiu2HAm6LepAbmBjDarYiJFyoBU5zfRW6CJgfFv3EGE3CAxEvqa"],"enrUri":"enr:-LG4QAY07bIQ70thX-KYWe2kdfMJe-2iNWnS3wWKAtbiUrQ9FxOQc7hQDRQ30hN1jXPLnF36q6D98ewBBMAx65CekycBgmlkgnY0gmlwhKwSMA2KbXVsdGlhZGRyc4wACgSsEjANBqJh3QOCcnODAAAAiXNlY3AyNTZrMaECoidVcUgxum3WacovoPOmy5KPXhyzRnQA5IQO-RmOiU2DdGNwgqJgg3VkcIKiYoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:41567/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.204.198/tcp/25198/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:25197/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:41567/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "98c3d55b-16e8-457e-8630-5aefeeba0063", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"98c3d55b-16e8-457e-8630-5aefeeba0063","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X DELETE "http://127.0.0.1:41567/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1", "extraField": "extraValue"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41567/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id cabfdbafa0ae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 876836a943ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.