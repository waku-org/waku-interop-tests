[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:438 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.101.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29060', '29061', '29062', '29063', '29064']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29060:29060 -p 29061:29061 -p 29062:29062 -p 29063:29063 -p 29064:29064 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29062 --rest-port=29060 --tcp-port=29061 --discv5-udp-port=29063 --rest-address=0.0.0.0 --nat=extip:172.18.101.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ce0d07fd1c2cdff731aeae6cc03dcee9a33dcccf4bc177dbd5ca8ebd2defbd3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29064 --metrics-logging=true --relay=true --store=true --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.101.54 waku b20130e9394d0c2e1e89a03543cecfee57621f720e029e2c16cea572c45ea1c0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1ee106b3fa79. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b20130e9394d. Setting up logs at ./log/docker/node6_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29060
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29060/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29060/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.54/tcp/29061/p2p/16Uiu2HAm61cT3TLEDYvLGxmb9FBKrQG27jiWnHWh5pJD1hWdVWNs","/ip4/172.18.101.54/tcp/29062/ws/p2p/16Uiu2HAm61cT3TLEDYvLGxmb9FBKrQG27jiWnHWh5pJD1hWdVWNs"],"enrUri":"enr:-L24QKNjoNOIaL1zQl5eq8dnstn5tesfjMfvkRwTepUjD-TcVDJvlm9W6S59uwEOPJcLJ2QKgxoHEeFsAksWQ3vJdy0CgmlkgnY0gmlwhKwSZTaKbXVsdGlhZGRyc5YACASsEmU2BnGFAAoErBJlNgZxht0DgnJzhQADAQAAiXNlY3AyNTZrMaECnUagDC0Kwta81gGeXNj3zNtIJbAaBJx5gSq_HUIgw8iDdGNwgnGFg3VkcIJxh4V3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20081', '20082', '20083', '20084', '20085']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20081:20081 -p 20082:20082 -p 20083:20083 -p 20084:20084 -p 20085:20085 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20083 --rest-port=20081 --tcp-port=20082 --discv5-udp-port=20084 --rest-address=0.0.0.0 --nat=extip:172.18.95.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbbcdbba6eacebf0ee0394fde8afb01ec21c084b40de6dfcdecbe0bcb19bbbf8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20085 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.101.54/tcp/29061/p2p/16Uiu2HAm61cT3TLEDYvLGxmb9FBKrQG27jiWnHWh5pJD1hWdVWNs --discv5-bootstrap-node=enr:-L24QKNjoNOIaL1zQl5eq8dnstn5tesfjMfvkRwTepUjD-TcVDJvlm9W6S59uwEOPJcLJ2QKgxoHEeFsAksWQ3vJdy0CgmlkgnY0gmlwhKwSZTaKbXVsdGlhZGRyc5YACASsEmU2BnGFAAoErBJlNgZxht0DgnJzhQADAQAAiXNlY3AyNTZrMaECnUagDC0Kwta81gGeXNj3zNtIJbAaBJx5gSq_HUIgw8iDdGNwgnGFg3VkcIJxh4V3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.128 waku 52451ac411350f695259e7d61509229e37c7443f022ae84fa5b6f9cbbb9d7fc5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 52451ac41135. Setting up logs at ./log/docker/node4_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20081
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20081/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20081/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.128/tcp/20082/p2p/16Uiu2HAmDvMRTgdjSdm198Y5JmcBVybZUsQs2irP3BmAKqHBSycb","/ip4/172.18.95.128/tcp/20083/ws/p2p/16Uiu2HAmDvMRTgdjSdm198Y5JmcBVybZUsQs2irP3BmAKqHBSycb"],"enrUri":"enr:-L24QIHHt4PfmwqrkmoXLLuVxX2K5eKAtGF7M8OP18hoO0juI-afu0MGk0ahw94qV4kyL5h3rqlztIlGXaY4X7SYLSgCgmlkgnY0gmlwhKwSX4CKbXVsdGlhZGRyc5YACASsEl-ABk5yAAoErBJfgAZOc90DgnJzhQADAQAAiXNlY3AyNTZrMaEDEss5o4RU6y-97t1TOhQ_lQ2A8_dsCzLKT3IjaZr7tHiDdGNwgk5yg3VkcIJOdIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.60.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39475', '39476', '39477', '39478', '39479']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39475:39475 -p 39476:39476 -p 39477:39477 -p 39478:39478 -p 39479:39479 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39477 --rest-port=39475 --tcp-port=39476 --discv5-udp-port=39478 --rest-address=0.0.0.0 --nat=extip:172.18.60.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=77e4c5c699f2cca2fcfd6ebbf317a165d2dea9bdda17bfdf43bdafd3181b8e3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39479 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QKNjoNOIaL1zQl5eq8dnstn5tesfjMfvkRwTepUjD-TcVDJvlm9W6S59uwEOPJcLJ2QKgxoHEeFsAksWQ3vJdy0CgmlkgnY0gmlwhKwSZTaKbXVsdGlhZGRyc5YACASsEmU2BnGFAAoErBJlNgZxht0DgnJzhQADAQAAiXNlY3AyNTZrMaECnUagDC0Kwta81gGeXNj3zNtIJbAaBJx5gSq_HUIgw8iDdGNwgnGFg3VkcIJxh4V3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.60.70 waku 2e184932b30536c5685f534b2871d152e329f5a325a5c408588daf7bd98533de
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e184932b305. Setting up logs at ./log/docker/node7_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39475
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39475/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39475/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.70/tcp/39476/p2p/16Uiu2HAmA3LF1ByVSAaWfranjbvY6mqDczEBnBxHJAAXHtFYhwvZ","/ip4/172.18.60.70/tcp/39477/ws/p2p/16Uiu2HAmA3LF1ByVSAaWfranjbvY6mqDczEBnBxHJAAXHtFYhwvZ"],"enrUri":"enr:-L24QHOAQQS8GaWoCeM9EvpCLoG9GUsS9yyoL32NmOEwZH48GGxFd7a5CrYJchzUzKFyECiBs4UnF4-w9frx5KCdN8oCgmlkgnY0gmlwhKwSPEaKbXVsdGlhZGRyc5YACASsEjxGBpo0AAoErBI8RgaaNd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2SY1Y6Xtd1KjNPaiKiJOzan8NZIyz9obYFan3wa7BmqDdGNwgpo0g3VkcIKaNoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7072', '7073', '7074', '7075', '7076']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7072:7072 -p 7073:7073 -p 7074:7074 -p 7075:7075 -p 7076:7076 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7074 --rest-port=7072 --tcp-port=7073 --discv5-udp-port=7075 --rest-address=0.0.0.0 --nat=extip:172.18.117.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b278eddb79d8404b40a2eafbe9619456ccad6a1151c509729f9c8f1ddbd5e7a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7076 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.60.70/tcp/39476/p2p/16Uiu2HAmA3LF1ByVSAaWfranjbvY6mqDczEBnBxHJAAXHtFYhwvZ --discv5-bootstrap-node=enr:-L24QHOAQQS8GaWoCeM9EvpCLoG9GUsS9yyoL32NmOEwZH48GGxFd7a5CrYJchzUzKFyECiBs4UnF4-w9frx5KCdN8oCgmlkgnY0gmlwhKwSPEaKbXVsdGlhZGRyc5YACASsEjxGBpo0AAoErBI8RgaaNd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2SY1Y6Xtd1KjNPaiKiJOzan8NZIyz9obYFan3wa7BmqDdGNwgpo0g3VkcIKaNoV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.211 waku 8cec7519cf458caddf90b333b692051cfd725141908d214ab56c918104a9e5a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8cec7519cf45. Setting up logs at ./log/docker/node8_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7072
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7072/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7072/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.211/tcp/7073/p2p/16Uiu2HAm1bEF1pkDCDkPzAxzP4yyG2xfs2VoLURWDj1b37z8Pef8","/ip4/172.18.117.211/tcp/7074/ws/p2p/16Uiu2HAm1bEF1pkDCDkPzAxzP4yyG2xfs2VoLURWDj1b37z8Pef8"],"enrUri":"enr:-L24QE-WUt_5oWRCHvNlsu5WgSkkoSBWI6ECdtKd3ItXGHGTNV9oic_-2bxnudjC3LWwOQbHcBEe1wB22m7YXJ33UWsCgmlkgnY0gmlwhKwSddOKbXVsdGlhZGRyc5YACASsEnXTBhuhAAoErBJ10wYbot0DgnJzhQADAQAAiXNlY3AyNTZrMaECW5jT_iEZuIwHLBCFY5BXiQTf06ZauI17xYuzjsHLjteDdGNwghuhg3VkcIIbo4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50248', '50249', '50250', '50251', '50252']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50248:50248 -p 50249:50249 -p 50250:50250 -p 50251:50251 -p 50252:50252 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50250 --rest-port=50248 --tcp-port=50249 --discv5-udp-port=50251 --rest-address=0.0.0.0 --nat=extip:172.18.14.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9562a9c6bdf013aee623ab1af4d1d8ee898eb84181eeadbd752e3b9beb40124b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50252 --metrics-logging=true --relay=false --filternode=/ip4/172.18.117.211/tcp/7073/p2p/16Uiu2HAm1bEF1pkDCDkPzAxzP4yyG2xfs2VoLURWDj1b37z8Pef8 --storenode=/ip4/172.18.60.70/tcp/39476/p2p/16Uiu2HAmA3LF1ByVSAaWfranjbvY6mqDczEBnBxHJAAXHtFYhwvZ --discv5-bootstrap-node=enr:-L24QHOAQQS8GaWoCeM9EvpCLoG9GUsS9yyoL32NmOEwZH48GGxFd7a5CrYJchzUzKFyECiBs4UnF4-w9frx5KCdN8oCgmlkgnY0gmlwhKwSPEaKbXVsdGlhZGRyc5YACASsEjxGBpo0AAoErBI8RgaaNd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2SY1Y6Xtd1KjNPaiKiJOzan8NZIyz9obYFan3wa7BmqDdGNwgpo0g3VkcIKaNoV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.189 waku e6869b0feac42d8dbbd421b94859fc390246b37871fc2634db82aebb640a9498
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e6869b0feac4. Setting up logs at ./log/docker/node5_2024-11-30_04-07-33__f502f70e-d6f9-4099-ab60-4ab4e7663b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50248
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50248/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50248/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.189/tcp/50249/p2p/16Uiu2HAmMEE1bLs7nU7sZvqj4rsmH2ysW1v22SGZQZn7grudnhVd","/ip4/172.18.14.189/tcp/50250/ws/p2p/16Uiu2HAmMEE1bLs7nU7sZvqj4rsmH2ysW1v22SGZQZn7grudnhVd"],"enrUri":"enr:-L24QHtLhc6JjaLmlh79cSna237Nv27YnMmYvpRmDIEqTHOZCULKvAwA74XGs49kNdXYa6mvgVqxRp0yxwSU8Nq8O1sCgmlkgnY0gmlwhKwSDr2KbXVsdGlhZGRyc5YACASsEg69BsRJAAoErBIOvQbESt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDf2Ebo_u0VLtXdxZDaKfuttISRCgAb0whMGDcY2mFA6SDdGNwgsRJg3VkcILES4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:454 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29060/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39475/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7072/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29060/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.60.70/tcp/39476/p2p/16Uiu2HAmA3LF1ByVSAaWfranjbvY6mqDczEBnBxHJAAXHtFYhwvZ","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39475/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.101.54/tcp/29061/p2p/16Uiu2HAm61cT3TLEDYvLGxmb9FBKrQG27jiWnHWh5pJD1hWdVWNs","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7072/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.60.70/tcp/39476/p2p/16Uiu2HAmA3LF1ByVSAaWfranjbvY6mqDczEBnBxHJAAXHtFYhwvZ","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:460 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50248/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:465 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20081/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1732939694097731584}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732939694097731584,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:469 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50248/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e5f6a8c8594c1f133679","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"atsTMMWDli9Sp1q/4PnuVYCNc4apR6eh8WFSPi9nauM="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:472 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7072/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6c7a1a17cc4b080ddf40","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"atsTMMWDli9Sp1q/4PnuVYCNc4apR6eh8WFSPi9nauM="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:475 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50248/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732939694097731584,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b20130e9394d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 52451ac41135
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b20130e9394d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2e184932b305
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 52451ac41135. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8cec7519cf45
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2e184932b305. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e6869b0feac4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8cec7519cf45. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.