[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.77.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41889', '41890', '41891', '41892', '41893']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41889:41889 -p 41890:41890 -p 41891:41891 -p 41892:41892 -p 41893:41893 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41891 --rest-port=41889 --tcp-port=41890 --discv5-udp-port=41892 --rest-address=0.0.0.0 --nat=extip:172.18.77.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2b4d80e16a894ce1833dfc0e7f9f9d2ec4bbb9aa62aff267b102c7cd75a6fcb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41893 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aa6adc61c6dc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.150.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35860', '35861', '35862', '35863', '35864']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35860:35860 -p 35861:35861 -p 35862:35862 -p 35863:35863 -p 35864:35864 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35862 --rest-port=35860 --tcp-port=35861 --discv5-udp-port=35863 --rest-address=0.0.0.0 --nat=extip:172.18.150.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=19ea3dd2531271ca6b2c6c9eef79a30bbeacdabe8c2cec5c77a7dc68ad8bb10a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35864 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.150.180 waku fca3f05006cb8a68c7f3999245bbcc2628a7941d64673180e306469561001436
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fca3f05006cb. Setting up logs at ./log/docker/node1_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35860
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35860/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35860/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.150.180/tcp/35861/p2p/16Uiu2HAmQ2oMrQpo4WQi48NzdKcPufiDsRE7EwREfdnb2HcckMcY","/ip4/172.18.150.180/tcp/35862/ws/p2p/16Uiu2HAmQ2oMrQpo4WQi48NzdKcPufiDsRE7EwREfdnb2HcckMcY"],"enrUri":"enr:-L24QGmi3t2-FWPjcGwVXeqwiG3dvWiLLJVt03L1-K-vzkKzDPkmoENeOf3zxY55PxvKrJwS4C9D2RJJ71IpfgBsO2kCgmlkgnY0gmlwhKwSlrSKbXVsdGlhZGRyc5YACASsEpa0BowVAAoErBKWtAaMFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqQboP70TuGZUwR6HVJozcTnY3JROsUfzm9yN0X0GxCWDdGNwgowVg3VkcIKMF4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4656', '4657', '4658', '4659', '4660']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4656:4656 -p 4657:4657 -p 4658:4658 -p 4659:4659 -p 4660:4660 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4658 --rest-port=4656 --tcp-port=4657 --discv5-udp-port=4659 --rest-address=0.0.0.0 --nat=extip:172.18.88.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1aca12cca2e598e9a2dbf596ea729feaa60a5da43f3d2d315eedbcd977d35c97 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4660 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGmi3t2-FWPjcGwVXeqwiG3dvWiLLJVt03L1-K-vzkKzDPkmoENeOf3zxY55PxvKrJwS4C9D2RJJ71IpfgBsO2kCgmlkgnY0gmlwhKwSlrSKbXVsdGlhZGRyc5YACASsEpa0BowVAAoErBKWtAaMFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqQboP70TuGZUwR6HVJozcTnY3JROsUfzm9yN0X0GxCWDdGNwgowVg3VkcIKMF4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.244 waku bf29bc25adf3775d0b31fc1a90327bfb44848710a02829b6fce919de7a8eb7aa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bf29bc25adf3. Setting up logs at ./log/docker/node2_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4656
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4656/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4656/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.244/tcp/4657/p2p/16Uiu2HAm3fMrfiZnvqhMw2f9nqNQCu97u78yhfPsMTA2znRbgr2k","/ip4/172.18.88.244/tcp/4658/ws/p2p/16Uiu2HAm3fMrfiZnvqhMw2f9nqNQCu97u78yhfPsMTA2znRbgr2k"],"enrUri":"enr:-L24QEUiRctSL2A5VYzkK_7xZ-1-Bhbm5W9PzqeEPtHT-O5ABCLIqjSI1uadytTBVolAyzf2JDJMT1EY6TtsrQru8jkCgmlkgnY0gmlwhKwSWPSKbXVsdGlhZGRyc5YACASsElj0BhIxAAoErBJY9AYSMt0DgnJzhQADAQAAiXNlY3AyNTZrMaECel8imme7GpcXwm6eaymgDP5GTnXwP6D0ddUctCkCZkGDdGNwghIxg3VkcIISM4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4656/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.180/tcp/35861/p2p/16Uiu2HAmQ2oMrQpo4WQi48NzdKcPufiDsRE7EwREfdnb2HcckMcY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.134.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7817', '7818', '7819', '7820', '7821']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7817:7817 -p 7818:7818 -p 7819:7819 -p 7820:7820 -p 7821:7821 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7819 --rest-port=7817 --tcp-port=7818 --discv5-udp-port=7820 --rest-address=0.0.0.0 --nat=extip:172.18.134.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f4fe7476698a0a3c62eb69911dce527f3ed9ceddc8e7cbbf1c3ab3d0fe8daea2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7821 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGmi3t2-FWPjcGwVXeqwiG3dvWiLLJVt03L1-K-vzkKzDPkmoENeOf3zxY55PxvKrJwS4C9D2RJJ71IpfgBsO2kCgmlkgnY0gmlwhKwSlrSKbXVsdGlhZGRyc5YACASsEpa0BowVAAoErBKWtAaMFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqQboP70TuGZUwR6HVJozcTnY3JROsUfzm9yN0X0GxCWDdGNwgowVg3VkcIKMF4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.134.203 waku 45d5dafbb5ffd0040bc110f51f6c3fa1e384d41ada2466776d870ab1bba1e2c6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 45d5dafbb5ff. Setting up logs at ./log/docker/node3_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7817
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7817/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7817/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.203/tcp/7818/p2p/16Uiu2HAm2r2gBQk268k6QCLvT2QzJpPNt18P3uHNXC6YPMYavdKr","/ip4/172.18.134.203/tcp/7819/ws/p2p/16Uiu2HAm2r2gBQk268k6QCLvT2QzJpPNt18P3uHNXC6YPMYavdKr"],"enrUri":"enr:-L24QDMzpLWOCOGE4qoipZRH8jm5GVcEG-xwkMtTsUDFNdoqJvzihUscuippdJkbmo3NH3C85uw6GrE8UQRPRx1jnSICgmlkgnY0gmlwhKwShsuKbXVsdGlhZGRyc5YACASsEobLBh6KAAoErBKGywYei90DgnJzhQADAQAAiXNlY3AyNTZrMaECbj8mOS40ZvImp0i-c2K0qJDmg3uuoTEDOV4uc0ZuBg2DdGNwgh6Kg3VkcIIejIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7817/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.180/tcp/35861/p2p/16Uiu2HAmQ2oMrQpo4WQi48NzdKcPufiDsRE7EwREfdnb2HcckMcY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23450', '23451', '23452', '23453', '23454']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23450:23450 -p 23451:23451 -p 23452:23452 -p 23453:23453 -p 23454:23454 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23452 --rest-port=23450 --tcp-port=23451 --discv5-udp-port=23453 --rest-address=0.0.0.0 --nat=extip:172.18.46.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbd9f26ccb0ebc78764f5cbabd7c18be4abd50be217e58da15182f35d8b6b9c1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23454 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGmi3t2-FWPjcGwVXeqwiG3dvWiLLJVt03L1-K-vzkKzDPkmoENeOf3zxY55PxvKrJwS4C9D2RJJ71IpfgBsO2kCgmlkgnY0gmlwhKwSlrSKbXVsdGlhZGRyc5YACASsEpa0BowVAAoErBKWtAaMFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqQboP70TuGZUwR6HVJozcTnY3JROsUfzm9yN0X0GxCWDdGNwgowVg3VkcIKMF4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.64 waku 0ba96344671b915c4a7c3489f0e114212c0c2449b4eda12a4c73ed954488cd3a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0ba96344671b. Setting up logs at ./log/docker/node4_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23450
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23450/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23450/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.64/tcp/23451/p2p/16Uiu2HAmDMooNFPJpNiVRnpDwsntiYtDrtXNsZ5oti9gRYognMQj","/ip4/172.18.46.64/tcp/23452/ws/p2p/16Uiu2HAmDMooNFPJpNiVRnpDwsntiYtDrtXNsZ5oti9gRYognMQj"],"enrUri":"enr:-L24QC7AKGU9phc1QmsS3W5OVVEpdX6L5AqDWwouX-5IaambRCUyN4XmsppBBfZzYWqGgpxSfCvZsZi8Yu9BcIc-P9oCgmlkgnY0gmlwhKwSLkCKbXVsdGlhZGRyc5YACASsEi5ABlubAAoErBIuQAZbnN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCnTiQR_6kx0iBFQymexIPevtmZU6t5Z8wif7FKvlliiDdGNwglubg3VkcIJbnYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23450/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.180/tcp/35861/p2p/16Uiu2HAmQ2oMrQpo4WQi48NzdKcPufiDsRE7EwREfdnb2HcckMcY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.74.4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52130', '52131', '52132', '52133', '52134']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52130:52130 -p 52131:52131 -p 52132:52132 -p 52133:52133 -p 52134:52134 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52132 --rest-port=52130 --tcp-port=52131 --discv5-udp-port=52133 --rest-address=0.0.0.0 --nat=extip:172.18.74.4 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acaac5fa882eb7f3b1cebff607ca2bd1b3cd64bac6c53d6c78e79245ba7f42cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52134 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGmi3t2-FWPjcGwVXeqwiG3dvWiLLJVt03L1-K-vzkKzDPkmoENeOf3zxY55PxvKrJwS4C9D2RJJ71IpfgBsO2kCgmlkgnY0gmlwhKwSlrSKbXVsdGlhZGRyc5YACASsEpa0BowVAAoErBKWtAaMFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqQboP70TuGZUwR6HVJozcTnY3JROsUfzm9yN0X0GxCWDdGNwgowVg3VkcIKMF4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.74.4 waku 4f6797dd8b60ab7b61982c3174a8b9c3308beceb142a79fa0c4343d9ff97bc94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4f6797dd8b60. Setting up logs at ./log/docker/node5_2024-11-30_04-18-11__c20b593d-161f-498e-8d74-2eed388f4a56__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 52130
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52130/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52130/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.4/tcp/52131/p2p/16Uiu2HAmF9Vhvp2EibHaebdDWbtds6RYNK4KiF2LiJL3wDNnw33c","/ip4/172.18.74.4/tcp/52132/ws/p2p/16Uiu2HAmF9Vhvp2EibHaebdDWbtds6RYNK4KiF2LiJL3wDNnw33c"],"enrUri":"enr:-L24QL4ypSqf0xHhRVVavNfI75SA9Qx6QJm-ic_vGwZldiIKBBX36CNR44S8AWoVU7-ggQiUeI_82E_Um0MttM4L6oYCgmlkgnY0gmlwhKwSSgSKbXVsdGlhZGRyc5YACASsEkoEBsujAAoErBJKBAbLpN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJQTUSm6eZ8HStlvZqb3WEVZfhlIcSR2eQE7cmIez3z-DdGNwgsujg3VkcILLpYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52130/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.150.180/tcp/35861/p2p/16Uiu2HAmQ2oMrQpo4WQi48NzdKcPufiDsRE7EwREfdnb2HcckMcY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35860/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4656/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7817/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23450/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52130/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300631670528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4656/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300631670528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7817/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300631670528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23450/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300631670528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300631670528,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300772232704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4656/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300772232704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7817/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300772232704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23450/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300772232704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732940300772232704,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fca3f05006cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bf29bc25adf3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fca3f05006cb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 45d5dafbb5ff
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf29bc25adf3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0ba96344671b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 45d5dafbb5ff. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4f6797dd8b60
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0ba96344671b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.