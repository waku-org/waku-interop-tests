[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48897', '48898', '48899', '48900', '48901']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48897:48897 -p 48898:48898 -p 48899:48899 -p 48900:48900 -p 48901:48901 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48899 --rest-port=48897 --tcp-port=48898 --discv5-udp-port=48900 --rest-address=0.0.0.0 --nat=extip:172.18.56.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf47bece348ddede71b0e1bf7bd32f1c2bcac6a13b1ac495fa003c6815abb793 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48901 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.42 waku 32a3e7d01daad16a552310800071d89562606bfb0643223cbe2500fb3fcfc6c6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 32a3e7d01daa. Setting up logs at ./log/docker/node1_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48897
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 600123e7abc9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48897/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48897/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu","/ip4/172.18.56.42/tcp/48899/ws/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu"],"enrUri":"enr:-L24QEXp1g_f-dw-eeMBhMZbrS08c4Qgeu7OXYK6T_Op1l5_SRK2u-UWQvN2GyCKkO1QuVYTHQrmS7H0Pj-diV3UrbMCgmlkgnY0gmlwhKwSOCqKbXVsdGlhZGRyc5YACASsEjgqBr8CAAoErBI4Kga_A90DgnJzhQADAQAAiXNlY3AyNTZrMaECBVTBK_rJPM-vzPeFY8cTckulmFRcaMXfaB4K2agx83qDdGNwgr8Cg3VkcIK_BIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.225.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48278', '48279', '48280', '48281', '48282']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48278:48278 -p 48279:48279 -p 48280:48280 -p 48281:48281 -p 48282:48282 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48280 --rest-port=48278 --tcp-port=48279 --discv5-udp-port=48281 --rest-address=0.0.0.0 --nat=extip:172.18.225.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbef1dc01a3a0ffc73f6e27a76cde2b5e3eeed01fab9dbd6dc2bde97f1c8190e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48282 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEXp1g_f-dw-eeMBhMZbrS08c4Qgeu7OXYK6T_Op1l5_SRK2u-UWQvN2GyCKkO1QuVYTHQrmS7H0Pj-diV3UrbMCgmlkgnY0gmlwhKwSOCqKbXVsdGlhZGRyc5YACASsEjgqBr8CAAoErBI4Kga_A90DgnJzhQADAQAAiXNlY3AyNTZrMaECBVTBK_rJPM-vzPeFY8cTckulmFRcaMXfaB4K2agx83qDdGNwgr8Cg3VkcIK_BIV3YWt1MgU --filternode=/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.225.189 waku ff9743e9daafa8b36d69501424655377f6cf52d4d2f93a60faa6566daf257399
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ff9743e9daaf. Setting up logs at ./log/docker/node2_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48278
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48278/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48278/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.189/tcp/48279/p2p/16Uiu2HAm6Pz5eV3u871vuE5LszZzFVRtcT64dGCVhRLaq8jAJ5zT","/ip4/172.18.225.189/tcp/48280/ws/p2p/16Uiu2HAm6Pz5eV3u871vuE5LszZzFVRtcT64dGCVhRLaq8jAJ5zT"],"enrUri":"enr:-L24QH1VKvUkpekwz-Ld0RdW42X9XrCLtMm8IaBvdBxGFhpsboU0PDQZkSO7ghU1bGvmbBa08XkxQ4XvohmAv8Y_KFQCgmlkgnY0gmlwhKwS4b2KbXVsdGlhZGRyc5YACASsEuG9BryXAAoErBLhvQa8mN0DgnJzhQADAQAAiXNlY3AyNTZrMaECowHcgYSaX9-bf0NKz93BlTw3wlmhrFbhDMjmiYpIksyDdGNwgryXg3VkcIK8mYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48278/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.245.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51626', '51627', '51628', '51629', '51630']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51626:51626 -p 51627:51627 -p 51628:51628 -p 51629:51629 -p 51630:51630 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51628 --rest-port=51626 --tcp-port=51627 --discv5-udp-port=51629 --rest-address=0.0.0.0 --nat=extip:172.18.245.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdb51cccafd7a1cbbdf779b922535b1bd8248ab194493fb0ac2c1d41dcaf42c9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51630 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEXp1g_f-dw-eeMBhMZbrS08c4Qgeu7OXYK6T_Op1l5_SRK2u-UWQvN2GyCKkO1QuVYTHQrmS7H0Pj-diV3UrbMCgmlkgnY0gmlwhKwSOCqKbXVsdGlhZGRyc5YACASsEjgqBr8CAAoErBI4Kga_A90DgnJzhQADAQAAiXNlY3AyNTZrMaECBVTBK_rJPM-vzPeFY8cTckulmFRcaMXfaB4K2agx83qDdGNwgr8Cg3VkcIK_BIV3YWt1MgU --filternode=/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.245.50 waku efbf5136ffa577b5008cbbb5ad5a76c7128510617f7d6a5bd9e22234dbda472e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID efbf5136ffa5. Setting up logs at ./log/docker/node3_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51626
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51626/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51626/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.245.50/tcp/51627/p2p/16Uiu2HAmTa7i8F1yVxbFVmctLnvb3JjpzSR7FZ7CHk4jghHxwPFi","/ip4/172.18.245.50/tcp/51628/ws/p2p/16Uiu2HAmTa7i8F1yVxbFVmctLnvb3JjpzSR7FZ7CHk4jghHxwPFi"],"enrUri":"enr:-L24QAD00UgnaqRC7RF1qM5S0Cg9cucIoxfHsosPo0Cz1DndAnLLQSYQQYPJa98W83Oa2D-8E1y5TnfhO_rYmqYJbMMCgmlkgnY0gmlwhKwS9TKKbXVsdGlhZGRyc5YACASsEvUyBsmrAAoErBL1MgbJrN0DgnJzhQADAQAAiXNlY3AyNTZrMaED3Z-4kUYb6wd7Csb_iat5bMSAoS0pKPhl7OSigTe1uM2DdGNwgsmrg3VkcILJrYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51626/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7429', '7430', '7431', '7432', '7433']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7429:7429 -p 7430:7430 -p 7431:7431 -p 7432:7432 -p 7433:7433 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7431 --rest-port=7429 --tcp-port=7430 --discv5-udp-port=7432 --rest-address=0.0.0.0 --nat=extip:172.18.88.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd849a9845bb14af3d2088ddf5a9acc8bc824e5dfeb1aab12bcdcd696be3d84b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7433 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEXp1g_f-dw-eeMBhMZbrS08c4Qgeu7OXYK6T_Op1l5_SRK2u-UWQvN2GyCKkO1QuVYTHQrmS7H0Pj-diV3UrbMCgmlkgnY0gmlwhKwSOCqKbXVsdGlhZGRyc5YACASsEjgqBr8CAAoErBI4Kga_A90DgnJzhQADAQAAiXNlY3AyNTZrMaECBVTBK_rJPM-vzPeFY8cTckulmFRcaMXfaB4K2agx83qDdGNwgr8Cg3VkcIK_BIV3YWt1MgU --filternode=/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.180 waku ddfaa63278937350f62297f47f53c1d0328d65e7855d6bf0f1a453abcb5f2113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ddfaa6327893. Setting up logs at ./log/docker/node4_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7429
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7429/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7429/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.180/tcp/7430/p2p/16Uiu2HAm3GeFYB64nF2UTsrpu6J5SKzFAsFTnNVGUv6f2nSUzp92","/ip4/172.18.88.180/tcp/7431/ws/p2p/16Uiu2HAm3GeFYB64nF2UTsrpu6J5SKzFAsFTnNVGUv6f2nSUzp92"],"enrUri":"enr:-L24QCPmyOoBKOjShEB5WSwabZlr7riN9rS5xNqJiQLsw7dxIg76mwJYwX42plLz2l2F9rEVBCOdwXaLQRD1N6v2g-wCgmlkgnY0gmlwhKwSWLSKbXVsdGlhZGRyc5YACASsEli0Bh0GAAoErBJYtAYdB90DgnJzhQADAQAAiXNlY3AyNTZrMaECdI1QTFRmsb6SrodJxwMe2qKEUfLUelUAO8V8C6iZo2WDdGNwgh0Gg3VkcIIdCIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7429/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11379', '11380', '11381', '11382', '11383']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11379:11379 -p 11380:11380 -p 11381:11381 -p 11382:11382 -p 11383:11383 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11381 --rest-port=11379 --tcp-port=11380 --discv5-udp-port=11382 --rest-address=0.0.0.0 --nat=extip:172.18.137.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4db10bfe5bd8f587caf4ddbca05becbbcacd30debd89cdd35fdedbb2b5d45c16 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11383 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEXp1g_f-dw-eeMBhMZbrS08c4Qgeu7OXYK6T_Op1l5_SRK2u-UWQvN2GyCKkO1QuVYTHQrmS7H0Pj-diV3UrbMCgmlkgnY0gmlwhKwSOCqKbXVsdGlhZGRyc5YACASsEjgqBr8CAAoErBI4Kga_A90DgnJzhQADAQAAiXNlY3AyNTZrMaECBVTBK_rJPM-vzPeFY8cTckulmFRcaMXfaB4K2agx83qDdGNwgr8Cg3VkcIK_BIV3YWt1MgU --filternode=/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.137.32 waku df2564d85ea7a81332c97c1555d70cddff527a9602d658d8a05a81c9849d0351
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID df2564d85ea7. Setting up logs at ./log/docker/node5_2024-10-29_09-48-21__9eb12262-1311-448c-8221-614af92fba91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11379
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11379/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11379/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.32/tcp/11380/p2p/16Uiu2HAmLW8FYHyFeh3ncKb5o6PKp3ZPEfsfABFBASTZKkRFWJY3","/ip4/172.18.137.32/tcp/11381/ws/p2p/16Uiu2HAmLW8FYHyFeh3ncKb5o6PKp3ZPEfsfABFBASTZKkRFWJY3"],"enrUri":"enr:-L24QImG1dGEOSZgPfPgeD2umL4CKiCGKk3tA1-kLTtKJTbFP_LT9lzntL0nvPI1WhvaDi3t8cDnfZehIIkvPGhVo2wCgmlkgnY0gmlwhKwSiSCKbXVsdGlhZGRyc5YACASsEokgBix0AAoErBKJIAYsdd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdJgzoL4G6hB5YEkM4dyBMyO20BbtzcKKpQsh6otadJSDdGNwgix0g3VkcIIsdoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11379/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.42/tcp/48898/p2p/16Uiu2HAkunUyZ5BKuixtYQUeskKNxhXiKPwLTEbAj2V4zGUouZpu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48897/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48278/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "febc0212-52ed-4550-8fed-4df8340e53e1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"febc0212-52ed-4550-8fed-4df8340e53e1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51626/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a79071a0-3394-4540-a1ad-7d17f96ffa3e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a79071a0-3394-4540-a1ad-7d17f96ffa3e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7429/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "950e0127-d739-45f0-bf02-30afb72df0f4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"950e0127-d739-45f0-bf02-30afb72df0f4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11379/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "87dd6c36-8129-4214-81ab-56c2c3ef5226", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"87dd6c36-8129-4214-81ab-56c2c3ef5226","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48897/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48278/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730195309710932736,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48897/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51626/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:51626/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 32a3e7d01daa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ff9743e9daaf
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 32a3e7d01daa. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id efbf5136ffa5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ff9743e9daaf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ddfaa6327893
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container efbf5136ffa5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id df2564d85ea7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ddfaa6327893. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.