[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_valid_payloads_with_optional_nodes_at_spam_rate with id: 2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55257', '55258', '55259', '55260', '55261']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_ddrk_1:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_ddrk_1:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55257:55257 -p 55258:55258 -p 55259:55259 -p 55260:55260 -p 55261:55261 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55259 --rest-port=55257 --tcp-port=55258 --discv5-udp-port=55260 --rest-address=0.0.0.0 --nat=extip:172.18.22.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b57e740ebd7dbddcad1e035cf068fbfb5bd475a27e7e3e64eeb3fa2deebea5c3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55261 --metrics-logging=true --relay=true --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.42 waku 670e1e3d518abd40ad796c1d20ed0adfa0065fe00d4c18a70f51ae1a4326ae0c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 670e1e3d518a. Setting up logs at ./log/docker/node1_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55257
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 18897c779f57. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55257/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55257/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.42/tcp/55258/p2p/16Uiu2HAmVRYSEBXLMDekLRGGWS67hh389tT6Z9TSb6dfyQLPpLfq","/ip4/172.18.22.42/tcp/55259/ws/p2p/16Uiu2HAmVRYSEBXLMDekLRGGWS67hh389tT6Z9TSb6dfyQLPpLfq"],"enrUri":"enr:-L24QASZZWmzhU41lVkaglFfJNCu0b4NtBdIi-LqqM7x_CGEHZ0QtCQvRcoY93lF4R1S4B5rralNPe4K_wN9GZVwJBECgmlkgnY0gmlwhKwSFiqKbXVsdGlhZGRyc5YACASsEhYqBtfaAAoErBIWKgbX290DgnJzhQADAQAAiXNlY3AyNTZrMaED-STTQLSqXQjrkBKFBGUgvczvIP7a5RgNlXNxazXP59CDdGNwgtfag3VkcILX3IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.87.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10992', '10993', '10994', '10995', '10996']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_wchg_2:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_wchg_2:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10992:10992 -p 10993:10993 -p 10994:10994 -p 10995:10995 -p 10996:10996 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10994 --rest-port=10992 --tcp-port=10993 --discv5-udp-port=10995 --rest-address=0.0.0.0 --nat=extip:172.18.87.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbc7eb120da6971c57edc9bb85c41c5ffa56d45bd2d9d68d99fbaa7aebead01f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10996 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASZZWmzhU41lVkaglFfJNCu0b4NtBdIi-LqqM7x_CGEHZ0QtCQvRcoY93lF4R1S4B5rralNPe4K_wN9GZVwJBECgmlkgnY0gmlwhKwSFiqKbXVsdGlhZGRyc5YACASsEhYqBtfaAAoErBIWKgbX290DgnJzhQADAQAAiXNlY3AyNTZrMaED-STTQLSqXQjrkBKFBGUgvczvIP7a5RgNlXNxazXP59CDdGNwgtfag3VkcILX3IV3YWt1MgE --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.87.236 waku c75a84a39896d997d3ab33a9009c02455a091f30fbee29e0db06e74f5cc43884
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c75a84a39896. Setting up logs at ./log/docker/node2_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10992
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10992/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10992/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10992/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.87.236/tcp/10993/p2p/16Uiu2HAm6kj4qFF8dCx8r5BVxP43zjfEyxmYCjXfQNKk2yfwxupL","/ip4/172.18.87.236/tcp/10994/ws/p2p/16Uiu2HAm6kj4qFF8dCx8r5BVxP43zjfEyxmYCjXfQNKk2yfwxupL"],"enrUri":"enr:-L24QNs0JxDlU7p_HoSeEKhSp8_NYwWrWgp5Ans51qonHXORDLUOPyEpiforg3FVXTfk2wNRW0BSbYveQu37d00fTgoCgmlkgnY0gmlwhKwSV-yKbXVsdGlhZGRyc5YACASsElfsBirxAAoErBJX7AYq8t0DgnJzhQADAQAAiXNlY3AyNTZrMaECqFIU-BEbwtgIN7N3xB7c38E-LokR4Yfxf8C-EyGOv0GDdGNwgirxg3VkcIIq84V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10992/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.42/tcp/55258/p2p/16Uiu2HAmVRYSEBXLMDekLRGGWS67hh389tT6Z9TSb6dfyQLPpLfq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.48.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31617', '31618', '31619', '31620', '31621']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_oaao_3:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_oaao_3:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31617:31617 -p 31618:31618 -p 31619:31619 -p 31620:31620 -p 31621:31621 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31619 --rest-port=31617 --tcp-port=31618 --discv5-udp-port=31620 --rest-address=0.0.0.0 --nat=extip:172.18.48.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4e4fcd9caada19b3cdd180baf352597601ec543cfdac1c2defca81fca256cdb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31621 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASZZWmzhU41lVkaglFfJNCu0b4NtBdIi-LqqM7x_CGEHZ0QtCQvRcoY93lF4R1S4B5rralNPe4K_wN9GZVwJBECgmlkgnY0gmlwhKwSFiqKbXVsdGlhZGRyc5YACASsEhYqBtfaAAoErBIWKgbX290DgnJzhQADAQAAiXNlY3AyNTZrMaED-STTQLSqXQjrkBKFBGUgvczvIP7a5RgNlXNxazXP59CDdGNwgtfag3VkcILX3IV3YWt1MgE --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.48.223 waku 1328eb102e0f2a665c4eca86c7a9ee5bba9407a01d293649220ac28a9642e19c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1328eb102e0f. Setting up logs at ./log/docker/node3_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31617
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31617/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31617/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31617/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.223/tcp/31618/p2p/16Uiu2HAmJ2wJiqiugCqgZh3zghaCioSFdcrB7PwTHPiMz1EDQowA","/ip4/172.18.48.223/tcp/31619/ws/p2p/16Uiu2HAmJ2wJiqiugCqgZh3zghaCioSFdcrB7PwTHPiMz1EDQowA"],"enrUri":"enr:-L24QGMAtwks5edT2kDImSvVJjH_rXKnAo3OWyufOwQ7zq3DRPB_FCvaw6y8ITfO9DEVSdhpQEohF8AoVQnMv1NRk1sCgmlkgnY0gmlwhKwSMN-KbXVsdGlhZGRyc5YACASsEjDfBnuCAAoErBIw3wZ7g90DgnJzhQADAQAAiXNlY3AyNTZrMaEDT-nFMAT5r7JKA4E1K5G_q7FomQnngYtCEEg-84xZRLWDdGNwgnuCg3VkcIJ7hIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31617/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.42/tcp/55258/p2p/16Uiu2HAmVRYSEBXLMDekLRGGWS67hh389tT6Z9TSb6dfyQLPpLfq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.224.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46443', '46444', '46445', '46446', '46447']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_fqwu_4:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_fqwu_4:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46443:46443 -p 46444:46444 -p 46445:46445 -p 46446:46446 -p 46447:46447 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46445 --rest-port=46443 --tcp-port=46444 --discv5-udp-port=46446 --rest-address=0.0.0.0 --nat=extip:172.18.224.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ca5a4f22cddb3c0bfd87a23ad976ef1e6d6f7ceddebc2a585ffebc0c3e3c6a6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46447 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASZZWmzhU41lVkaglFfJNCu0b4NtBdIi-LqqM7x_CGEHZ0QtCQvRcoY93lF4R1S4B5rralNPe4K_wN9GZVwJBECgmlkgnY0gmlwhKwSFiqKbXVsdGlhZGRyc5YACASsEhYqBtfaAAoErBIWKgbX290DgnJzhQADAQAAiXNlY3AyNTZrMaED-STTQLSqXQjrkBKFBGUgvczvIP7a5RgNlXNxazXP59CDdGNwgtfag3VkcILX3IV3YWt1MgE --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.224.115 waku 0aa22ede79c863243b9381e834873888b92df35bec76bbe91cdebc7709b5cbe3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0aa22ede79c8. Setting up logs at ./log/docker/node4_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46443
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46443/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46443/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46443/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.115/tcp/46444/p2p/16Uiu2HAm6iPMzXkr3JvN2QTHHzkf7njN4CXisNoKRb7o2UDfSCkX","/ip4/172.18.224.115/tcp/46445/ws/p2p/16Uiu2HAm6iPMzXkr3JvN2QTHHzkf7njN4CXisNoKRb7o2UDfSCkX"],"enrUri":"enr:-L24QOieApA3CEEBpkdAjKhxRNsoeQYvoX-VLy38wiJMTmUVEimj788SBfzura5H8W-N9gYepUVnVBGf923AbTeMXt8CgmlkgnY0gmlwhKwS4HOKbXVsdGlhZGRyc5YACASsEuBzBrVsAAoErBLgcwa1bd0DgnJzhQADAQAAiXNlY3AyNTZrMaECp7ikCHGVo8XD0itpqKCUCu7-9BMsoGGG2b9wZbXgYXCDdGNwgrVsg3VkcIK1boV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46443/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.42/tcp/55258/p2p/16Uiu2HAmVRYSEBXLMDekLRGGWS67hh389tT6Z9TSb6dfyQLPpLfq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18577', '18578', '18579', '18580', '18581']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_mnkh_5:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_mnkh_5:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18577:18577 -p 18578:18578 -p 18579:18579 -p 18580:18580 -p 18581:18581 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18579 --rest-port=18577 --tcp-port=18578 --discv5-udp-port=18580 --rest-address=0.0.0.0 --nat=extip:172.18.9.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b96bd8cea081d0cd04bbf33742fede427be81dc5a3e173d91ff7f9fcabb5aeda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18581 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASZZWmzhU41lVkaglFfJNCu0b4NtBdIi-LqqM7x_CGEHZ0QtCQvRcoY93lF4R1S4B5rralNPe4K_wN9GZVwJBECgmlkgnY0gmlwhKwSFiqKbXVsdGlhZGRyc5YACASsEhYqBtfaAAoErBIWKgbX290DgnJzhQADAQAAiXNlY3AyNTZrMaED-STTQLSqXQjrkBKFBGUgvczvIP7a5RgNlXNxazXP59CDdGNwgtfag3VkcILX3IV3YWt1MgE --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.197 waku 1932a8f7ec378896f4e1c9d3e5f0dc555412aa1ed01b94c6ef2dbda104c6ce96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1932a8f7ec37. Setting up logs at ./log/docker/node5_2024-10-29_10-39-35__ea7c1be0-f585-4c02-b956-b62ab3afee8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18577
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18577/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18577/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18577/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.197/tcp/18578/p2p/16Uiu2HAmQ9HmNfN3S6KcTjqp8Eeq3UC4QbQjomrfbeNs9h2k54UG","/ip4/172.18.9.197/tcp/18579/ws/p2p/16Uiu2HAmQ9HmNfN3S6KcTjqp8Eeq3UC4QbQjomrfbeNs9h2k54UG"],"enrUri":"enr:-L24QEx9gmWJcj2gDROMhvK87KL90CrQG4vg-4gTK3tHSXLrdcE7V9FRDRD8Kf4c4kUAlNMcTlxKpGnmx4qvsHxHG3kCgmlkgnY0gmlwhKwSCcWKbXVsdGlhZGRyc5YACASsEgnFBkiSAAoErBIJxQZIk90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqrCCpN8WlO-RyGkizwddLQLWTNdZgvMei8G5SbnhI4mDdGNwgkiSg3VkcIJIlIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18577/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.42/tcp/55258/p2p/16Uiu2HAmVRYSEBXLMDekLRGGWS67hh389tT6Z9TSb6dfyQLPpLfq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55257/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10992/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31617/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46443/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18577/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A simple string
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload An integer
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #2
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 1 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A dictionary
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #3
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 2 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Chinese characters
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #4
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 3 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Emojis
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #5
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:55257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 4 & nonceLimit: 1'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 670e1e3d518a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c75a84a39896
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 670e1e3d518a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1328eb102e0f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c75a84a39896. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0aa22ede79c8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1328eb102e0f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1932a8f7ec37
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0aa22ede79c8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.