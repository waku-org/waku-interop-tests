[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2024-11-20_04-38-42__505f3e10-2fcb-44be-a859-7c1f287247a0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-20_04-38-42__505f3e10-2fcb-44be-a859-7c1f287247a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52114', '52115', '52116', '52117', '52118']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52114:52114 -p 52115:52115 -p 52116:52116 -p 52117:52117 -p 52118:52118 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52116 --rest-port=52114 --tcp-port=52115 --discv5-udp-port=52117 --rest-address=0.0.0.0 --nat=extip:172.18.6.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4dde3f4064ea81aeae124cc8bfea3abeeba0d2acad9af882df33c80fd6ce3acc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52118 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.177 waku f70fcabe581959bb5c726029dc1aa6613ca41be7b56b5056f098aa687e520d6e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f70fcabe5819. Setting up logs at ./log/docker/publishing_node1_2024-11-20_04-38-42__505f3e10-2fcb-44be-a859-7c1f287247a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 52114
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 757ba4144fe7. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52114/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52114/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.177/tcp/52115/p2p/16Uiu2HAmFhHkMxxmbGrkQDjG84rNtSe97gCQz62Thf9MGthNt4pz","/ip4/172.18.6.177/tcp/52116/ws/p2p/16Uiu2HAmFhHkMxxmbGrkQDjG84rNtSe97gCQz62Thf9MGthNt4pz"],"enrUri":"enr:-L24QL8UgGLVC56R2HDlHDvdaDx3xCnNx0v7TeoWZLKoMxmNZg4PGzsNKAoT8q7hTLpo-AMRy8natp_3MN589zw5yf8CgmlkgnY0gmlwhKwSBrGKbXVsdGlhZGRyc5YACASsEgaxBsuTAAoErBIGsQbLlN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLSnk5yy-oEyQjOP2Zq_bbSi0tN9tWHf_S08rlbCvM9ODdGNwgsuTg3VkcILLlYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-20_04-38-42__505f3e10-2fcb-44be-a859-7c1f287247a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.229.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13203', '13204', '13205', '13206', '13207']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13203:13203 -p 13204:13204 -p 13205:13205 -p 13206:13206 -p 13207:13207 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13205 --rest-port=13203 --tcp-port=13204 --discv5-udp-port=13206 --rest-address=0.0.0.0 --nat=extip:172.18.229.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a12caffb5fceeb684d2b0f8977ac3cf67ec22a41cccecdb63efef2e2f2c3ea7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13207 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QL8UgGLVC56R2HDlHDvdaDx3xCnNx0v7TeoWZLKoMxmNZg4PGzsNKAoT8q7hTLpo-AMRy8natp_3MN589zw5yf8CgmlkgnY0gmlwhKwSBrGKbXVsdGlhZGRyc5YACASsEgaxBsuTAAoErBIGsQbLlN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLSnk5yy-oEyQjOP2Zq_bbSi0tN9tWHf_S08rlbCvM9ODdGNwgsuTg3VkcILLlYV3YWt1MgM --storenode=/ip4/172.18.6.177/tcp/52115/p2p/16Uiu2HAmFhHkMxxmbGrkQDjG84rNtSe97gCQz62Thf9MGthNt4pz --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.229.170 waku 10b9032a42a5a589cb07eebed5ac148cef5c7326de76f9e3666529fa756affc2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 10b9032a42a5. Setting up logs at ./log/docker/store_node1_2024-11-20_04-38-42__505f3e10-2fcb-44be-a859-7c1f287247a0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 13203
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13203/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13203/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.170/tcp/13204/p2p/16Uiu2HAm4kkufCQswaW5Hsrq6SgVXCJ2WQ9yvzE6nFXnhMaec3j4","/ip4/172.18.229.170/tcp/13205/ws/p2p/16Uiu2HAm4kkufCQswaW5Hsrq6SgVXCJ2WQ9yvzE6nFXnhMaec3j4"],"enrUri":"enr:-L24QDXle5zMATk6LAe7iDrXYgkKtPOUPRRKdMdSG0F1_7bbeHVpjEnBQkHghJVMeA7dm5IlE6yeuQZj14zLzqprXHECgmlkgnY0gmlwhKwS5aqKbXVsdGlhZGRyc5YACASsEuWqBjOUAAoErBLlqgYzld0DgnJzhQADAQAAiXNlY3AyNTZrMaECipzKZu4_APDMaUJSEf2nQ1Qu91eASHDEPDX0-wZPrjeDdGNwgjOUg3VkcIIzloV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13203/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.177/tcp/52115/p2p/16Uiu2HAmFhHkMxxmbGrkQDjG84rNtSe97gCQz62Thf9MGthNt4pz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13203/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:204 inquering stored messages with start time 1732077531765847808 after end time 2423277536009987584
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52114/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1732077531765847808&endTime=2423277536009987584&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"llLjrDru3KaMl/EiCThgaU3k3cJDWbR0JYAA1BA1w6A=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077531765847808,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"gztBxphIfrYs+GFXjRccOi9dPtzTjFlQpDZiP8gvupA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077533765853952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lqJanbpausyaU9DVqMYJKdxAqpnKSF6E5imwvlgdefE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077534665856000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"BHbagvnAs+/uvdngnrhQhVNGBdH+vrY/CZKGlhwK+OQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077534865858048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Qmb66gIy4/MOaI+SFxrfbjWQ/Fz3MvoZaDDshHA+9f0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077536765860096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"jKeOHbpX4JQ2Ysxo1GJWc5KrIG32XkYa7y+0Z/CvYwQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077544765861120,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1732077531765847808 and end time = 2423277536009987584 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13203/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1732077531765847808&endTime=2423277536009987584&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"llLjrDru3KaMl/EiCThgaU3k3cJDWbR0JYAA1BA1w6A=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077531765847808,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"gztBxphIfrYs+GFXjRccOi9dPtzTjFlQpDZiP8gvupA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077533765853952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lqJanbpausyaU9DVqMYJKdxAqpnKSF6E5imwvlgdefE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077534665856000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"BHbagvnAs+/uvdngnrhQhVNGBdH+vrY/CZKGlhwK+OQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077534865858048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"Qmb66gIy4/MOaI+SFxrfbjWQ/Fz3MvoZaDDshHA+9f0=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077536765860096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"jKeOHbpX4JQ2Ysxo1GJWc5KrIG32XkYa7y+0Z/CvYwQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732077544765861120,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:207 number of messages stored for start time 1732077531765847808 and end time = 2423277536009987584 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f70fcabe5819
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 10b9032a42a5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f70fcabe5819. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.