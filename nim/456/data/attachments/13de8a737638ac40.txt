[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.9.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38497', '38498', '38499', '38500', '38501']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38497:38497 -p 38498:38498 -p 38499:38499 -p 38500:38500 -p 38501:38501 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38499 --rest-port=38497 --tcp-port=38498 --discv5-udp-port=38500 --rest-address=0.0.0.0 --nat=extip:172.18.9.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffebbaf50344dfabf1cf48935326b9f73af6bf1f751cd0e18a6adc7f9fcb63df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38501 --metrics-logging=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6a123297aec9. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.9.34 waku 2d006d6c4aacef099095800c9195462b618fcc35881cc213c82c760d1c5fc7d2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2d006d6c4aac. Setting up logs at ./log/docker/node1_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 38497
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38497/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38497/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.34/tcp/38498/p2p/16Uiu2HAm4PhezjpjqwuovckNRcRrZqKEcmTe2eCbdyD9SJ8U4X8x","/ip4/172.18.9.34/tcp/38499/ws/p2p/16Uiu2HAm4PhezjpjqwuovckNRcRrZqKEcmTe2eCbdyD9SJ8U4X8x"],"enrUri":"enr:-L24QPzH4WKqgwZwq1ObAiQcOQKBZcW6omleXH7PT-6U8ft3ZrNrdendSQ1mHB8Jwe_boV4oOgdUFAIvpuW7RXHJAEkCgmlkgnY0gmlwhKwSCSKKbXVsdGlhZGRyc5YACASsEgkiBpZiAAoErBIJIgaWY90DgnJzhQADAQAAiXNlY3AyNTZrMaEChTfqacj4hRcpyuVt_G0t13KXOOi6qOjwsTdXkqApY02DdGNwgpZig3VkcIKWZIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.194.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49158', '49159', '49160', '49161', '49162']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49158:49158 -p 49159:49159 -p 49160:49160 -p 49161:49161 -p 49162:49162 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49160 --rest-port=49158 --tcp-port=49159 --discv5-udp-port=49161 --rest-address=0.0.0.0 --nat=extip:172.18.194.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=13eb5ab3418d6edac2d244a5ac4f2cef7a9feb0907b9e5ecd91c45ebc753ebc4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49162 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPzH4WKqgwZwq1ObAiQcOQKBZcW6omleXH7PT-6U8ft3ZrNrdendSQ1mHB8Jwe_boV4oOgdUFAIvpuW7RXHJAEkCgmlkgnY0gmlwhKwSCSKKbXVsdGlhZGRyc5YACASsEgkiBpZiAAoErBIJIgaWY90DgnJzhQADAQAAiXNlY3AyNTZrMaEChTfqacj4hRcpyuVt_G0t13KXOOi6qOjwsTdXkqApY02DdGNwgpZig3VkcIKWZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.194.102 waku cb9ddb98186b90f1db275b79e92635afaa0eef1df3328706b87222f36d6abcf8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cb9ddb98186b. Setting up logs at ./log/docker/node2_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 49158
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49158/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49158/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.102/tcp/49159/p2p/16Uiu2HAmVPzmfEXfjB1sNi1pycjqZRpygQMpf8FEwWAQDWh2nPhd","/ip4/172.18.194.102/tcp/49160/ws/p2p/16Uiu2HAmVPzmfEXfjB1sNi1pycjqZRpygQMpf8FEwWAQDWh2nPhd"],"enrUri":"enr:-L24QMxrgxIqc9u8TtNuZQ9muQ62oOVNocF0d0-Kj4uaOAHUE7mLZA7mBOSgyUehTs81asZTlWQfHwS3J7lKBTOmnd8CgmlkgnY0gmlwhKwSwmaKbXVsdGlhZGRyc5YACASsEsJmBsAHAAoErBLCZgbACN0DgnJzhQADAQAAiXNlY3AyNTZrMaED-L9w0goZ2VPolf4v_1Xve6lyI-lCLIY1NVk2AzprmaSDdGNwgsAHg3VkcILACYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49158/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.34/tcp/38498/p2p/16Uiu2HAm4PhezjpjqwuovckNRcRrZqKEcmTe2eCbdyD9SJ8U4X8x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34932', '34933', '34934', '34935', '34936']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34932:34932 -p 34933:34933 -p 34934:34934 -p 34935:34935 -p 34936:34936 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34934 --rest-port=34932 --tcp-port=34933 --discv5-udp-port=34935 --rest-address=0.0.0.0 --nat=extip:172.18.164.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea86b7b7a6a20d62f4449ae0274fda0ad336d4fc836bfeabeab2cefcf72a53da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34936 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPzH4WKqgwZwq1ObAiQcOQKBZcW6omleXH7PT-6U8ft3ZrNrdendSQ1mHB8Jwe_boV4oOgdUFAIvpuW7RXHJAEkCgmlkgnY0gmlwhKwSCSKKbXVsdGlhZGRyc5YACASsEgkiBpZiAAoErBIJIgaWY90DgnJzhQADAQAAiXNlY3AyNTZrMaEChTfqacj4hRcpyuVt_G0t13KXOOi6qOjwsTdXkqApY02DdGNwgpZig3VkcIKWZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.114 waku 521199a3b5b5643d3a17257d8ec0ee5d01f50a4a89c913ccb02b15e4985c65a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 521199a3b5b5. Setting up logs at ./log/docker/node3_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 34932
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34932/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34932/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.114/tcp/34933/p2p/16Uiu2HAm5Tp83Kqx3tYJckVwxKy7vuBJnUh6Q4MpKGfmVoZuHf35","/ip4/172.18.164.114/tcp/34934/ws/p2p/16Uiu2HAm5Tp83Kqx3tYJckVwxKy7vuBJnUh6Q4MpKGfmVoZuHf35"],"enrUri":"enr:-L24QLtRXxNulMOdeq_C5WkAagoF5bTGJMj8iggGvXyDNbNaFCRNzkhSeWFyZRA3rTCl-63lyl_qpwGseHB_pW6amQoCgmlkgnY0gmlwhKwSpHKKbXVsdGlhZGRyc5YACASsEqRyBoh1AAoErBKkcgaIdt0DgnJzhQADAQAAiXNlY3AyNTZrMaEClSE8vzD_bcxIazSHYFJLzL2eN25-lGISyjGNHyh_2xCDdGNwgoh1g3VkcIKId4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34932/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.34/tcp/38498/p2p/16Uiu2HAm4PhezjpjqwuovckNRcRrZqKEcmTe2eCbdyD9SJ8U4X8x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.34.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12026', '12027', '12028', '12029', '12030']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12026:12026 -p 12027:12027 -p 12028:12028 -p 12029:12029 -p 12030:12030 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12028 --rest-port=12026 --tcp-port=12027 --discv5-udp-port=12029 --rest-address=0.0.0.0 --nat=extip:172.18.34.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc142c61baf998ed67005dbaac7dd70ebf40fd5bbac9cfd0f7050cac92bcabcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12030 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPzH4WKqgwZwq1ObAiQcOQKBZcW6omleXH7PT-6U8ft3ZrNrdendSQ1mHB8Jwe_boV4oOgdUFAIvpuW7RXHJAEkCgmlkgnY0gmlwhKwSCSKKbXVsdGlhZGRyc5YACASsEgkiBpZiAAoErBIJIgaWY90DgnJzhQADAQAAiXNlY3AyNTZrMaEChTfqacj4hRcpyuVt_G0t13KXOOi6qOjwsTdXkqApY02DdGNwgpZig3VkcIKWZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.34.106 waku a3a5030ff1eb3b986e9249814b855b431518816d10b0f0738aec97bb3e7953d7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a3a5030ff1eb. Setting up logs at ./log/docker/node4_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 12026
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12026/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12026/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.106/tcp/12027/p2p/16Uiu2HAmGtUnbp329Hy3mBZzy4tcs88diT4JDP1ns4iP4doyoQvL","/ip4/172.18.34.106/tcp/12028/ws/p2p/16Uiu2HAmGtUnbp329Hy3mBZzy4tcs88diT4JDP1ns4iP4doyoQvL"],"enrUri":"enr:-L24QACa4eidFX-rI13wokgsmn_EAUvqFBbNN6SpaOxERWgwHmBcxdrclZdwwmaqgC9YpXlRF9gL1xo-c-RTq1_tcR4CgmlkgnY0gmlwhKwSImqKbXVsdGlhZGRyc5YACASsEiJqBi77AAoErBIiagYu_N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDPuNzjHWRsvAd8HMC3GzEDpT5yy0jJ8tfjFELpFiZeEGDdGNwgi77g3VkcIIu_YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12026/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.34/tcp/38498/p2p/16Uiu2HAm4PhezjpjqwuovckNRcRrZqKEcmTe2eCbdyD9SJ8U4X8x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.64.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1955', '1956', '1957', '1958', '1959']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1955:1955 -p 1956:1956 -p 1957:1957 -p 1958:1958 -p 1959:1959 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1957 --rest-port=1955 --tcp-port=1956 --discv5-udp-port=1958 --rest-address=0.0.0.0 --nat=extip:172.18.64.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec7c6edf4a7fd7ecffecb2e6dddd72c8ef185fcc6e44f6fd9257cad8b90edf57 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1959 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPzH4WKqgwZwq1ObAiQcOQKBZcW6omleXH7PT-6U8ft3ZrNrdendSQ1mHB8Jwe_boV4oOgdUFAIvpuW7RXHJAEkCgmlkgnY0gmlwhKwSCSKKbXVsdGlhZGRyc5YACASsEgkiBpZiAAoErBIJIgaWY90DgnJzhQADAQAAiXNlY3AyNTZrMaEChTfqacj4hRcpyuVt_G0t13KXOOi6qOjwsTdXkqApY02DdGNwgpZig3VkcIKWZIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.64.250 waku cc629feb9205ca2d1007d495181b1f8ab510e83e15ce6e13e48bbc19d208f8b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cc629feb9205. Setting up logs at ./log/docker/node5_2024-11-20_04-18-13__10d923f8-6473-4aab-8110-dcea101e4bf6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 1955
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1955/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1955/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.64.250/tcp/1956/p2p/16Uiu2HAmAZjmSQmQiPDUVc89td8iBpPvyho6q7LhvUwMjpqNg87V","/ip4/172.18.64.250/tcp/1957/ws/p2p/16Uiu2HAmAZjmSQmQiPDUVc89td8iBpPvyho6q7LhvUwMjpqNg87V"],"enrUri":"enr:-L24QONOnICe1U3IWr4eHAK3eUKgdZmZSC2mW2YIodxpQiOOJFQ_LFUfTa5AEkb3YRrQGJiPJ8tyDaNixF0KwirUrBACgmlkgnY0gmlwhKwSQPqKbXVsdGlhZGRyc5YACASsEkD6BgekAAoErBJA-gYHpd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC4PA7egaKd_eEe8mIfAtImJyXFliOGia9cAqcLLahfJyDdGNwggekg3VkcIIHpoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1955/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.9.34/tcp/38498/p2p/16Uiu2HAm4PhezjpjqwuovckNRcRrZqKEcmTe2eCbdyD9SJ8U4X8x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38497/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49158/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34932/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12026/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1955/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301687104000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301687104000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34932/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301687104000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12026/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301687104000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1955/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301687104000,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38497/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301814455296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301814455296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34932/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301814455296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12026/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301814455296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1955/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732076301814455296,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2d006d6c4aac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id cb9ddb98186b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2d006d6c4aac. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 521199a3b5b5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cb9ddb98186b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a3a5030ff1eb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 521199a3b5b5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id cc629feb9205
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a3a5030ff1eb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.