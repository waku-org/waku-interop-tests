[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46080', '46081', '46082', '46083', '46084']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46080:46080 -p 46081:46081 -p 46082:46082 -p 46083:46083 -p 46084:46084 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46082 --rest-port=46080 --tcp-port=46081 --discv5-udp-port=46083 --rest-address=0.0.0.0 --nat=extip:172.18.99.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25dcee9abafa9f90e9e5d9d1e32379ca5fcab2f90778fbf98dd2489b87ad162f --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46084 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.102 waku c288944d71a8b173c035c780d7a7aebaec3768273a91e7a0770658c89620bda0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c288944d71a8. Setting up logs at ./log/docker/node1_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 46080
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4db1380b287f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46080/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46080/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1","/ip4/172.18.99.102/tcp/46082/ws/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1"],"enrUri":"enr:-L24QGvGy4Q-N54ypKCnf6qR346E17SKOAx9f7ygn-1dMO4gAmwgpu02WqxyyN7SCy6QH7UHji-x24SI8Ljzpd4IdgICgmlkgnY0gmlwhKwSY2aKbXVsdGlhZGRyc5YACASsEmNmBrQBAAoErBJjZga0At0DgnJzhQADAQAAiXNlY3AyNTZrMaECiB87JWPExu_Ui_GwS-cdpi9TJH3xk5OLjmcUCMA_ODKDdGNwgrQBg3VkcIK0A4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.161.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35524', '35525', '35526', '35527', '35528']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35524:35524 -p 35525:35525 -p 35526:35526 -p 35527:35527 -p 35528:35528 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35526 --rest-port=35524 --tcp-port=35525 --discv5-udp-port=35527 --rest-address=0.0.0.0 --nat=extip:172.18.161.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=02eedecf9a3df201e7fd9de94ce7ced0dad74dcdce2ac0eccb56f8acbc34e08f --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35528 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGvGy4Q-N54ypKCnf6qR346E17SKOAx9f7ygn-1dMO4gAmwgpu02WqxyyN7SCy6QH7UHji-x24SI8Ljzpd4IdgICgmlkgnY0gmlwhKwSY2aKbXVsdGlhZGRyc5YACASsEmNmBrQBAAoErBJjZga0At0DgnJzhQADAQAAiXNlY3AyNTZrMaECiB87JWPExu_Ui_GwS-cdpi9TJH3xk5OLjmcUCMA_ODKDdGNwgrQBg3VkcIK0A4V3YWt1MgU --filternode=/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.161.230 waku ed6ce8fba96d0985ecff596c265689c58ae524f04280bfcde7a9c3bb5d6f6452
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed6ce8fba96d. Setting up logs at ./log/docker/node2_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 35524
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35524/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35524/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.230/tcp/35525/p2p/16Uiu2HAmLyAJuqDK7VibDjbXSr7RtQqaM4NZdS3qtPLzRDyWR4zh","/ip4/172.18.161.230/tcp/35526/ws/p2p/16Uiu2HAmLyAJuqDK7VibDjbXSr7RtQqaM4NZdS3qtPLzRDyWR4zh"],"enrUri":"enr:-L24QGQiYs2Y9lnZyEtOrPDQgH8QFgO8XRauqoXEBkzAPiZUQq_NItMpR9_BKsWwpiEELxw6A_zbQd7tiuGnHw422UYCgmlkgnY0gmlwhKwSoeaKbXVsdGlhZGRyc5YACASsEqHmBorFAAoErBKh5gaKxt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDe4U17QXupLtxJwuEHsBCFDItOPMelRgaRg0j-fRjPA6DdGNwgorFg3VkcIKKx4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35524/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31937', '31938', '31939', '31940', '31941']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31937:31937 -p 31938:31938 -p 31939:31939 -p 31940:31940 -p 31941:31941 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31939 --rest-port=31937 --tcp-port=31938 --discv5-udp-port=31940 --rest-address=0.0.0.0 --nat=extip:172.18.241.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=71282ffad9dea5cb0910e2f25c038d72ee2d5321fa304fbaefcc65be8f1f567f --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31941 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGvGy4Q-N54ypKCnf6qR346E17SKOAx9f7ygn-1dMO4gAmwgpu02WqxyyN7SCy6QH7UHji-x24SI8Ljzpd4IdgICgmlkgnY0gmlwhKwSY2aKbXVsdGlhZGRyc5YACASsEmNmBrQBAAoErBJjZga0At0DgnJzhQADAQAAiXNlY3AyNTZrMaECiB87JWPExu_Ui_GwS-cdpi9TJH3xk5OLjmcUCMA_ODKDdGNwgrQBg3VkcIK0A4V3YWt1MgU --filternode=/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.211 waku f100b11f2bd37739c76be615bcafdf685656ad407d2eb1eb2206ac61f905416d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f100b11f2bd3. Setting up logs at ./log/docker/node3_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 31937
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31937/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31937/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.211/tcp/31938/p2p/16Uiu2HAm7D5bUF8xBoEvjGG4sKKt8cnfQdv1ExYgJKU8BNkMBBwa","/ip4/172.18.241.211/tcp/31939/ws/p2p/16Uiu2HAm7D5bUF8xBoEvjGG4sKKt8cnfQdv1ExYgJKU8BNkMBBwa"],"enrUri":"enr:-L24QGzJtzcVIyzTo_qaH2s-QkTUNtt5KJuY7YYZMQJ4caNKdM9m1CmXcWVApKsfeItVf9X8bFCKP8vpmuhr2ep_n64CgmlkgnY0gmlwhKwS8dOKbXVsdGlhZGRyc5YACASsEvHTBnzCAAoErBLx0wZ8w90DgnJzhQADAQAAiXNlY3AyNTZrMaECrxJk8OREUsjbHSut1SYEJl0VYwaoBPtTQt485IyALbWDdGNwgnzCg3VkcIJ8xIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31937/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.228
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63261', '63262', '63263', '63264', '63265']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63261:63261 -p 63262:63262 -p 63263:63263 -p 63264:63264 -p 63265:63265 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63263 --rest-port=63261 --tcp-port=63262 --discv5-udp-port=63264 --rest-address=0.0.0.0 --nat=extip:172.18.78.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0bcbee02b8b1bb11ce2b8fadfffeef37831479adcfcb8c11fe3064dcacae161 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63265 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGvGy4Q-N54ypKCnf6qR346E17SKOAx9f7ygn-1dMO4gAmwgpu02WqxyyN7SCy6QH7UHji-x24SI8Ljzpd4IdgICgmlkgnY0gmlwhKwSY2aKbXVsdGlhZGRyc5YACASsEmNmBrQBAAoErBJjZga0At0DgnJzhQADAQAAiXNlY3AyNTZrMaECiB87JWPExu_Ui_GwS-cdpi9TJH3xk5OLjmcUCMA_ODKDdGNwgrQBg3VkcIK0A4V3YWt1MgU --filternode=/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.228 waku 54766d79fa7eec2014290f575c9513979915ea5b7946cf1cfc8e06fdb2a848f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 54766d79fa7e. Setting up logs at ./log/docker/node4_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 63261
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63261/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63261/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.228/tcp/63262/p2p/16Uiu2HAm3SchS8iLcqnqRPuEjA85DG5ij787RZi9cydC2dw2hCyL","/ip4/172.18.78.228/tcp/63263/ws/p2p/16Uiu2HAm3SchS8iLcqnqRPuEjA85DG5ij787RZi9cydC2dw2hCyL"],"enrUri":"enr:-L24QPOjxrvD2ZFN7tJgeYAXKymTEEVFA_TKHOvKfNLthtk4cB6Z_46eqGaPgRWbNUK3v4l5wWaO16Nkc4WEw2qxu8gCgmlkgnY0gmlwhKwSTuSKbXVsdGlhZGRyc5YACASsEk7kBvceAAoErBJO5Ab3H90DgnJzhQADAQAAiXNlY3AyNTZrMaECdxtdfMHthrJzS4ZfAvgmdYAt03umh3lyABxba1hrRt-DdGNwgvceg3VkcIL3IIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63261/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44882', '44883', '44884', '44885', '44886']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44882:44882 -p 44883:44883 -p 44884:44884 -p 44885:44885 -p 44886:44886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44884 --rest-port=44882 --tcp-port=44883 --discv5-udp-port=44885 --rest-address=0.0.0.0 --nat=extip:172.18.217.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdf3da6feff85fe6ccdb95c296b73d97de86f88c250a64b589cb151841cefa9d --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44886 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGvGy4Q-N54ypKCnf6qR346E17SKOAx9f7ygn-1dMO4gAmwgpu02WqxyyN7SCy6QH7UHji-x24SI8Ljzpd4IdgICgmlkgnY0gmlwhKwSY2aKbXVsdGlhZGRyc5YACASsEmNmBrQBAAoErBJjZga0At0DgnJzhQADAQAAiXNlY3AyNTZrMaECiB87JWPExu_Ui_GwS-cdpi9TJH3xk5OLjmcUCMA_ODKDdGNwgrQBg3VkcIK0A4V3YWt1MgU --filternode=/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.146 waku ad92abb84674f04eca4bd3f187c773d186570bc242624a925c1af7c354f49300
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ad92abb84674. Setting up logs at ./log/docker/node5_2024-11-07_04-50-20__33830a1d-4c29-4c82-ac47-7f9c1db720eb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 44882
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44882/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.146/tcp/44883/p2p/16Uiu2HAm697P7p67wmjgYAJqL542E6e9Xh79iQjpwPaqR9JB1HDb","/ip4/172.18.217.146/tcp/44884/ws/p2p/16Uiu2HAm697P7p67wmjgYAJqL542E6e9Xh79iQjpwPaqR9JB1HDb"],"enrUri":"enr:-L24QJMTT8xukXNl4CCdO8HZQSgQVa4vJlDQgNQmbpSZ9kq5INaVmRRj3HMYYacXrnHBhP24DUpRhlNUBnxJIuFaW3gCgmlkgnY0gmlwhKwS2ZKKbXVsdGlhZGRyc5YACASsEtmSBq9TAAoErBLZkgavVN0DgnJzhQADAQAAiXNlY3AyNTZrMaECnzJnnPqYbUj8cI_j4We9TzL7dEbeCTGy-jV4S2imN1qDdGNwgq9Tg3VkcIKvVYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44882/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.102/tcp/46081/p2p/16Uiu2HAm4b33j1JuNXP6f5T6HGprdFTHuDD6tadeUjxCXgSiWSQ1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46080/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35524/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "75aff5f9-f5ae-453e-a0f8-b1321491d904", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"75aff5f9-f5ae-453e-a0f8-b1321491d904","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31937/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "52515423-9f82-4785-969e-225f328c7d66", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"52515423-9f82-4785-969e-225f328c7d66","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63261/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "55fbe2af-c41f-4877-9c85-4ca27848136b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"55fbe2af-c41f-4877-9c85-4ca27848136b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44882/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8539df45-2b6f-46ec-a000-87c34c653b0a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8539df45-2b6f-46ec-a000-87c34c653b0a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46080/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35524/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730955029674564608,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46080/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31937/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:31937/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c288944d71a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ed6ce8fba96d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c288944d71a8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f100b11f2bd3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed6ce8fba96d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 54766d79fa7e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f100b11f2bd3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ad92abb84674
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 54766d79fa7e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.