[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_many_subscribed_nodes with id: 2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:267 Start 2 nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.236.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33630', '33631', '33632', '33633', '33634']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33630:33630 -p 33631:33631 -p 33632:33632 -p 33633:33633 -p 33634:33634 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33632 --rest-port=33630 --tcp-port=33631 --discv5-udp-port=33633 --rest-address=0.0.0.0 --nat=extip:172.18.236.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=63dd9dfab4908caeec254efe8b3c2b081206e0b6ba7babecdfc7b98dbafedf91 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33634 --metrics-logging=true --relay=true --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.236.215 waku 95fc088cf33b1eb65b81beca66c7e60ecc7a3a5487ffc4e701ae3002069c84ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 95fc088cf33b. Setting up logs at ./log/docker/node1_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 33630
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5615ab85317b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33630/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33630/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.236.215/tcp/33631/p2p/16Uiu2HAm5jCX2RDme71Pd5x5GpkZwUWM9Jw648qFyDAPMNtDxcu7","/ip4/172.18.236.215/tcp/33632/ws/p2p/16Uiu2HAm5jCX2RDme71Pd5x5GpkZwUWM9Jw648qFyDAPMNtDxcu7"],"enrUri":"enr:-L24QPYLNIwNrjx7Gcmv2hQf3KT1ow85ZXlP_0WgBMIRz8o7HuJMhHOT9xvHF28s7uKxhRGZ0SuSGNUZzddYw1CQ5egCgmlkgnY0gmlwhKwS7NeKbXVsdGlhZGRyc5YACASsEuzXBoNfAAoErBLs1waDYN0DgnJzhQADAQAAiXNlY3AyNTZrMaECmRJF4l0DJKpK7JA0WKv-fdXcvbuIdb_Pp0DVnn3rhzKDdGNwgoNfg3VkcIKDYYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.52.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9748', '9749', '9750', '9751', '9752']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9748:9748 -p 9749:9749 -p 9750:9750 -p 9751:9751 -p 9752:9752 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9750 --rest-port=9748 --tcp-port=9749 --discv5-udp-port=9751 --rest-address=0.0.0.0 --nat=extip:172.18.52.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acefa3b6a8d0250369fd1f349bbcecb77efe652b86c4e6cb8f12dc5bac50d7cf --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9752 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-L24QPYLNIwNrjx7Gcmv2hQf3KT1ow85ZXlP_0WgBMIRz8o7HuJMhHOT9xvHF28s7uKxhRGZ0SuSGNUZzddYw1CQ5egCgmlkgnY0gmlwhKwS7NeKbXVsdGlhZGRyc5YACASsEuzXBoNfAAoErBLs1waDYN0DgnJzhQADAQAAiXNlY3AyNTZrMaECmRJF4l0DJKpK7JA0WKv-fdXcvbuIdb_Pp0DVnn3rhzKDdGNwgoNfg3VkcIKDYYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.52.93 waku ca2d9bbbde384125cf22ec2025fe0e6804bc096b732e5a1a4460bd43ad4f0be1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ca2d9bbbde38. Setting up logs at ./log/docker/node2_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 9748
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9748/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9748/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.93/tcp/9749/p2p/16Uiu2HAmVqRXuaM9p8kdwExBdYxErtbbGSeY7mc3za53uj9CQ99h","/ip4/172.18.52.93/tcp/9750/ws/p2p/16Uiu2HAmVqRXuaM9p8kdwExBdYxErtbbGSeY7mc3za53uj9CQ99h"],"enrUri":"enr:-L24QDsGF0AjML-UPuldspg0MxtBU0xpfgT9WuKRP7OFeGjIKVCz-qTJLahH9OsI236vqO7wHkIWfuBaUockD-0sW3ICgmlkgnY0gmlwhKwSNF2KbXVsdGlhZGRyc5YACASsEjRdBiYVAAoErBI0XQYmFt0DgnJzhQADAQAAiXNlY3AyNTZrMaED_0L13bEmokJdOrOyL5GTLsfRU0fTzWi5silSF0p4H-CDdGNwgiYVg3VkcIImF4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:271 Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33630/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:277 2 Node start and making filter requests to node2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node0_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.147.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13344', '13345', '13346', '13347', '13348']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13344:13344 -p 13345:13345 -p 13346:13346 -p 13347:13347 -p 13348:13348 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13346 --rest-port=13344 --tcp-port=13345 --discv5-udp-port=13347 --rest-address=0.0.0.0 --nat=extip:172.18.147.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=08fe951ce7aeeeccc33cd55f8abde0603accfab4fe4d8ac66f1daadbdfc11ff2 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13348 --metrics-logging=true --relay=false --filter=true --filternode=/ip4/172.18.52.93/tcp/9749/p2p/16Uiu2HAmVqRXuaM9p8kdwExBdYxErtbbGSeY7mc3za53uj9CQ99h --discv5-bootstrap-node=enr:-L24QDsGF0AjML-UPuldspg0MxtBU0xpfgT9WuKRP7OFeGjIKVCz-qTJLahH9OsI236vqO7wHkIWfuBaUockD-0sW3ICgmlkgnY0gmlwhKwSNF2KbXVsdGlhZGRyc5YACASsEjRdBiYVAAoErBI0XQYmFt0DgnJzhQADAQAAiXNlY3AyNTZrMaED_0L13bEmokJdOrOyL5GTLsfRU0fTzWi5silSF0p4H-CDdGNwgiYVg3VkcIImF4V3YWt1MgU --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.147.240 waku 610f95e8ddfd16db0eacfd3e9753bba3ab6b4247ac715c0147a6afba06aad29b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 610f95e8ddfd. Setting up logs at ./log/docker/node0_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 13344
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13344/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13344/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.240/tcp/13345/p2p/16Uiu2HAkuyNmyFEjsBCVs5U8B3eqZdG8tVxzra2nTTPw87S5wejc","/ip4/172.18.147.240/tcp/13346/ws/p2p/16Uiu2HAkuyNmyFEjsBCVs5U8B3eqZdG8tVxzra2nTTPw87S5wejc"],"enrUri":"enr:-L24QJbuQNRt-TiUQtmMJF7_dDJ4kMX_sBKB0b30nxnc0_PXNPKEJ46tVk-9-mK-RcKawStqbEnZ0Yxh1G2jsx7wlrYCgmlkgnY0gmlwhKwSk_CKbXVsdGlhZGRyc5YACASsEpPwBjQhAAoErBKT8AY0It0DgnJzhQADAQAAiXNlY3AyNTZrMaECCB8iKUEVEewvmtIgH9gQ-HHFrmUZXfq3_Ah1ZkivjiuDdGNwgjQhg3VkcII0I4V3YWt1MgQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13344/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3635', '3636', '3637', '3638', '3639']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3635:3635 -p 3636:3636 -p 3637:3637 -p 3638:3638 -p 3639:3639 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3637 --rest-port=3635 --tcp-port=3636 --discv5-udp-port=3638 --rest-address=0.0.0.0 --nat=extip:172.18.216.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d3f6f9dfb4e8bca26a9c82ebaf3e8ef9b6eea3ebdedaa781de40e1fdeef05f8d --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3639 --metrics-logging=true --relay=false --filter=true --filternode=/ip4/172.18.52.93/tcp/9749/p2p/16Uiu2HAmVqRXuaM9p8kdwExBdYxErtbbGSeY7mc3za53uj9CQ99h --discv5-bootstrap-node=enr:-L24QJbuQNRt-TiUQtmMJF7_dDJ4kMX_sBKB0b30nxnc0_PXNPKEJ46tVk-9-mK-RcKawStqbEnZ0Yxh1G2jsx7wlrYCgmlkgnY0gmlwhKwSk_CKbXVsdGlhZGRyc5YACASsEpPwBjQhAAoErBKT8AY0It0DgnJzhQADAQAAiXNlY3AyNTZrMaECCB8iKUEVEewvmtIgH9gQ-HHFrmUZXfq3_Ah1ZkivjiuDdGNwgjQhg3VkcII0I4V3YWt1MgQ --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.162 waku 69684ee4e1992f4f367774a14ec276760d351709a3f5a5fe591af76fdf063679
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69684ee4e199. Setting up logs at ./log/docker/node1_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 3635
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3635/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.162/tcp/3636/p2p/16Uiu2HAkxkr4DbYZQTHoL1TwEjjuQFPXtr8kgqZdHtVWziFqjSEx","/ip4/172.18.216.162/tcp/3637/ws/p2p/16Uiu2HAkxkr4DbYZQTHoL1TwEjjuQFPXtr8kgqZdHtVWziFqjSEx"],"enrUri":"enr:-L24QAxHVSnRNO_PyP5cMMYN0GAWWqjeok7UG8QZi1iN5qs9et93M3v86XqSMqEzEJCLl68sxRYormC_5pqTF1Z2TWQCgmlkgnY0gmlwhKwS2KKKbXVsdGlhZGRyc5YACASsEtiiBg40AAoErBLYogYONd0DgnJzhQADAQAAiXNlY3AyNTZrMaECMXx9TBHX8nyQ1ruZAOE9ZnhgM_Oz7Ey3rjdgAircT72DdGNwgg40g3VkcIIONoV3YWt1MgQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3635/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33630/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.52.93/tcp/9749/p2p/16Uiu2HAmVqRXuaM9p8kdwExBdYxErtbbGSeY7mc3za53uj9CQ99h","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9748/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.236.215/tcp/33631/p2p/16Uiu2HAm5jCX2RDme71Pd5x5GpkZwUWM9Jw648qFyDAPMNtDxcu7","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true}],"origin":"Discv5"},{"multiaddr":"/ip4/172.18.216.162/tcp/3636/p2p/16Uiu2HAkxkr4DbYZQTHoL1TwEjjuQFPXtr8kgqZdHtVWziFqjSEx","protocols":[{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"},{"multiaddr":"/ip4/172.18.147.240/tcp/13345/p2p/16Uiu2HAkuyNmyFEjsBCVs5U8B3eqZdG8tVxzra2nTTPw87S5wejc","protocols":[{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 100 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:294 Node1 publish message
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33630/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:298 2 Node requests the published message of subscribed filter topic
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13344/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:301 Response for node 1 is []
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 95fc088cf33b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ca2d9bbbde38
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 95fc088cf33b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 610f95e8ddfd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ca2d9bbbde38. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 69684ee4e199
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 610f95e8ddfd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node0_2024-11-07_04-46-29__fcad6cb6-1114-4b73-b170-a6adede80aa2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_many_subscribed_nodes with id: 2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:267 Start 2 nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.57.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56683', '56684', '56685', '56686', '56687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56683:56683 -p 56684:56684 -p 56685:56685 -p 56686:56686 -p 56687:56687 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56685 --rest-port=56683 --tcp-port=56684 --discv5-udp-port=56686 --rest-address=0.0.0.0 --nat=extip:172.18.57.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfef7cecc2f176faa9c432ae431486b43f0df3dc0ddc9ce70e08aaa7677d3d52 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56687 --metrics-logging=true --relay=true --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.57.91 waku 5826f24a0b0e1bb89046c5eb17da5c8cc0702ed86570f74bedc1d4e69eed624c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5826f24a0b0e. Setting up logs at ./log/docker/node1_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 56683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 69684ee4e199. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56683/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.91/tcp/56684/p2p/16Uiu2HAm8EQtBG61USXdKC7VTivrL1787JrfbdJMWZu9FXzdLY1z","/ip4/172.18.57.91/tcp/56685/ws/p2p/16Uiu2HAm8EQtBG61USXdKC7VTivrL1787JrfbdJMWZu9FXzdLY1z"],"enrUri":"enr:-L24QPxUZCFVca78lRderJcLZSSE5Vyz3PVZQ4qzeI7eJCqRcQCL3Bn54HtMn1hFVViiaCaNV2EHeoUNALfl59MPGCICgmlkgnY0gmlwhKwSOVuKbXVsdGlhZGRyc5YACASsEjlbBt1sAAoErBI5Wwbdbd0DgnJzhQADAQAAiXNlY3AyNTZrMaECvkV4mp15-ov2c_sqzmG-8JMz5WXpde-OXUYsKXYv9e2DdGNwgt1sg3VkcILdboV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.254.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18399', '18400', '18401', '18402', '18403']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18399:18399 -p 18400:18400 -p 18401:18401 -p 18402:18402 -p 18403:18403 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18401 --rest-port=18399 --tcp-port=18400 --discv5-udp-port=18402 --rest-address=0.0.0.0 --nat=extip:172.18.254.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecb16fdbe70bffcb1a4bf969feefbd2ebc4d67bcfdb5ed27f1dd7accad3daed6 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18403 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-L24QPxUZCFVca78lRderJcLZSSE5Vyz3PVZQ4qzeI7eJCqRcQCL3Bn54HtMn1hFVViiaCaNV2EHeoUNALfl59MPGCICgmlkgnY0gmlwhKwSOVuKbXVsdGlhZGRyc5YACASsEjlbBt1sAAoErBI5Wwbdbd0DgnJzhQADAQAAiXNlY3AyNTZrMaECvkV4mp15-ov2c_sqzmG-8JMz5WXpde-OXUYsKXYv9e2DdGNwgt1sg3VkcILdboV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.254.115 waku 438933f44a6b8bc858bb0ca3c31526e0862177e985f52c1343cf543668654ab9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 438933f44a6b. Setting up logs at ./log/docker/node2_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 18399
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18399/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18399/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.115/tcp/18400/p2p/16Uiu2HAmLW5aU9QmNJpgXL1XHmBqCBG1Bb6R3EN5Tu8pggQmzZux","/ip4/172.18.254.115/tcp/18401/ws/p2p/16Uiu2HAmLW5aU9QmNJpgXL1XHmBqCBG1Bb6R3EN5Tu8pggQmzZux"],"enrUri":"enr:-L24QJ8juRIiZB0nWWxbqB_YL5Gwk2p2RAAjyKpJxK3EsdGJP179Kzwv-hoUe9Clm6OKV3TgnekwB-SswVjFctKX4tECgmlkgnY0gmlwhKwS_nOKbXVsdGlhZGRyc5YACASsEv5zBkfgAAoErBL-cwZH4d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdJUttrrsWypo62jtPc4vv4lO-6gtBAifjyB_1P7BpceDdGNwgkfgg3VkcIJH4oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:271 Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56683/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18399/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:277 2 Node start and making filter requests to node2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node0_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6959', '6960', '6961', '6962', '6963']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6959:6959 -p 6960:6960 -p 6961:6961 -p 6962:6962 -p 6963:6963 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6961 --rest-port=6959 --tcp-port=6960 --discv5-udp-port=6962 --rest-address=0.0.0.0 --nat=extip:172.18.255.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ea4a0ca8fdd9cb6f7eac7a61d8acdf1fb1ba1f747ee7dc06ebfff3dcc8c21b7 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6963 --metrics-logging=true --relay=false --filter=true --filternode=/ip4/172.18.254.115/tcp/18400/p2p/16Uiu2HAmLW5aU9QmNJpgXL1XHmBqCBG1Bb6R3EN5Tu8pggQmzZux --discv5-bootstrap-node=enr:-L24QJ8juRIiZB0nWWxbqB_YL5Gwk2p2RAAjyKpJxK3EsdGJP179Kzwv-hoUe9Clm6OKV3TgnekwB-SswVjFctKX4tECgmlkgnY0gmlwhKwS_nOKbXVsdGlhZGRyc5YACASsEv5zBkfgAAoErBL-cwZH4d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDdJUttrrsWypo62jtPc4vv4lO-6gtBAifjyB_1P7BpceDdGNwgkfgg3VkcIJH4oV3YWt1MgU --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.85 waku 7414f70749d5c74dc80bbe022af41dfef73a423271ffd4bacd2ed5ef2d16ef32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7414f70749d5. Setting up logs at ./log/docker/node0_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 6959
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6959/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6959/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.85/tcp/6960/p2p/16Uiu2HAmGR1CJLEJfACFVpVSBuq98dTcvPQ4YV1dae9D9pUM3vNb","/ip4/172.18.255.85/tcp/6961/ws/p2p/16Uiu2HAmGR1CJLEJfACFVpVSBuq98dTcvPQ4YV1dae9D9pUM3vNb"],"enrUri":"enr:-L24QLQvy-cQd25fPpeO1A4ykHr-JMYd54aJk66enMqsRnQRHIqx_DHDkY7ncm1Pj5yU6I2mBbiyHmy81JYnfXYcJPACgmlkgnY0gmlwhKwS_1WKbXVsdGlhZGRyc5YACASsEv9VBhswAAoErBL_VQYbMd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN9mSYq3ncmQwZT4fHQxD01jMDSgWp9x5spekz2txMIiDdGNwghswg3VkcIIbMoV3YWt1MgQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6959/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57023', '57024', '57025', '57026', '57027']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57023:57023 -p 57024:57024 -p 57025:57025 -p 57026:57026 -p 57027:57027 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57025 --rest-port=57023 --tcp-port=57024 --discv5-udp-port=57026 --rest-address=0.0.0.0 --nat=extip:172.18.196.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff8d4e88c4d1f1fc0a68c86fc8ccddacfac16cced460ddcdcbcef3cc8c3ed6f4 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57027 --metrics-logging=true --relay=false --filter=true --filternode=/ip4/172.18.254.115/tcp/18400/p2p/16Uiu2HAmLW5aU9QmNJpgXL1XHmBqCBG1Bb6R3EN5Tu8pggQmzZux --discv5-bootstrap-node=enr:-L24QLQvy-cQd25fPpeO1A4ykHr-JMYd54aJk66enMqsRnQRHIqx_DHDkY7ncm1Pj5yU6I2mBbiyHmy81JYnfXYcJPACgmlkgnY0gmlwhKwS_1WKbXVsdGlhZGRyc5YACASsEv9VBhswAAoErBL_VQYbMd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN9mSYq3ncmQwZT4fHQxD01jMDSgWp9x5spekz2txMIiDdGNwghswg3VkcIIbMoV3YWt1MgQ --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.111 waku 52c3c887788fef9d7296593639fbbeb2c323b8f88ecb66102afad4ef7a0745cd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 52c3c887788f. Setting up logs at ./log/docker/node1_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 57023
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57023/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57023/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.111/tcp/57024/p2p/16Uiu2HAky9MQKe9Rdta3B7TZcmcVJWoEZzesFjFuwf6xyP44rK59","/ip4/172.18.196.111/tcp/57025/ws/p2p/16Uiu2HAky9MQKe9Rdta3B7TZcmcVJWoEZzesFjFuwf6xyP44rK59"],"enrUri":"enr:-L24QPI2vZ92Is33kTxQAH-vbsxopx4SDW2GYG27h_W4OlsWJ4duFAwtu27OurSYnJTJ4yGdhUaaRzVyroGWjJLIkzkCgmlkgnY0gmlwhKwSxG-KbXVsdGlhZGRyc5YACASsEsRvBt7AAAoErBLEbwbewd0DgnJzhQADAQAAiXNlY3AyNTZrMaECN0BzF2V9ZRoavE1jqT1k8mWEuxSaZppGkGps5im-TbCDdGNwgt7Ag3VkcILewoV3YWt1MgQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57023/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56683/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.254.115/tcp/18400/p2p/16Uiu2HAmLW5aU9QmNJpgXL1XHmBqCBG1Bb6R3EN5Tu8pggQmzZux","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18399/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.57.91/tcp/56684/p2p/16Uiu2HAm8EQtBG61USXdKC7VTivrL1787JrfbdJMWZu9FXzdLY1z","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true}],"origin":"Discv5"},{"multiaddr":"/ip4/172.18.255.85/tcp/6960/p2p/16Uiu2HAmGR1CJLEJfACFVpVSBuq98dTcvPQ4YV1dae9D9pUM3vNb","protocols":[{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"},{"multiaddr":"/ip4/172.18.196.111/tcp/57024/p2p/16Uiu2HAky9MQKe9Rdta3B7TZcmcVJWoEZzesFjFuwf6xyP44rK59","protocols":[{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 100 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:294 Node1 publish message
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56683/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:298 2 Node requests the published message of subscribed filter topic
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6959/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:301 Response for node 1 is []
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5826f24a0b0e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 438933f44a6b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5826f24a0b0e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7414f70749d5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 438933f44a6b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 52c3c887788f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7414f70749d5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node0_2024-11-07_04-48-29__03df1aeb-d10a-4248-95ba-331feebcad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_many_subscribed_nodes with id: 2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:267 Start 2 nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.176.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53529', '53530', '53531', '53532', '53533']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53529:53529 -p 53530:53530 -p 53531:53531 -p 53532:53532 -p 53533:53533 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53531 --rest-port=53529 --tcp-port=53530 --discv5-udp-port=53532 --rest-address=0.0.0.0 --nat=extip:172.18.176.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b21cf8f569d3ccc60ccd8c8dbcc31ddfed9bcfead07fad20fffef4804dff70ea --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53533 --metrics-logging=true --relay=true --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.176.243 waku a6224a20057a2452ab6bfdb71f059270ff06f8f19b006fcadf463a6c610b64bf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a6224a20057a. Setting up logs at ./log/docker/node1_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 53529
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 52c3c887788f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53529/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53529/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.176.243/tcp/53530/p2p/16Uiu2HAm5uUfuzZSE6nMLoZXn82L69M2oxYoi1CGKcLkAKEYpV2u","/ip4/172.18.176.243/tcp/53531/ws/p2p/16Uiu2HAm5uUfuzZSE6nMLoZXn82L69M2oxYoi1CGKcLkAKEYpV2u"],"enrUri":"enr:-L24QA9zzs54j69ZAzhp_WFk_ZBL-4GIyrV6ZVE6E7uCs8NzKzSMG3fkHqu4IElp7uSnfSR-dsMFjxRHS0WZFOtx2k8CgmlkgnY0gmlwhKwSsPOKbXVsdGlhZGRyc5YACASsErDzBtEaAAoErBKw8wbRG90DgnJzhQADAQAAiXNlY3AyNTZrMaECm7RYexUUswkxBY8kCTCewI5I9z1FCmPGRaKK9nzVX8aDdGNwgtEag3VkcILRHIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60717', '60718', '60719', '60720', '60721']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60717:60717 -p 60718:60718 -p 60719:60719 -p 60720:60720 -p 60721:60721 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60719 --rest-port=60717 --tcp-port=60718 --discv5-udp-port=60720 --rest-address=0.0.0.0 --nat=extip:172.18.88.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d0c8ba2bdf1ce64d73cc0ba9d40d8dda08a6dcba71bd36ba47fab6daefb63c5 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60721 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-L24QA9zzs54j69ZAzhp_WFk_ZBL-4GIyrV6ZVE6E7uCs8NzKzSMG3fkHqu4IElp7uSnfSR-dsMFjxRHS0WZFOtx2k8CgmlkgnY0gmlwhKwSsPOKbXVsdGlhZGRyc5YACASsErDzBtEaAAoErBKw8wbRG90DgnJzhQADAQAAiXNlY3AyNTZrMaECm7RYexUUswkxBY8kCTCewI5I9z1FCmPGRaKK9nzVX8aDdGNwgtEag3VkcILRHIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.127 waku e8cb7dbe9cf8f4e3ba9b0fcf252a31af89d52c700c474e91660903070ad9ad1c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e8cb7dbe9cf8. Setting up logs at ./log/docker/node2_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 60717
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60717/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60717/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.127/tcp/60718/p2p/16Uiu2HAkv1CHQVgPm2kUk96XfQz3WLDgTfmRQw8B4FVV8PPZAsYS","/ip4/172.18.88.127/tcp/60719/ws/p2p/16Uiu2HAkv1CHQVgPm2kUk96XfQz3WLDgTfmRQw8B4FVV8PPZAsYS"],"enrUri":"enr:-L24QE8qqlFUr905nHjlM0Xuz_DZuAhOAPV8s0vr5pb80Ev2a7JozJHB6chtZjRClSfWXZyMuyrQX0lirBajyZTcWj8CgmlkgnY0gmlwhKwSWH-KbXVsdGlhZGRyc5YACASsElh_Bu0uAAoErBJYfwbtL90DgnJzhQADAQAAiXNlY3AyNTZrMaECCJZuYG7qkLKXUezImNHcl8TuZ30vpi88Kd9Ag8MR-E-DdGNwgu0ug3VkcILtMIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:271 Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53529/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60717/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:277 2 Node start and making filter requests to node2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node0_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.105.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10430', '10431', '10432', '10433', '10434']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10430:10430 -p 10431:10431 -p 10432:10432 -p 10433:10433 -p 10434:10434 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10432 --rest-port=10430 --tcp-port=10431 --discv5-udp-port=10433 --rest-address=0.0.0.0 --nat=extip:172.18.105.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f828d596acadf8e9830a0a1ad36aaeb9d0dbdfcd8caf2a4fae81650baca075a9 --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10434 --metrics-logging=true --relay=false --filter=true --filternode=/ip4/172.18.88.127/tcp/60718/p2p/16Uiu2HAkv1CHQVgPm2kUk96XfQz3WLDgTfmRQw8B4FVV8PPZAsYS --discv5-bootstrap-node=enr:-L24QE8qqlFUr905nHjlM0Xuz_DZuAhOAPV8s0vr5pb80Ev2a7JozJHB6chtZjRClSfWXZyMuyrQX0lirBajyZTcWj8CgmlkgnY0gmlwhKwSWH-KbXVsdGlhZGRyc5YACASsElh_Bu0uAAoErBJYfwbtL90DgnJzhQADAQAAiXNlY3AyNTZrMaECCJZuYG7qkLKXUezImNHcl8TuZ30vpi88Kd9Ag8MR-E-DdGNwgu0ug3VkcILtMIV3YWt1MgU --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.105.19 waku b728c310b23e0674a09d46efa7f184fbc742b7538f477d5de45e3da3dba111bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b728c310b23e. Setting up logs at ./log/docker/node0_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 10430
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10430/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10430/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.19/tcp/10431/p2p/16Uiu2HAkzDigp2KFzEp9Af7j3nyYd2rNY4KUPVEKHtCjBJr6sP7X","/ip4/172.18.105.19/tcp/10432/ws/p2p/16Uiu2HAkzDigp2KFzEp9Af7j3nyYd2rNY4KUPVEKHtCjBJr6sP7X"],"enrUri":"enr:-L24QBRb6Q-1-4V5HHOr0MGvWUBQQNAquebcbJV4dDhgv9chRQM8jl4ifoyGLvaUHnUmvP4PO4VoC_NEHUlG0KZTXb0CgmlkgnY0gmlwhKwSaROKbXVsdGlhZGRyc5YACASsEmkTBii_AAoErBJpEwYowN0DgnJzhQADAQAAiXNlY3AyNTZrMaECRzqGphw5arhAPQb2NK0eYW--Z6NiCt4rnx-DUKv26pKDdGNwgii_g3VkcIIowYV3YWt1MgQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10430/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.85.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43626', '43627', '43628', '43629', '43630']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43626:43626 -p 43627:43627 -p 43628:43628 -p 43629:43629 -p 43630:43630 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43628 --rest-port=43626 --tcp-port=43627 --discv5-udp-port=43629 --rest-address=0.0.0.0 --nat=extip:172.18.85.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aadd79d797af7bacd821257b5cebaec06a58c2cdef4d7aff9b274a87ca456b8d --max-connections=1000 --filter-subscription-timeout=600 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43630 --metrics-logging=true --relay=false --filter=true --filternode=/ip4/172.18.88.127/tcp/60718/p2p/16Uiu2HAkv1CHQVgPm2kUk96XfQz3WLDgTfmRQw8B4FVV8PPZAsYS --discv5-bootstrap-node=enr:-L24QBRb6Q-1-4V5HHOr0MGvWUBQQNAquebcbJV4dDhgv9chRQM8jl4ifoyGLvaUHnUmvP4PO4VoC_NEHUlG0KZTXb0CgmlkgnY0gmlwhKwSaROKbXVsdGlhZGRyc5YACASsEmkTBii_AAoErBJpEwYowN0DgnJzhQADAQAAiXNlY3AyNTZrMaECRzqGphw5arhAPQb2NK0eYW--Z6NiCt4rnx-DUKv26pKDdGNwgii_g3VkcIIowYV3YWt1MgQ --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.85.142 waku f2b523f28b9f646e430580df5a8548a1111265c41b10372b50d16f14e3566551
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f2b523f28b9f. Setting up logs at ./log/docker/node1_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 43626
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43626/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43626/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.142/tcp/43627/p2p/16Uiu2HAmJXNLzTtWw65zuSgaWdFVipS4ruEgBgmsW8h5vn26qfkS","/ip4/172.18.85.142/tcp/43628/ws/p2p/16Uiu2HAmJXNLzTtWw65zuSgaWdFVipS4ruEgBgmsW8h5vn26qfkS"],"enrUri":"enr:-L24QHKEfLsZ3xvuIobJ045mjJl2BeOgcxoEPRzrEJXcdyTwbHts1TxN-bxUwJ9Dr9v-k54CVVqihZjKQfJxUW-pzNoCgmlkgnY0gmlwhKwSVY6KbXVsdGlhZGRyc5YACASsElWOBqprAAoErBJVjgaqbN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVzJYQX4OlEqLz9s24Gv8jmToFx17Zgj_zLhrnMT4eV-DdGNwgqprg3VkcIKqbYV3YWt1MgQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43626/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53529/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.88.127/tcp/60718/p2p/16Uiu2HAkv1CHQVgPm2kUk96XfQz3WLDgTfmRQw8B4FVV8PPZAsYS","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60717/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.176.243/tcp/53530/p2p/16Uiu2HAm5uUfuzZSE6nMLoZXn82L69M2oxYoi1CGKcLkAKEYpV2u","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true}],"origin":"Discv5"},{"multiaddr":"/ip4/172.18.105.19/tcp/10431/p2p/16Uiu2HAkzDigp2KFzEp9Af7j3nyYd2rNY4KUPVEKHtCjBJr6sP7X","protocols":[{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"},{"multiaddr":"/ip4/172.18.85.142/tcp/43627/p2p/16Uiu2HAmJXNLzTtWw65zuSgaWdFVipS4ruEgBgmsW8h5vn26qfkS","protocols":[{"protocol":"/vac/waku/filter-subscribe/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 100 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:294 Node1 publish message
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53529/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 2 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:298 2 Node requests the published message of subscribed filter topic
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10430/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:301 Response for node 1 is []
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a6224a20057a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e8cb7dbe9cf8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a6224a20057a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b728c310b23e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e8cb7dbe9cf8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id f2b523f28b9f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b728c310b23e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node0_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-07_04-50-30__40de4475-fa6f-4353-9d0a-57f36b350389__wakuorg_nwaku:latest.log