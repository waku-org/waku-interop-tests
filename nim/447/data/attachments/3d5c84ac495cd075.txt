[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.74.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42659', '42660', '42661', '42662', '42663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42659:42659 -p 42660:42660 -p 42661:42661 -p 42662:42662 -p 42663:42663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42661 --rest-port=42659 --tcp-port=42660 --discv5-udp-port=42662 --rest-address=0.0.0.0 --nat=extip:172.18.74.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=04054a0bfcbc7414d945c4233f6b314c6d5bef54541adfea7e3a4d29ebf5c7fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42663 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.74.203 waku 5f1f373ac6dbd0905acfffe94db775193d46ba4ad52381a6a99329f7c044a4b6
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a7243b451436. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5f1f373ac6db. Setting up logs at ./log/docker/node1_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 42659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.203/tcp/42660/p2p/16Uiu2HAm2fFYnhEu8Rpqj38w9XJ5NDyjd5cK5egMDvGFhNVVPy4A","/ip4/172.18.74.203/tcp/42661/ws/p2p/16Uiu2HAm2fFYnhEu8Rpqj38w9XJ5NDyjd5cK5egMDvGFhNVVPy4A"],"enrUri":"enr:-L24QBb_PF3z69XA063jH-iJi7erXEFu58tMxR8rU8T2ymamL1BCiq19HOJ7Du9XGQlVSa1UR9hq9D467V6nH_HiRkgCgmlkgnY0gmlwhKwSSsuKbXVsdGlhZGRyc5YACASsEkrLBqakAAoErBJKywampd0DgnJzhQADAQAAiXNlY3AyNTZrMaECa3xQwdXJGnflpr3D0yjx1EAWCXMZue68PB3tXD-pmoeDdGNwgqakg3VkcIKmpoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.80.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61713', '61714', '61715', '61716', '61717']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61713:61713 -p 61714:61714 -p 61715:61715 -p 61716:61716 -p 61717:61717 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61715 --rest-port=61713 --tcp-port=61714 --discv5-udp-port=61716 --rest-address=0.0.0.0 --nat=extip:172.18.80.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0b11cae4cefc6da55c4bc28ff6afdd0c3bf2d0843bda1203faef3070dc58faf9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61717 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBb_PF3z69XA063jH-iJi7erXEFu58tMxR8rU8T2ymamL1BCiq19HOJ7Du9XGQlVSa1UR9hq9D467V6nH_HiRkgCgmlkgnY0gmlwhKwSSsuKbXVsdGlhZGRyc5YACASsEkrLBqakAAoErBJKywampd0DgnJzhQADAQAAiXNlY3AyNTZrMaECa3xQwdXJGnflpr3D0yjx1EAWCXMZue68PB3tXD-pmoeDdGNwgqakg3VkcIKmpoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.80.211 waku 0182547a8cd865773fe1bec287c22042003fe4a0c8a66242f046cc117215a931
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0182547a8cd8. Setting up logs at ./log/docker/node2_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 61713
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61713/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61713/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.211/tcp/61714/p2p/16Uiu2HAm95Cg6GTTpBnpi6ZoWKrzfAFGUyUs4464QQ6mMXDA3ch7","/ip4/172.18.80.211/tcp/61715/ws/p2p/16Uiu2HAm95Cg6GTTpBnpi6ZoWKrzfAFGUyUs4464QQ6mMXDA3ch7"],"enrUri":"enr:-L24QBD7VTFVj_38ee32P5-WHiplfPHBJh1P4Ie6Wgn-YJGrDiX8rtsew0eU9ELa8JHhoz7i9hAa698LWrFK7YP3gkcCgmlkgnY0gmlwhKwSUNOKbXVsdGlhZGRyc5YACASsElDTBvESAAoErBJQ0wbxE90DgnJzhQADAQAAiXNlY3AyNTZrMaECysUgbvzD6m9Qz-tDpnl4aZzojwWlciVk2hao2IJAIeKDdGNwgvESg3VkcILxFIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61713/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.203/tcp/42660/p2p/16Uiu2HAm2fFYnhEu8Rpqj38w9XJ5NDyjd5cK5egMDvGFhNVVPy4A"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.203.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35565', '35566', '35567', '35568', '35569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35565:35565 -p 35566:35566 -p 35567:35567 -p 35568:35568 -p 35569:35569 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35567 --rest-port=35565 --tcp-port=35566 --discv5-udp-port=35568 --rest-address=0.0.0.0 --nat=extip:172.18.203.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9cf9a1f9140e4abdb46fb9a2f13a6c794ed062daada09f2dc4eb165fabf2a73f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35569 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBb_PF3z69XA063jH-iJi7erXEFu58tMxR8rU8T2ymamL1BCiq19HOJ7Du9XGQlVSa1UR9hq9D467V6nH_HiRkgCgmlkgnY0gmlwhKwSSsuKbXVsdGlhZGRyc5YACASsEkrLBqakAAoErBJKywampd0DgnJzhQADAQAAiXNlY3AyNTZrMaECa3xQwdXJGnflpr3D0yjx1EAWCXMZue68PB3tXD-pmoeDdGNwgqakg3VkcIKmpoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.203.156 waku 6bd9a554e4251413359df29b2b3e22e2eb6e8369e84141ebe997cd33180e16c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6bd9a554e425. Setting up logs at ./log/docker/node3_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 35565
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35565/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.156/tcp/35566/p2p/16Uiu2HAm4bJAMPbyhTV7Hg76f6znDvbdCcWpFA2SXh4t1gxcKc6z","/ip4/172.18.203.156/tcp/35567/ws/p2p/16Uiu2HAm4bJAMPbyhTV7Hg76f6znDvbdCcWpFA2SXh4t1gxcKc6z"],"enrUri":"enr:-L24QNXT7A1hS8-_1lFaw_tpAi1KKZnrxzGelvnH1xw5OnhdQuI5KtEupfl65gbpsR2NZUaei_wtoI34cQUlaXFgeAACgmlkgnY0gmlwhKwSy5yKbXVsdGlhZGRyc5YACASsEsucBoruAAoErBLLnAaK790DgnJzhQADAQAAiXNlY3AyNTZrMaECiDBSH29P5FsPzZiMiR6-bgQDfcDgG8PUVP9mIIE5p2eDdGNwgorug3VkcIKK8IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35565/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.203/tcp/42660/p2p/16Uiu2HAm2fFYnhEu8Rpqj38w9XJ5NDyjd5cK5egMDvGFhNVVPy4A"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18733', '18734', '18735', '18736', '18737']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18733:18733 -p 18734:18734 -p 18735:18735 -p 18736:18736 -p 18737:18737 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18735 --rest-port=18733 --tcp-port=18734 --discv5-udp-port=18736 --rest-address=0.0.0.0 --nat=extip:172.18.5.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bddccdad6a6cd339c6ba3a6cd7ebb0a00caeb7e1f1cefdbababad6ee679a0aaf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18737 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBb_PF3z69XA063jH-iJi7erXEFu58tMxR8rU8T2ymamL1BCiq19HOJ7Du9XGQlVSa1UR9hq9D467V6nH_HiRkgCgmlkgnY0gmlwhKwSSsuKbXVsdGlhZGRyc5YACASsEkrLBqakAAoErBJKywampd0DgnJzhQADAQAAiXNlY3AyNTZrMaECa3xQwdXJGnflpr3D0yjx1EAWCXMZue68PB3tXD-pmoeDdGNwgqakg3VkcIKmpoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.99 waku 38e1ca4811787037846874fffbd3393bc5c4d5c36d3cce3c4e9661552d3477c8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 38e1ca481178. Setting up logs at ./log/docker/node4_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 18733
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18733/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18733/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.99/tcp/18734/p2p/16Uiu2HAmCcG7WpFv8zfZkwjJNCz9yaD7Rvh251RRuwLT2j7X6CVv","/ip4/172.18.5.99/tcp/18735/ws/p2p/16Uiu2HAmCcG7WpFv8zfZkwjJNCz9yaD7Rvh251RRuwLT2j7X6CVv"],"enrUri":"enr:-L24QO6Ul96hIUqcivvb6TC2inxARJKMMv-xlziFtBNscBnja3cUffHreJT6h4WkOHn4KHjr_C_uO6kP6PZaTafk6M0CgmlkgnY0gmlwhKwSBWOKbXVsdGlhZGRyc5YACASsEgVjBkkuAAoErBIFYwZJL90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_00UjcMQShFw3ixKxl-GuwGkhUlOdRlA1eZFkPbrlIGDdGNwgkkug3VkcIJJMIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18733/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.203/tcp/42660/p2p/16Uiu2HAm2fFYnhEu8Rpqj38w9XJ5NDyjd5cK5egMDvGFhNVVPy4A"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.59.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28313', '28314', '28315', '28316', '28317']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28313:28313 -p 28314:28314 -p 28315:28315 -p 28316:28316 -p 28317:28317 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28315 --rest-port=28313 --tcp-port=28314 --discv5-udp-port=28316 --rest-address=0.0.0.0 --nat=extip:172.18.59.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed3df3f0595debfbddededad11326fea3febc1cefe0d2ccfbea1a292d2efe2ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28317 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBb_PF3z69XA063jH-iJi7erXEFu58tMxR8rU8T2ymamL1BCiq19HOJ7Du9XGQlVSa1UR9hq9D467V6nH_HiRkgCgmlkgnY0gmlwhKwSSsuKbXVsdGlhZGRyc5YACASsEkrLBqakAAoErBJKywampd0DgnJzhQADAQAAiXNlY3AyNTZrMaECa3xQwdXJGnflpr3D0yjx1EAWCXMZue68PB3tXD-pmoeDdGNwgqakg3VkcIKmpoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.59.203 waku 93b717152b6c69822cec637511d00490c03f8e3664e56379cf0e6c31d74f40fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 93b717152b6c. Setting up logs at ./log/docker/node5_2024-11-12_04-16-49__af2f199f-1e0d-4aac-acf2-83810a175bf9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 28313
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28313/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28313/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.203/tcp/28314/p2p/16Uiu2HAmCxXgHu9gk9u5mQC8FYgPMrTBHQXGJkdkiCxfqxZxWZXJ","/ip4/172.18.59.203/tcp/28315/ws/p2p/16Uiu2HAmCxXgHu9gk9u5mQC8FYgPMrTBHQXGJkdkiCxfqxZxWZXJ"],"enrUri":"enr:-L24QO67HlVOFHndGvnvKTTwpTsVf7PWZorvZL9sgo8IwCNXUliiSg2FjdsnVUlZSxrHMTwBMm_p1NJZJOB8zi1u7u8CgmlkgnY0gmlwhKwSO8uKbXVsdGlhZGRyc5YACASsEjvLBm6aAAoErBI7ywZum90DgnJzhQADAQAAiXNlY3AyNTZrMaEDBH5Lx5Bv9aRz9-xZI7G8MSLVpJ1OMHto8SHazhG-FBWDdGNwgm6ag3VkcIJunIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28313/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.203/tcp/42660/p2p/16Uiu2HAm2fFYnhEu8Rpqj38w9XJ5NDyjd5cK5egMDvGFhNVVPy4A"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42659/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61713/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35565/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18733/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28313/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018065321216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61713/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018065321216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35565/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018065321216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018065321216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28313/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018065321216,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018218034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61713/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018218034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35565/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018218034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018218034944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28313/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385018218034944,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5f1f373ac6db
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0182547a8cd8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5f1f373ac6db. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6bd9a554e425
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0182547a8cd8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 38e1ca481178
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6bd9a554e425. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 93b717152b6c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 38e1ca481178. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.