[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.181.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23051', '23052', '23053', '23054', '23055']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23051:23051 -p 23052:23052 -p 23053:23053 -p 23054:23054 -p 23055:23055 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23053 --rest-port=23051 --tcp-port=23052 --discv5-udp-port=23054 --rest-address=0.0.0.0 --nat=extip:172.18.181.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4e1caedb7cabc61c755df7368ab2f2501c57f06dcac2578f63e8cb1d6b1b2343 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23055 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.181.0 waku 278985b198d5e6f1a33768dfbb6151eb49748c0d69a81063bc4c03b15cc1b119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 278985b198d5. Setting up logs at ./log/docker/node1_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 23051
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 93b717152b6c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23051/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23051/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.0/tcp/23052/p2p/16Uiu2HAkvCv7xWEbB1bkxKZ9LiVETh86tcdoYeBXkLUBSoxyboVp","/ip4/172.18.181.0/tcp/23053/ws/p2p/16Uiu2HAkvCv7xWEbB1bkxKZ9LiVETh86tcdoYeBXkLUBSoxyboVp"],"enrUri":"enr:-L24QLRWNFBw3ZpRdWV3d3DpN0qMnhXYiF3MJh-qrSsBYxY7Y-A6lCYdGM6vx7pvH3YDC5Mvo5A4JPc3AGRrp7K2U6ICgmlkgnY0gmlwhKwStQCKbXVsdGlhZGRyc5YACASsErUABloMAAoErBK1AAZaDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECC5cgG4t4PE9fjb2oY_kXNFK_Zn1ToJgy7dVbttb4by-DdGNwgloMg3VkcIJaDoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.206
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23742', '23743', '23744', '23745', '23746']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23742:23742 -p 23743:23743 -p 23744:23744 -p 23745:23745 -p 23746:23746 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23744 --rest-port=23742 --tcp-port=23743 --discv5-udp-port=23745 --rest-address=0.0.0.0 --nat=extip:172.18.199.206 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=953e7eca40663c0cbfac7ff0daeec55e7c60aadbc2bc7fd8ededdac15f09f0b7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23746 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLRWNFBw3ZpRdWV3d3DpN0qMnhXYiF3MJh-qrSsBYxY7Y-A6lCYdGM6vx7pvH3YDC5Mvo5A4JPc3AGRrp7K2U6ICgmlkgnY0gmlwhKwStQCKbXVsdGlhZGRyc5YACASsErUABloMAAoErBK1AAZaDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECC5cgG4t4PE9fjb2oY_kXNFK_Zn1ToJgy7dVbttb4by-DdGNwgloMg3VkcIJaDoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.206 waku d62dfd3864218f9e816c3f9d063e79c02e53a6a600e8e116b150d042976544a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d62dfd386421. Setting up logs at ./log/docker/node2_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 23742
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23742/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23742/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.206/tcp/23743/p2p/16Uiu2HAkvGuuHdCS4jXoHBma7HZUYR2eiMS3nvR4ThxwXzSGeL8k","/ip4/172.18.199.206/tcp/23744/ws/p2p/16Uiu2HAkvGuuHdCS4jXoHBma7HZUYR2eiMS3nvR4ThxwXzSGeL8k"],"enrUri":"enr:-L24QImU0e042-ezkkJt6-JmGs7NxGS4JILLdp53Gk4FjlCsPvLehnPczjcdKKZB0qNO0Yn0nVRqUDjWytQ4JgOfZO0CgmlkgnY0gmlwhKwSx86KbXVsdGlhZGRyc5YACASsEsfOBly_AAoErBLHzgZcwN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDJ0zn0-XRYX4zz7VeRnTMARQIZOtVttGC9408I7fzwWDdGNwgly_g3VkcIJcwYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23742/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.0/tcp/23052/p2p/16Uiu2HAkvCv7xWEbB1bkxKZ9LiVETh86tcdoYeBXkLUBSoxyboVp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.51.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1645', '1646', '1647', '1648', '1649']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1645:1645 -p 1646:1646 -p 1647:1647 -p 1648:1648 -p 1649:1649 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1647 --rest-port=1645 --tcp-port=1646 --discv5-udp-port=1648 --rest-address=0.0.0.0 --nat=extip:172.18.51.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8150bc324fe16d6fce909bafffafbedab1efdaa4a1fe43d4e8d9d3f547ebacf2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1649 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLRWNFBw3ZpRdWV3d3DpN0qMnhXYiF3MJh-qrSsBYxY7Y-A6lCYdGM6vx7pvH3YDC5Mvo5A4JPc3AGRrp7K2U6ICgmlkgnY0gmlwhKwStQCKbXVsdGlhZGRyc5YACASsErUABloMAAoErBK1AAZaDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECC5cgG4t4PE9fjb2oY_kXNFK_Zn1ToJgy7dVbttb4by-DdGNwgloMg3VkcIJaDoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.51.81 waku 0e0e677ff3d74c35459bc00173038ffa1ff8c534c2c70ea7e5df6f3da95f9cd5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e0e677ff3d7. Setting up logs at ./log/docker/node3_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 1645
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1645/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1645/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.81/tcp/1646/p2p/16Uiu2HAkvN5jsEvQAC2oH9apiukigT84br85fC1dq8VDBLdhUUTd","/ip4/172.18.51.81/tcp/1647/ws/p2p/16Uiu2HAkvN5jsEvQAC2oH9apiukigT84br85fC1dq8VDBLdhUUTd"],"enrUri":"enr:-L24QMMtroFiXiAH1vsTyWjwCl0Y-AIxNUDUrRqUue_ie43wGYaF-_wsdMVu940HoKKYltBs4begK67nsd6h1lu_LEkCgmlkgnY0gmlwhKwSM1GKbXVsdGlhZGRyc5YACASsEjNRBgZuAAoErBIzUQYGb90DgnJzhQADAQAAiXNlY3AyNTZrMaECDfA6pQ9EmTA8xMVWDgy3xMBRs-QYaGM7pcdYcgRFv8yDdGNwggZug3VkcIIGcIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1645/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.0/tcp/23052/p2p/16Uiu2HAkvCv7xWEbB1bkxKZ9LiVETh86tcdoYeBXkLUBSoxyboVp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.86.231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34390', '34391', '34392', '34393', '34394']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34390:34390 -p 34391:34391 -p 34392:34392 -p 34393:34393 -p 34394:34394 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34392 --rest-port=34390 --tcp-port=34391 --discv5-udp-port=34393 --rest-address=0.0.0.0 --nat=extip:172.18.86.231 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c44bbbf0efcc7de3f2ddeec063c5dc7cae2905892c50ba229a4f448dc63821d4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34394 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLRWNFBw3ZpRdWV3d3DpN0qMnhXYiF3MJh-qrSsBYxY7Y-A6lCYdGM6vx7pvH3YDC5Mvo5A4JPc3AGRrp7K2U6ICgmlkgnY0gmlwhKwStQCKbXVsdGlhZGRyc5YACASsErUABloMAAoErBK1AAZaDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECC5cgG4t4PE9fjb2oY_kXNFK_Zn1ToJgy7dVbttb4by-DdGNwgloMg3VkcIJaDoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.86.231 waku 192870b6628a87b759bfef5e16c4e757b0c180967e0000996f67cdc0ee18e336
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 192870b6628a. Setting up logs at ./log/docker/node4_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 34390
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34390/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34390/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.231/tcp/34391/p2p/16Uiu2HAmQbJfSsxFKLH5B27UwGEBRex6dbRwj1JfRZPqgb4ZCVud","/ip4/172.18.86.231/tcp/34392/ws/p2p/16Uiu2HAmQbJfSsxFKLH5B27UwGEBRex6dbRwj1JfRZPqgb4ZCVud"],"enrUri":"enr:-L24QGqBwKmF5ZE6AEJ2cv1l09rvw-InE-GaL5A22nYARO8JAr7cUDq0303gjijCNpt8UpFLwXmO0ueh9mCJCrmn4KcCgmlkgnY0gmlwhKwSVueKbXVsdGlhZGRyc5YACASsElbnBoZXAAoErBJW5waGWN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsVqgY1hsETxjMW0BN7hCKebCweVuS9xsOjD3z__ceHSDdGNwgoZXg3VkcIKGWYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34390/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.0/tcp/23052/p2p/16Uiu2HAkvCv7xWEbB1bkxKZ9LiVETh86tcdoYeBXkLUBSoxyboVp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29027', '29028', '29029', '29030', '29031']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29027:29027 -p 29028:29028 -p 29029:29029 -p 29030:29030 -p 29031:29031 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29029 --rest-port=29027 --tcp-port=29028 --discv5-udp-port=29030 --rest-address=0.0.0.0 --nat=extip:172.18.149.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bef5b2bc18daf76eaddcda387ad63debe4fbfccb811f0a46fcacaddd10bee0e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29031 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLRWNFBw3ZpRdWV3d3DpN0qMnhXYiF3MJh-qrSsBYxY7Y-A6lCYdGM6vx7pvH3YDC5Mvo5A4JPc3AGRrp7K2U6ICgmlkgnY0gmlwhKwStQCKbXVsdGlhZGRyc5YACASsErUABloMAAoErBK1AAZaDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECC5cgG4t4PE9fjb2oY_kXNFK_Zn1ToJgy7dVbttb4by-DdGNwgloMg3VkcIJaDoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.95 waku dd3033a076ca19e2184471c3a50cfbd42268d4a78ec01a1018fe7ac1dc59ca9b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dd3033a076ca. Setting up logs at ./log/docker/node5_2024-11-12_04-17-10__ebbc7f4f-6e95-483c-a688-627345621a90__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 29027
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.95/tcp/29028/p2p/16Uiu2HAm1XbuVLf8DN2eo9TAKFMnhWAVJdi3hCjMv28jo3zvyRDL","/ip4/172.18.149.95/tcp/29029/ws/p2p/16Uiu2HAm1XbuVLf8DN2eo9TAKFMnhWAVJdi3hCjMv28jo3zvyRDL"],"enrUri":"enr:-L24QKAgoiFtp_AnTPAtALsbmDSBD7qptZro5OP5wiKMzBFdMB-LJliVfAhtm0VSNPHk3OXR5P8TFnU7yPBnCDOdIhwCgmlkgnY0gmlwhKwSlV-KbXVsdGlhZGRyc5YACASsEpVfBnFkAAoErBKVXwZxZd0DgnJzhQADAQAAiXNlY3AyNTZrMaECWqr_67K6ba4KLK63JraBDp8eEgo-ACGNRX6HlrwIl1uDdGNwgnFkg3VkcIJxZoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29027/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.0/tcp/23052/p2p/16Uiu2HAkvCv7xWEbB1bkxKZ9LiVETh86tcdoYeBXkLUBSoxyboVp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23051/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23742/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1645/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34390/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29027/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23051/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23051/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039186053632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23742/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039186053632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039186053632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34390/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039186053632,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039186053632,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23051/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039320424960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23742/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039320424960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039320424960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34390/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039320424960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731385039320424960,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 278985b198d5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id d62dfd386421
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 278985b198d5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0e0e677ff3d7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d62dfd386421. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 192870b6628a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0e0e677ff3d7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id dd3033a076ca
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 192870b6628a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.