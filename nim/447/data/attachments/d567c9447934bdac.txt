[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.104.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26938', '26939', '26940', '26941', '26942']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26938:26938 -p 26939:26939 -p 26940:26940 -p 26941:26941 -p 26942:26942 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26940 --rest-port=26938 --tcp-port=26939 --discv5-udp-port=26941 --rest-address=0.0.0.0 --nat=extip:172.18.104.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcedbd2ee6859bb72ef9fb9d605a76ceacee7ed4bdeca243724f4def84ed9ae2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26942 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.104.242 waku 15edb0a5efbb7897d64b13e9e8106a2e802ab656fc0b4b4aaaced84f817faac1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 15edb0a5efbb. Setting up logs at ./log/docker/node1_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 26938
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b5148ab9ec21. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26938/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26938/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm","/ip4/172.18.104.242/tcp/26940/ws/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm"],"enrUri":"enr:-L24QI6bGrZ8KeuKcTvx9wT8OlPTozs5JayCTDO9Qp7Ch8yJeMebN4QBsseEYcy7-XkYgxHKO9vEGBNNFIn0VXK4ZiMCgmlkgnY0gmlwhKwSaPKKbXVsdGlhZGRyc5YACASsEmjyBmk7AAoErBJo8gZpPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDQZbugeAVy_u5A_WIBgzJzB6mn8dhrVCc3TrD-m23cSDdGNwgmk7g3VkcIJpPYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.151.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30328', '30329', '30330', '30331', '30332']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30328:30328 -p 30329:30329 -p 30330:30330 -p 30331:30331 -p 30332:30332 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30330 --rest-port=30328 --tcp-port=30329 --discv5-udp-port=30331 --rest-address=0.0.0.0 --nat=extip:172.18.151.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae3def789f14af2f2c3e9ddfcc84dcfd74b999aefa55eadd5fe1e0571dc51744 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30332 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QI6bGrZ8KeuKcTvx9wT8OlPTozs5JayCTDO9Qp7Ch8yJeMebN4QBsseEYcy7-XkYgxHKO9vEGBNNFIn0VXK4ZiMCgmlkgnY0gmlwhKwSaPKKbXVsdGlhZGRyc5YACASsEmjyBmk7AAoErBJo8gZpPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDQZbugeAVy_u5A_WIBgzJzB6mn8dhrVCc3TrD-m23cSDdGNwgmk7g3VkcIJpPYV3YWt1MgU --filternode=/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.151.139 waku 8f88dda8ea570e811c648633b105290c923695c529b79aa7da9275f2e5decd36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8f88dda8ea57. Setting up logs at ./log/docker/node2_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 30328
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30328/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30328/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.139/tcp/30329/p2p/16Uiu2HAm2HmZAUcyvWds6Fmj1vHL7dC9iv5F2EcRtskKrLuRbFwX","/ip4/172.18.151.139/tcp/30330/ws/p2p/16Uiu2HAm2HmZAUcyvWds6Fmj1vHL7dC9iv5F2EcRtskKrLuRbFwX"],"enrUri":"enr:-L24QHHnQPKxhMs8BMVKylx7GsXHV4eBicw0wE4Tab_AOiD9GyBlAiaMtTeRKVEmWo-X2KSgxx0EGCOtgFlrI57Lw0ICgmlkgnY0gmlwhKwSl4uKbXVsdGlhZGRyc5YACASsEpeLBnZ5AAoErBKXiwZ2et0DgnJzhQADAQAAiXNlY3AyNTZrMaECZft3UYVl63jvrBq0SuMdhjij2ViwVkpqWW4gL-cFhOKDdGNwgnZ5g3VkcIJ2e4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30328/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.182.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4733', '4734', '4735', '4736', '4737']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4733:4733 -p 4734:4734 -p 4735:4735 -p 4736:4736 -p 4737:4737 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4735 --rest-port=4733 --tcp-port=4734 --discv5-udp-port=4736 --rest-address=0.0.0.0 --nat=extip:172.18.182.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa3aec385afd01150b19ffc64a10fde4e82aaa2509d6bdbdcbe6daee0b75c3dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4737 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QI6bGrZ8KeuKcTvx9wT8OlPTozs5JayCTDO9Qp7Ch8yJeMebN4QBsseEYcy7-XkYgxHKO9vEGBNNFIn0VXK4ZiMCgmlkgnY0gmlwhKwSaPKKbXVsdGlhZGRyc5YACASsEmjyBmk7AAoErBJo8gZpPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDQZbugeAVy_u5A_WIBgzJzB6mn8dhrVCc3TrD-m23cSDdGNwgmk7g3VkcIJpPYV3YWt1MgU --filternode=/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.182.243 waku baf864a3a6170ec65ef16e818dad65c7e32c1dfd55090a630a617335829ff5dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID baf864a3a617. Setting up logs at ./log/docker/node3_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 4733
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4733/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4733/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.243/tcp/4734/p2p/16Uiu2HAmCJPd3viPi6p8gPku9QK8bvzE9VzXFNs7CMghfsvPo2tn","/ip4/172.18.182.243/tcp/4735/ws/p2p/16Uiu2HAmCJPd3viPi6p8gPku9QK8bvzE9VzXFNs7CMghfsvPo2tn"],"enrUri":"enr:-L24QN7sAvUIif5HmTFDI71E7ZuocRFImxu1IsnP9oBxLogPEafxeg_Dr_xxWlCW0bsS9U8NByAW0yEM1gJIYG0W6GYCgmlkgnY0gmlwhKwStvOKbXVsdGlhZGRyc5YACASsErbzBhJ-AAoErBK28wYSf90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-rkd0EAchFwo0Ps5xG6YtXJaKX4Y5UPa6fMPi2nr8w-DdGNwghJ-g3VkcIISgIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4733/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17011', '17012', '17013', '17014', '17015']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17011:17011 -p 17012:17012 -p 17013:17013 -p 17014:17014 -p 17015:17015 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17013 --rest-port=17011 --tcp-port=17012 --discv5-udp-port=17014 --rest-address=0.0.0.0 --nat=extip:172.18.89.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd3c61ecaeabfb5d6bb3fc1bc84bba1fd514a267bdcc2cd4cea9ceafabfb773b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17015 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QI6bGrZ8KeuKcTvx9wT8OlPTozs5JayCTDO9Qp7Ch8yJeMebN4QBsseEYcy7-XkYgxHKO9vEGBNNFIn0VXK4ZiMCgmlkgnY0gmlwhKwSaPKKbXVsdGlhZGRyc5YACASsEmjyBmk7AAoErBJo8gZpPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDQZbugeAVy_u5A_WIBgzJzB6mn8dhrVCc3TrD-m23cSDdGNwgmk7g3VkcIJpPYV3YWt1MgU --filternode=/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.89.130 waku 82a9f93f4a3f4a9e38386b9b0b8444d8470c8803e1b749b7c97b8eb65077c5e5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 82a9f93f4a3f. Setting up logs at ./log/docker/node4_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 17011
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17011/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17011/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.130/tcp/17012/p2p/16Uiu2HAmJjG7tbh5rTehaQJNtffsqKW9tBam2BU6jSMd8w256gHw","/ip4/172.18.89.130/tcp/17013/ws/p2p/16Uiu2HAmJjG7tbh5rTehaQJNtffsqKW9tBam2BU6jSMd8w256gHw"],"enrUri":"enr:-L24QHzaH8GEsIBBN6WD-As3K66BjWs_WMnDTknc8p4EG_a8RQ_HalVlQAtzWGLa_q0m1Gje3aT4ygzKdm0_JEqCzzQCgmlkgnY0gmlwhKwSWYKKbXVsdGlhZGRyc5YACASsElmCBkJ0AAoErBJZggZCdd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWj5GW1w4OezoRYyjLU1v2STAMJSUNQ9G8G8xcn4Fe_qDdGNwgkJ0g3VkcIJCdoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17011/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17773', '17774', '17775', '17776', '17777']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17773:17773 -p 17774:17774 -p 17775:17775 -p 17776:17776 -p 17777:17777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17775 --rest-port=17773 --tcp-port=17774 --discv5-udp-port=17776 --rest-address=0.0.0.0 --nat=extip:172.18.68.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcc1398b3a7df9fb3a52dcbbbc6ea6deff4b0aad32fca9cdda3bbea123f69d6b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17777 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QI6bGrZ8KeuKcTvx9wT8OlPTozs5JayCTDO9Qp7Ch8yJeMebN4QBsseEYcy7-XkYgxHKO9vEGBNNFIn0VXK4ZiMCgmlkgnY0gmlwhKwSaPKKbXVsdGlhZGRyc5YACASsEmjyBmk7AAoErBJo8gZpPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECDQZbugeAVy_u5A_WIBgzJzB6mn8dhrVCc3TrD-m23cSDdGNwgmk7g3VkcIJpPYV3YWt1MgU --filternode=/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.116 waku e5f5e494151bcd7bdf7a00532b375c8212ad3b2a2fc131bcc507f6dd15e6cbaf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e5f5e494151b. Setting up logs at ./log/docker/node5_2024-11-12_04-09-31__a3a5e661-e934-4508-aedb-e47f5bfa3d52__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 17773
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17773/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.116/tcp/17774/p2p/16Uiu2HAm4AqK59zs4jHmNEKuhoq9MFae4jz9uTUTr89PobrhZRDJ","/ip4/172.18.68.116/tcp/17775/ws/p2p/16Uiu2HAm4AqK59zs4jHmNEKuhoq9MFae4jz9uTUTr89PobrhZRDJ"],"enrUri":"enr:-L24QFShR5HnXBh9pExvBPcW43udlUxCgieU6hld_dkr-WNORP6ebRi7obE6OqYXuOJqzGaKc3lD7jkj1sR17uyFKKACgmlkgnY0gmlwhKwSRHSKbXVsdGlhZGRyc5YACASsEkR0BkVuAAoErBJEdAZFb90DgnJzhQADAQAAiXNlY3AyNTZrMaECgewFulJKizSBaJIqgOGc1nEScjqbBqrKJKeskcTIUsmDdGNwgkVug3VkcIJFcIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.242/tcp/26939/p2p/16Uiu2HAkvJWuMG99vZqgwzkwKMMrRrnTmNRkkTNLpY62EKA3mvjm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26938/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30328/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9eec1ad0-9ecd-4a26-9585-8ba8cc52e4b6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9eec1ad0-9ecd-4a26-9585-8ba8cc52e4b6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4733/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "380fa05e-223f-4267-ab3d-b43c8531718c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"380fa05e-223f-4267-ab3d-b43c8531718c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17011/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cd6cb711-08ce-4f16-b46a-348b9a915ded", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cd6cb711-08ce-4f16-b46a-348b9a915ded","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17773/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0c8a09a5-466c-4ba3-80d0-c30bfc1a7753", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0c8a09a5-466c-4ba3-80d0-c30bfc1a7753","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26938/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30328/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731384579843669504,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26938/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4733/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:4733/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 15edb0a5efbb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8f88dda8ea57
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 15edb0a5efbb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id baf864a3a617
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8f88dda8ea57. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 82a9f93f4a3f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container baf864a3a617. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e5f5e494151b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 82a9f93f4a3f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.