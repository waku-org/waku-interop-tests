[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15086', '15087', '15088', '15089', '15090']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15086:15086 -p 15087:15087 -p 15088:15088 -p 15089:15089 -p 15090:15090 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15088 --rest-port=15086 --tcp-port=15087 --discv5-udp-port=15089 --rest-address=0.0.0.0 --nat=extip:172.18.238.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e789cd6d0a161f07e9cddddc6ee5826cdbefcffa3ec1fac8bdf06be0cffa6c5e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15090 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.200 waku 35b390054ac4999c326e77e7b65854f2fa132694b098b80f49942dbc9092c105
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e03a2d69b8c. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 35b390054ac4. Setting up logs at ./log/docker/node1_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15086
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15086/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15086/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.200/tcp/15087/p2p/16Uiu2HAmDJCxLByrg8nHwMgpvuyFsh4ofjSNaDdfzfQSmu3TYV1M","/ip4/172.18.238.200/tcp/15088/ws/p2p/16Uiu2HAmDJCxLByrg8nHwMgpvuyFsh4ofjSNaDdfzfQSmu3TYV1M"],"enrUri":"enr:-L24QI4HwR2aGJO_EocS586LtqiGPldv9dwXDOCeFwjuEAYEUUaYzk9nGz4h-l3xuEdJCNz6VmUAvnThzyS9jBVDCmcCgmlkgnY0gmlwhKwS7siKbXVsdGlhZGRyc5YACASsEu7IBjrvAAoErBLuyAY68N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCYi90-tFgdUM3SyQtkKEZI4oStfZJZz3W1aDVn2dG7yDdGNwgjrvg3VkcII68YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5029', '5030', '5031', '5032', '5033']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5029:5029 -p 5030:5030 -p 5031:5031 -p 5032:5032 -p 5033:5033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5031 --rest-port=5029 --tcp-port=5030 --discv5-udp-port=5032 --rest-address=0.0.0.0 --nat=extip:172.18.56.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25efd9b3c316b717d8bfeece63caa2ee9a18e35c8de701bdd9bb8b023af5ab1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5033 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QI4HwR2aGJO_EocS586LtqiGPldv9dwXDOCeFwjuEAYEUUaYzk9nGz4h-l3xuEdJCNz6VmUAvnThzyS9jBVDCmcCgmlkgnY0gmlwhKwS7siKbXVsdGlhZGRyc5YACASsEu7IBjrvAAoErBLuyAY68N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCYi90-tFgdUM3SyQtkKEZI4oStfZJZz3W1aDVn2dG7yDdGNwgjrvg3VkcII68YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.236 waku 6f2e672b512585c565f704a84fdefbe07868827d9db5028e5d401d1b76ae4f8e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6f2e672b5125. Setting up logs at ./log/docker/node2_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5029
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5029/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.236/tcp/5030/p2p/16Uiu2HAm6xGCezdcEYVPfU1iGLRGx2J7Wjz9ZvE6CSr9XqHpvefQ","/ip4/172.18.56.236/tcp/5031/ws/p2p/16Uiu2HAm6xGCezdcEYVPfU1iGLRGx2J7Wjz9ZvE6CSr9XqHpvefQ"],"enrUri":"enr:-L24QIctD5adE7_ILSXhQMZ_XiJ0jyz-WA1Tij5Mgxl8z-tzFOEbJQYwZmvYcFTsbwbYKbzYXWtG0gz_MY1ozTuNoHcCgmlkgnY0gmlwhKwSOOyKbXVsdGlhZGRyc5YACASsEjjsBhOmAAoErBI47AYTp90DgnJzhQADAQAAiXNlY3AyNTZrMaECq0as1aYQxLOLfxEEwiIox4HU_3ajxj2vv-5zP2yhzh-DdGNwghOmg3VkcIITqIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5029/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.200/tcp/15087/p2p/16Uiu2HAmDJCxLByrg8nHwMgpvuyFsh4ofjSNaDdfzfQSmu3TYV1M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.39.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57800', '57801', '57802', '57803', '57804']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57800:57800 -p 57801:57801 -p 57802:57802 -p 57803:57803 -p 57804:57804 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57802 --rest-port=57800 --tcp-port=57801 --discv5-udp-port=57803 --rest-address=0.0.0.0 --nat=extip:172.18.39.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f48fcb7255aa995dc55dd9cedb518864ae5dfbf0b15bad4fad3ab259de35d4f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57804 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QI4HwR2aGJO_EocS586LtqiGPldv9dwXDOCeFwjuEAYEUUaYzk9nGz4h-l3xuEdJCNz6VmUAvnThzyS9jBVDCmcCgmlkgnY0gmlwhKwS7siKbXVsdGlhZGRyc5YACASsEu7IBjrvAAoErBLuyAY68N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCYi90-tFgdUM3SyQtkKEZI4oStfZJZz3W1aDVn2dG7yDdGNwgjrvg3VkcII68YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.39.165 waku 6997e5748da05699a1765aeeb19f2ea8429f87da69f71c3d27a528e989052d1a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6997e5748da0. Setting up logs at ./log/docker/node3_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57800
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57800/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57800/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.165/tcp/57801/p2p/16Uiu2HAkve4uzj1Hk7J2kf5S3Ad53Hg4EtgEWfVDf1RENAsYtCAA","/ip4/172.18.39.165/tcp/57802/ws/p2p/16Uiu2HAkve4uzj1Hk7J2kf5S3Ad53Hg4EtgEWfVDf1RENAsYtCAA"],"enrUri":"enr:-L24QEs75yKXbQlSIEuCXY_PO1p3YwgjxLgfHhAYgB_txxx_NV4AphW9z2EZGt_ssKG_RoIQa-c9E-k7GXqFiP3ta5sCgmlkgnY0gmlwhKwSJ6WKbXVsdGlhZGRyc5YACASsEielBuHJAAoErBInpQbhyt0DgnJzhQADAQAAiXNlY3AyNTZrMaECEgiWusHT9a3BlBL7geLH6GAc7_7YR4rj26kKskAP-IeDdGNwguHJg3VkcILhy4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57800/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.200/tcp/15087/p2p/16Uiu2HAmDJCxLByrg8nHwMgpvuyFsh4ofjSNaDdfzfQSmu3TYV1M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.234.205
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47023', '47024', '47025', '47026', '47027']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47023:47023 -p 47024:47024 -p 47025:47025 -p 47026:47026 -p 47027:47027 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47025 --rest-port=47023 --tcp-port=47024 --discv5-udp-port=47026 --rest-address=0.0.0.0 --nat=extip:172.18.234.205 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8a1735433b7f98b20cdad042e1fa13879a8e6fcef578361159bebd7efab6b0af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47027 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QI4HwR2aGJO_EocS586LtqiGPldv9dwXDOCeFwjuEAYEUUaYzk9nGz4h-l3xuEdJCNz6VmUAvnThzyS9jBVDCmcCgmlkgnY0gmlwhKwS7siKbXVsdGlhZGRyc5YACASsEu7IBjrvAAoErBLuyAY68N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCYi90-tFgdUM3SyQtkKEZI4oStfZJZz3W1aDVn2dG7yDdGNwgjrvg3VkcII68YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.234.205 waku eb20af2e40f1ea60510f00029eb46db9103136a3d2a376daa0e2826814ba6d58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID eb20af2e40f1. Setting up logs at ./log/docker/node4_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47023
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47023/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47023/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.205/tcp/47024/p2p/16Uiu2HAmRRuWZt5beqS8FVffZu1x4FvNi17JJThPHSpzZH4XXsrM","/ip4/172.18.234.205/tcp/47025/ws/p2p/16Uiu2HAmRRuWZt5beqS8FVffZu1x4FvNi17JJThPHSpzZH4XXsrM"],"enrUri":"enr:-L24QE2zAYjXBdBtCdBiVSSsK1a5wy9iHop3BhIy_FUBdo3WDxcVSejIgqdD7GWi780zR8vVqQ6hWcRtm8jusodo8iACgmlkgnY0gmlwhKwS6s2KbXVsdGlhZGRyc5YACASsEurNBrewAAoErBLqzQa3sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDvc3oKRrzezHXIWHwv6C-BcLMXSzeCTNX3n3uqeyhrKaDdGNwgrewg3VkcIK3soV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47023/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.200/tcp/15087/p2p/16Uiu2HAmDJCxLByrg8nHwMgpvuyFsh4ofjSNaDdfzfQSmu3TYV1M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.65.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11176', '11177', '11178', '11179', '11180']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11176:11176 -p 11177:11177 -p 11178:11178 -p 11179:11179 -p 11180:11180 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11178 --rest-port=11176 --tcp-port=11177 --discv5-udp-port=11179 --rest-address=0.0.0.0 --nat=extip:172.18.65.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1d90f5cedd3573cac62ec4d74c4a53dce10a764cec4fab6b81b2ad9e5ee81ada --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11180 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QI4HwR2aGJO_EocS586LtqiGPldv9dwXDOCeFwjuEAYEUUaYzk9nGz4h-l3xuEdJCNz6VmUAvnThzyS9jBVDCmcCgmlkgnY0gmlwhKwS7siKbXVsdGlhZGRyc5YACASsEu7IBjrvAAoErBLuyAY68N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCYi90-tFgdUM3SyQtkKEZI4oStfZJZz3W1aDVn2dG7yDdGNwgjrvg3VkcII68YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.65.250 waku c3b8c506464c93b22690e2949a83b7e1e1fb5537d514813b3da11352c0174092
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c3b8c506464c. Setting up logs at ./log/docker/node5_2024-11-07_04-14-15__6fc34f18-74d6-4ac6-b43c-e5456783ab64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11176
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11176/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11176/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.250/tcp/11177/p2p/16Uiu2HAmC2puhkPNiGw4o549tQQXAPEQGb4dfJ1pAv7uc5e575DX","/ip4/172.18.65.250/tcp/11178/ws/p2p/16Uiu2HAmC2puhkPNiGw4o549tQQXAPEQGb4dfJ1pAv7uc5e575DX"],"enrUri":"enr:-L24QNw3eECWsDc-uok2HwzPlUJWD40vYyGxzamhw5IeQtMCZza8ioH2882JBDO6wfn26ainDpVDkQSSVltp1qWSIO8CgmlkgnY0gmlwhKwSQfqKbXVsdGlhZGRyc5YACASsEkH6BiupAAoErBJB-gYrqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9rxqbZcewhd28CHiv15eEU9EIHlJXWxzxhhVbJ9LjTaDdGNwgiupg3VkcIIrq4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11176/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.200/tcp/15087/p2p/16Uiu2HAmDJCxLByrg8nHwMgpvuyFsh4ofjSNaDdfzfQSmu3TYV1M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15086/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57800/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47023/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11176/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863830180864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863830180864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863830180864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47023/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863830180864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11176/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863830180864,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11176/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863964179968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863964179968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863964179968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47023/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863964179968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11176/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730952863964179968,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 35b390054ac4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6f2e672b5125
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 35b390054ac4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6997e5748da0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6f2e672b5125. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id eb20af2e40f1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6997e5748da0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c3b8c506464c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container eb20af2e40f1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.