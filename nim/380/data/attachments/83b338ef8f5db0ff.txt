[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.222.57
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2266', '2267', '2268', '2269', '2270']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2266:2266 -p 2267:2267 -p 2268:2268 -p 2269:2269 -p 2270:2270 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2268 --rest-port=2266 --tcp-port=2267 --discv5-udp-port=2269 --rest-address=0.0.0.0 --nat=extip:172.18.222.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5aee3dd0011a68b8e894c6a954b07efb8d0cbfbad3eddae56327f4ab8b4993f4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2270 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.222.57 waku be3361a2e7fae4d7ed4518bfc9beec43bb89acc0c229e434d19c0bcd4019d452
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID be3361a2e7fa. Setting up logs at ./log/docker/receiving_node1_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2266
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2266/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2266/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT","/ip4/172.18.222.57/tcp/2268/ws/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT"],"enrUri":"enr:-LO4QHwzWoAHTQZuP8AXeCSwgWC-DRHNU6AlVXI1X38ECz8CC_Phd6JkQrGWKP6MYXyMHSfoGxB9runF8JIPppSDXQABgmlkgnY0gmlwhKwS3jmKbXVsdGlhZGRyc4wACgSsEt45Bgjc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN-uFA-uJHraY7gd6ysk2Lx86i2L0DnEZE90PuEMPgWxoN0Y3CCCNuDdWRwggjdhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.105.107
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18461', '18462', '18463', '18464', '18465']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18461:18461 -p 18462:18462 -p 18463:18463 -p 18464:18464 -p 18465:18465 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18463 --rest-port=18461 --tcp-port=18462 --discv5-udp-port=18464 --rest-address=0.0.0.0 --nat=extip:172.18.105.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6bce729afb208ecdbef6ac02d9ba7a18be05ec15af51cfcec1b5afbe912bc5c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18465 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.105.107 waku 7b01aee24a7c650bf780af198e45f2cec320907d63ec6a7b7b11dd2345b7d24c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7b01aee24a7c. Setting up logs at ./log/docker/receiving_node2_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18461
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18461/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18461/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.107/tcp/18462/p2p/16Uiu2HAkxuimTUoETbRtRJi1gVxrAA3Ra9F5XvsaStnZ3MVRusqS","/ip4/172.18.105.107/tcp/18463/ws/p2p/16Uiu2HAkxuimTUoETbRtRJi1gVxrAA3Ra9F5XvsaStnZ3MVRusqS"],"enrUri":"enr:-LO4QKq1FyUU2wo0N7tUNSffw4NiBZMqOtyWBmrUBvG4fWYDSfRRRHtYg1UBYrSHUpfN5F4oOg6doT3CMjB5JRPNws8BgmlkgnY0gmlwhKwSaWuKbXVsdGlhZGRyc4wACgSsEmlrBkgf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIzwnmc_7AEfrrsF0tssYJUzrcQmUVGbPkNUPUKE8aLIYN0Y3CCSB6DdWRwgkgghXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18461/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.25.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54860', '54861', '54862', '54863', '54864']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54860:54860 -p 54861:54861 -p 54862:54862 -p 54863:54863 -p 54864:54864 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54862 --rest-port=54860 --tcp-port=54861 --discv5-udp-port=54863 --rest-address=0.0.0.0 --nat=extip:172.18.25.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2baadbbceebfc1c6796d286efe700debaa2ddca3319042df8df3d113f6aaed7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54864 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwzWoAHTQZuP8AXeCSwgWC-DRHNU6AlVXI1X38ECz8CC_Phd6JkQrGWKP6MYXyMHSfoGxB9runF8JIPppSDXQABgmlkgnY0gmlwhKwS3jmKbXVsdGlhZGRyc4wACgSsEt45Bgjc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN-uFA-uJHraY7gd6ysk2Lx86i2L0DnEZE90PuEMPgWxoN0Y3CCCNuDdWRwggjdhXdha3UyCQ --lightpushnode=/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.25.153 waku 94ac77d0487df935b780bce75280d1552d1a76ef361859fc9019660793aaff9a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 94ac77d0487d. Setting up logs at ./log/docker/lightpush_node1_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54860
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54860/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54860/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.153/tcp/54861/p2p/16Uiu2HAmV3SiTPiszdaCriLedecKcxwxgFHeb3gRYsuFhJk78jdM","/ip4/172.18.25.153/tcp/54862/ws/p2p/16Uiu2HAmV3SiTPiszdaCriLedecKcxwxgFHeb3gRYsuFhJk78jdM"],"enrUri":"enr:-LO4QLTsJPZZbsQSSiv2Hv0j9mZkksCI4Ga4_A8NEVGw9RBBZC0_dpIk_dAvDKRiUZ313ePHIKJzDeE27QJaFV-6Y4MBgmlkgnY0gmlwhKwSGZmKbXVsdGlhZGRyc4wACgSsEhmZBtZO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPze5Rc8r3HT2urWU7X52EaZrZMpPi-4_CiuUHK1XUbvIN0Y3CC1k2DdWRwgtZPhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54860/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54860/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.107/tcp/18462/p2p/16Uiu2HAkxuimTUoETbRtRJi1gVxrAA3Ra9F5XvsaStnZ3MVRusqS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.158.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6303', '6304', '6305', '6306', '6307']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6303:6303 -p 6304:6304 -p 6305:6305 -p 6306:6306 -p 6307:6307 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6305 --rest-port=6303 --tcp-port=6304 --discv5-udp-port=6306 --rest-address=0.0.0.0 --nat=extip:172.18.158.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e210ba5b01ea872cb428f6ab1a8e0f70d8abee00d209b395eb99f194563afec3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6307 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwzWoAHTQZuP8AXeCSwgWC-DRHNU6AlVXI1X38ECz8CC_Phd6JkQrGWKP6MYXyMHSfoGxB9runF8JIPppSDXQABgmlkgnY0gmlwhKwS3jmKbXVsdGlhZGRyc4wACgSsEt45Bgjc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN-uFA-uJHraY7gd6ysk2Lx86i2L0DnEZE90PuEMPgWxoN0Y3CCCNuDdWRwggjdhXdha3UyCQ --lightpushnode=/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.158.176 waku 6a8c667507c0c19ed91df461efd1ccac158d514309faa8989942759561e745e4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6a8c667507c0. Setting up logs at ./log/docker/lightpush_node2_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6303
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6303/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6303/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.176/tcp/6304/p2p/16Uiu2HAmQGwwd3pzyLnnzT2VCUBdztzX5EezArK2vLq3P5zAgQKh","/ip4/172.18.158.176/tcp/6305/ws/p2p/16Uiu2HAmQGwwd3pzyLnnzT2VCUBdztzX5EezArK2vLq3P5zAgQKh"],"enrUri":"enr:-LO4QNVVnw09dKYFmYwUKGWKGYm0Bu6-kw6Fh_huTJt4D03zRxI2V_hhtdxkFGVuk9-yaQP2l1ED9U2G6YPDoFSPhaABgmlkgnY0gmlwhKwSnrCKbXVsdGlhZGRyc4wACgSsEp6wBhih3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOspr4VXTmtw7gcd7NXWqzi1vlQRWDImIYQRIxhnr46wIN0Y3CCGKCDdWRwghiihXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6303/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6303/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.107/tcp/18462/p2p/16Uiu2HAkxuimTUoETbRtRJi1gVxrAA3Ra9F5XvsaStnZ3MVRusqS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.65.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46531', '46532', '46533', '46534', '46535']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46531:46531 -p 46532:46532 -p 46533:46533 -p 46534:46534 -p 46535:46535 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46533 --rest-port=46531 --tcp-port=46532 --discv5-udp-port=46534 --rest-address=0.0.0.0 --nat=extip:172.18.65.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=78f0ecf3ebf02aafad97ccfa4facabd7e6daed409e4e9dbfd1816c2cda1e2fa7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46535 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwzWoAHTQZuP8AXeCSwgWC-DRHNU6AlVXI1X38ECz8CC_Phd6JkQrGWKP6MYXyMHSfoGxB9runF8JIPppSDXQABgmlkgnY0gmlwhKwS3jmKbXVsdGlhZGRyc4wACgSsEt45Bgjc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN-uFA-uJHraY7gd6ysk2Lx86i2L0DnEZE90PuEMPgWxoN0Y3CCCNuDdWRwggjdhXdha3UyCQ --lightpushnode=/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.65.91 waku 5b53ff920c70073ec7ba1230a7e5f29437b6f7a002549367995858a622a80bef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5b53ff920c70. Setting up logs at ./log/docker/lightpush_node3_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46531
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46531/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46531/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.91/tcp/46532/p2p/16Uiu2HAmMQphiJevhbYBCXUwe3tfBMR6DMW8Mt628SuvhGmdPEfT","/ip4/172.18.65.91/tcp/46533/ws/p2p/16Uiu2HAmMQphiJevhbYBCXUwe3tfBMR6DMW8Mt628SuvhGmdPEfT"],"enrUri":"enr:-LO4QODhElR_HR7tqCKp8SWX96rhM2MTOBJEVk3yTXCnS1wBOkFUZBFVjFhFFwGCzWYwXU-WnQnMmx7Toa4dON4YXpcBgmlkgnY0gmlwhKwSQVuKbXVsdGlhZGRyc4wACgSsEkFbBrXF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOCGCRh95UminGIlRz6wowmMI8GXQH2TWU0fmCe_gTLeoN0Y3CCtcSDdWRwgrXGhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46531/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46531/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.107/tcp/18462/p2p/16Uiu2HAkxuimTUoETbRtRJi1gVxrAA3Ra9F5XvsaStnZ3MVRusqS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.119.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49108', '49109', '49110', '49111', '49112']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49108:49108 -p 49109:49109 -p 49110:49110 -p 49111:49111 -p 49112:49112 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49110 --rest-port=49108 --tcp-port=49109 --discv5-udp-port=49111 --rest-address=0.0.0.0 --nat=extip:172.18.119.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d74ed0a72c0bc52019cd5abec1effbe8afa007f3df7803489871bcb6679813d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49112 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwzWoAHTQZuP8AXeCSwgWC-DRHNU6AlVXI1X38ECz8CC_Phd6JkQrGWKP6MYXyMHSfoGxB9runF8JIPppSDXQABgmlkgnY0gmlwhKwS3jmKbXVsdGlhZGRyc4wACgSsEt45Bgjc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN-uFA-uJHraY7gd6ysk2Lx86i2L0DnEZE90PuEMPgWxoN0Y3CCCNuDdWRwggjdhXdha3UyCQ --lightpushnode=/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.119.31 waku 99d10ac05f2b56419f3851992645c010c0910d984ba059e56524fb705746db88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 99d10ac05f2b. Setting up logs at ./log/docker/lightpush_node4_2024-10-03_07-43-43__7733ceb6-0a1c-42b0-aaf4-56a4e0b09748__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49108
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49108/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49108/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.31/tcp/49109/p2p/16Uiu2HAmRiGg8GjSxwwdfkbAHYGwzdqNEpr4TnF6QNQcWHLSXQ2x","/ip4/172.18.119.31/tcp/49110/ws/p2p/16Uiu2HAmRiGg8GjSxwwdfkbAHYGwzdqNEpr4TnF6QNQcWHLSXQ2x"],"enrUri":"enr:-LO4QBeQccqPVJo13ncNbyqq1gKr4w_myR8kP2tSuC7WfsegKDg2qqBUAU8Z0WnU87z4PhR_3U1e7w62RALe5zlptz8BgmlkgnY0gmlwhKwSdx-KbXVsdGlhZGRyc4wACgSsEncfBr_W3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPB_yGFO0JPwHmfmcP74a86YHKF6IsSM5LCOXftuv9qTYN0Y3CCv9WDdWRwgr_XhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49108/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.222.57/tcp/2267/p2p/16Uiu2HAmMBejCG4jkTWZzQ2D2p8GCpDR7fYFUM9zvXGQKd6GY2HT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49108/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.105.107/tcp/18462/p2p/16Uiu2HAkxuimTUoETbRtRJi1gVxrAA3Ra9F5XvsaStnZ3MVRusqS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2266/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18461/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54860/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727941432877338368}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941432877338368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941432877338368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6303/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727941432993408256}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941432993408256,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941432993408256,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46531/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727941433131046912}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941433131046912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941433131046912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49108/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727941433260923648}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2266/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941433260923648,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18461/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727941433260923648,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id be3361a2e7fa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7b01aee24a7c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 94ac77d0487d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6a8c667507c0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5b53ff920c70
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 99d10ac05f2b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.