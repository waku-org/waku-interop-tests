[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_on_non_subscribed_pubsub_topic with id: 2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.15.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32711', '32712', '32713', '32714', '32715']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32711:32711 -p 32712:32712 -p 32713:32713 -p 32714:32714 -p 32715:32715 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32713 --rest-port=32711 --tcp-port=32712 --discv5-udp-port=32714 --rest-address=0.0.0.0 --nat=extip:172.18.15.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9e44d7cfdc2bb867b62adcc9d797c5af83e09fc1bb29233e9d9dcdd8f64bda37 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32715 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.15.142 waku 37dffba8172f64c34cec74a7d79b1eed852b0a6ac9da938e7a93ea2c41caaf98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 37dffba8172f. Setting up logs at ./log/docker/receiving_node1_2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32711
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32711/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32711/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.142/tcp/32712/p2p/16Uiu2HAkyUPtxoaHkNd2DJtkLz4xqHXqZd8JUGQkqNTawfwzK7z8","/ip4/172.18.15.142/tcp/32713/ws/p2p/16Uiu2HAkyUPtxoaHkNd2DJtkLz4xqHXqZd8JUGQkqNTawfwzK7z8"],"enrUri":"enr:-LO4QIblkjD6ZrRCYHq4_jQGAOKHhFfhT2pVKLfPIrYYI1czYkcukMBxs-C-MysgWdcR1fBLL9zpIyakhcmPqTSST4oBgmlkgnY0gmlwhKwSD46KbXVsdGlhZGRyc4wACgSsEg-OBn_J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI8IU4BCauLkX7Y4QlHMR7CctC-UNFDXAi4jYlxAdvYaYN0Y3CCf8iDdWRwgn_KhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.74.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17102', '17103', '17104', '17105', '17106']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17102:17102 -p 17103:17103 -p 17104:17104 -p 17105:17105 -p 17106:17106 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17104 --rest-port=17102 --tcp-port=17103 --discv5-udp-port=17105 --rest-address=0.0.0.0 --nat=extip:172.18.74.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bae2d33360aa3b2402ea68ce3fee8aae7a6576ebd0c1e800ccf76160ce26bb82 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17106 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.74.125 waku f7bcf05ee7e9db974a57ed05662012eb8b6ca30874dac56261d203ec2c19de21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f7bcf05ee7e9. Setting up logs at ./log/docker/receiving_node2_2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 17102
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17102/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17102/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.125/tcp/17103/p2p/16Uiu2HAkxmD2SeFQGeHFfpad4S8Vn1KFHtc8Kj5HUZo57sPF4JnU","/ip4/172.18.74.125/tcp/17104/ws/p2p/16Uiu2HAkxmD2SeFQGeHFfpad4S8Vn1KFHtc8Kj5HUZo57sPF4JnU"],"enrUri":"enr:-LO4QNnKF-3cgWh8aeR-9GDwfRnQrll_xjbhQDZ6w0LoVi-0Cznhw_j_qna81Unas-84GnySmXQukkz3Ntp3eVRQtkoBgmlkgnY0gmlwhKwSSn2KbXVsdGlhZGRyc4wACgSsEkp9BkLQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIxlDMZ2GF8cKm6o8v6BfqgaAe8aGlICaLPLu6LlieKSYN0Y3CCQs-DdWRwgkLRhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17102/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.142/tcp/32712/p2p/16Uiu2HAkyUPtxoaHkNd2DJtkLz4xqHXqZd8JUGQkqNTawfwzK7z8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.203.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60517', '60518', '60519', '60520', '60521']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60517:60517 -p 60518:60518 -p 60519:60519 -p 60520:60520 -p 60521:60521 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60519 --rest-port=60517 --tcp-port=60518 --discv5-udp-port=60520 --rest-address=0.0.0.0 --nat=extip:172.18.203.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=858b857efc1ebcbdcefc7c2dde610c0e7d5b1a5478534faed5091dea7ac1bbba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60521 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIblkjD6ZrRCYHq4_jQGAOKHhFfhT2pVKLfPIrYYI1czYkcukMBxs-C-MysgWdcR1fBLL9zpIyakhcmPqTSST4oBgmlkgnY0gmlwhKwSD46KbXVsdGlhZGRyc4wACgSsEg-OBn_J3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI8IU4BCauLkX7Y4QlHMR7CctC-UNFDXAi4jYlxAdvYaYN0Y3CCf8iDdWRwgn_KhXdha3UyCQ --lightpushnode=/ip4/172.18.15.142/tcp/32712/p2p/16Uiu2HAkyUPtxoaHkNd2DJtkLz4xqHXqZd8JUGQkqNTawfwzK7z8 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.203.127 waku 353164443c31410942e66d4c6e8625082a0f50adc329ef4bdd76ec0f3af289f3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 353164443c31. Setting up logs at ./log/docker/lightpush_node1_2024-10-03_07-44-33__ce56dff9-43b0-468e-b5c8-2b6442417f58__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60517
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60517/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60517/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.127/tcp/60518/p2p/16Uiu2HAmS9yc87BHXUX4PJ3CcEtcrTqTch8cKCdRicvGjb3dmFYt","/ip4/172.18.203.127/tcp/60519/ws/p2p/16Uiu2HAmS9yc87BHXUX4PJ3CcEtcrTqTch8cKCdRicvGjb3dmFYt"],"enrUri":"enr:-LO4QNScnRqongALwXUqMh4CK54syy-ceK1Hvo-kgEFivvPOB5USF3KQYPYz7s0iv2lWv3ssEonVVNi8ZKgTfxP097oBgmlkgnY0gmlwhKwSy3-KbXVsdGlhZGRyc4wACgSsEst_Buxn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPIlO6WLAcTMxoPN3PNUU7ih02Iu4lAjiPJ-xxptDPSEYN0Y3CC7GaDdWRwguxohXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60517/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.142/tcp/32712/p2p/16Uiu2HAkyUPtxoaHkNd2DJtkLz4xqHXqZd8JUGQkqNTawfwzK7z8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60517/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.74.125/tcp/17103/p2p/16Uiu2HAkxmD2SeFQGeHFfpad4S8Vn1KFHtc8Kj5HUZo57sPF4JnU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32711/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17102/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60517/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727941479067480064}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:60517/lightpush/v1/message. Response content: b'Failed to request a message push: not_published_to_any_peer'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 37dffba8172f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f7bcf05ee7e9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 353164443c31
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.