[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_without_subscribing_via_api_works with id: 2024-10-17_04-18-11__18abee0f-9c11-4165-a291-546bb04089f6
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-17_04-18-11__18abee0f-9c11-4165-a291-546bb04089f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.69.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7424', '7425', '7426', '7427', '7428']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7424:7424 -p 7425:7425 -p 7426:7426 -p 7427:7427 -p 7428:7428 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7426 --rest-port=7424 --tcp-port=7425 --discv5-udp-port=7427 --rest-address=0.0.0.0 --nat=extip:172.18.69.149 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=df8b1062fa6bced4fe5cee3fb8ebfdaa0252e4c3dfc4a8b3abdeea512e3d20e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7428 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.69.149 waku 848b59896575bd4ef621a9889a94827f874167f7281b9648575a64319871152a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 848b59896575. Setting up logs at ./log/docker/node1_2024-10-17_04-18-11__18abee0f-9c11-4165-a291-546bb04089f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7424
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7424/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7424/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.149/tcp/7425/p2p/16Uiu2HAmSeMpW1sjfW4pJmDgNddFSVWhLqw8jh7A3TocdBJroYkB","/ip4/172.18.69.149/tcp/7426/ws/p2p/16Uiu2HAmSeMpW1sjfW4pJmDgNddFSVWhLqw8jh7A3TocdBJroYkB"],"enrUri":"enr:-LO4QGBKMC390EIal53ytm9CoXI_2DFis1EYQgbaaiOD6HVoGsf9ntEDbrZB3I3Q772rMpGDRdYLEpMme4iW_jJKGIABgmlkgnY0gmlwhKwSRZWKbXVsdGlhZGRyc4wACgSsEkWVBh0C3QOCcnOFAAIBAACJc2VjcDI1NmsxoQPP2k-44zHckb6n4MYW8Uz15MxMrGwTM3-ANmq1nfnzhIN0Y3CCHQGDdWRwgh0DhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-17_04-18-11__18abee0f-9c11-4165-a291-546bb04089f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.54.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8225', '8226', '8227', '8228', '8229']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8225:8225 -p 8226:8226 -p 8227:8227 -p 8228:8228 -p 8229:8229 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8227 --rest-port=8225 --tcp-port=8226 --discv5-udp-port=8228 --rest-address=0.0.0.0 --nat=extip:172.18.54.61 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7f5984d4baaeb1d0cde41d6052cddbffb1686b63bd290e7f6bfa5a57b8adc323 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8229 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QGBKMC390EIal53ytm9CoXI_2DFis1EYQgbaaiOD6HVoGsf9ntEDbrZB3I3Q772rMpGDRdYLEpMme4iW_jJKGIABgmlkgnY0gmlwhKwSRZWKbXVsdGlhZGRyc4wACgSsEkWVBh0C3QOCcnOFAAIBAACJc2VjcDI1NmsxoQPP2k-44zHckb6n4MYW8Uz15MxMrGwTM3-ANmq1nfnzhIN0Y3CCHQGDdWRwgh0DhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.54.61 waku be9bbb74e9be7e9390f01aa1bc3326309241611d9b442ac1e9fde46b82b118fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID be9bbb74e9be. Setting up logs at ./log/docker/node2_2024-10-17_04-18-11__18abee0f-9c11-4165-a291-546bb04089f6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8225
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8225/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8225/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.61/tcp/8226/p2p/16Uiu2HAkzWBKd8wTGJ7yJGt4M21rtphBUvzZoGzMuXJBFku1kqPa","/ip4/172.18.54.61/tcp/8227/ws/p2p/16Uiu2HAkzWBKd8wTGJ7yJGt4M21rtphBUvzZoGzMuXJBFku1kqPa"],"enrUri":"enr:-LO4QDWi2Ic6jEcXpMGcrlL7FmbnyBrdaQ4NQU_0GNXO9RFRVnGE0SROtvucfA69DpLfti79bXuBYZLcwozpE3WlNL0BgmlkgnY0gmlwhKwSNj2KbXVsdGlhZGRyc4wACgSsEjY9BiAj3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJLce9TL5dbdNtRSqSzGOx3nM8N0a3rmQ-baxT0BJOA1YN0Y3CCICKDdWRwgiAkhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8225/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.69.149/tcp/7425/p2p/16Uiu2HAmSeMpW1sjfW4pJmDgNddFSVWhLqw8jh7A3TocdBJroYkB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7424/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 848b59896575
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id be9bbb74e9be
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.