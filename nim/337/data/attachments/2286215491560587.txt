[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-08-29_04-38-02__9f2ef5f1-efed-4e8c-b9c1-a40435ee12ef
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-08-29_04-38-02__9f2ef5f1-efed-4e8c-b9c1-a40435ee12ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.22.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59482', '59483', '59484', '59485', '59486']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59482:59482 -p 59483:59483 -p 59484:59484 -p 59485:59485 -p 59486:59486 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59484 --rest-port=59482 --tcp-port=59483 --discv5-udp-port=59485 --rest-address=0.0.0.0 --nat=extip:172.18.22.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=82b76a8c9deededc0decf79c7af8bb3aaa25f1f5f080aa02d4febaf9c9de4fda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59486 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.22.31 waku 8853e9ffee1b30b56cf7a6a212f729cc8615fd7c17c2dc956d179278b4eebbc9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8853e9ffee1b. Setting up logs at ./log/docker/publishing_node1_2024-08-29_04-38-02__9f2ef5f1-efed-4e8c-b9c1-a40435ee12ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59482
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59482/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59482/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.31/tcp/59483/p2p/16Uiu2HAm7pSTd2uZqKB7zFKUWpgEHz8MMzgUBSTjLYGJQeAmHusz","/ip4/172.18.22.31/tcp/59484/ws/p2p/16Uiu2HAm7pSTd2uZqKB7zFKUWpgEHz8MMzgUBSTjLYGJQeAmHusz"],"enrUri":"enr:-LO4QHw8fp8hvLoe6kTcTGrtIdmst4USORkC_gTzY1kHsw1XQM_vIaIbpKtoyj2KXuDy87y2fF_44Q1HNbfRZCH_0FMBgmlkgnY0gmlwhKwSFh-KbXVsdGlhZGRyc4wACgSsEhYfBuhc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK4IVB7zg8TckzUjq3LXBObH1EmziE1bvjlUfxcnGWefYN0Y3CC6FuDdWRwguhdhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-08-29_04-38-02__9f2ef5f1-efed-4e8c-b9c1-a40435ee12ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.1.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37505', '37506', '37507', '37508', '37509']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37505:37505 -p 37506:37506 -p 37507:37507 -p 37508:37508 -p 37509:37509 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37507 --rest-port=37505 --tcp-port=37506 --discv5-udp-port=37508 --rest-address=0.0.0.0 --nat=extip:172.18.1.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea7abe075fe3623f064ba0caa784caabbfab66af52db8ec079e18ecab8ef59d0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37509 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHw8fp8hvLoe6kTcTGrtIdmst4USORkC_gTzY1kHsw1XQM_vIaIbpKtoyj2KXuDy87y2fF_44Q1HNbfRZCH_0FMBgmlkgnY0gmlwhKwSFh-KbXVsdGlhZGRyc4wACgSsEhYfBuhc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK4IVB7zg8TckzUjq3LXBObH1EmziE1bvjlUfxcnGWefYN0Y3CC6FuDdWRwguhdhXdha3UyAw --storenode=/ip4/172.18.22.31/tcp/59483/p2p/16Uiu2HAm7pSTd2uZqKB7zFKUWpgEHz8MMzgUBSTjLYGJQeAmHusz --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.1.150 waku 6c8e3a7a3c0628e50b46130f593500e71a5309afbeb8434425f2ff1a75c201ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6c8e3a7a3c06. Setting up logs at ./log/docker/store_node1_2024-08-29_04-38-02__9f2ef5f1-efed-4e8c-b9c1-a40435ee12ef__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37505
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37505/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37505/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.1.150/tcp/37506/p2p/16Uiu2HAmH2objhvL2bdmK1ZFTpCtBbbGuUzBSBqSPXi97NDCtgQg","/ip4/172.18.1.150/tcp/37507/ws/p2p/16Uiu2HAmH2objhvL2bdmK1ZFTpCtBbbGuUzBSBqSPXi97NDCtgQg"],"enrUri":"enr:-LO4QMRznMxW6-5qqHRVu_cqP6w2aOywAMYAfvibTgF7bo4QORyGDoFMbpBOaFn5jFsrwpgeHavvOm7_91j9_RQu8jgBgmlkgnY0gmlwhKwSAZaKbXVsdGlhZGRyc4wACgSsEgGWBpKD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBBV6R1mBj7wv1h3YhWwjUD1jHcKwb2qMpMeKgLiO7QYN0Y3CCkoKDdWRwgpKEhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37505/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.31/tcp/59483/p2p/16Uiu2HAm7pSTd2uZqKB7zFKUWpgEHz8MMzgUBSTjLYGJQeAmHusz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37505/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:128 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59482/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59482/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0pfpMi/W8rCH27uxyC8nhacTX7V70yuhgGCwMpFBY64="},{"messageHash":"DtFnqovOJzy2+O/aF5G8hZcv4w3B20wY/u6/JzIAH7k="},{"messageHash":"RlZnG19BE/LDX4dlz8oFg5hwwAx85p34JS6ETD8K0Oo="},{"messageHash":"qkSAywSICL5X2wyiXcDo2flw12RN4ER+iTzZoYBQIDY="},{"messageHash":"Co2DNWkVdDosXyv3FBxsR51Qs40KiuEfVHT0RYQxWec="},{"messageHash":"6TD5FP/wToKWxr3atBoUxxmns1qUTYXquCu1AdTU6Zc="},{"messageHash":"RQ72FLIYnDymeeFy6dDq3x/u38shVWkt2TRi2Pr8hl4="},{"messageHash":"YocGm3/n3yE95A4NUPMCbkaSYFXa4XLJ7Jd+SHj83Zw="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37505/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0pfpMi/W8rCH27uxyC8nhacTX7V70yuhgGCwMpFBY64="},{"messageHash":"DtFnqovOJzy2+O/aF5G8hZcv4w3B20wY/u6/JzIAH7k="},{"messageHash":"RlZnG19BE/LDX4dlz8oFg5hwwAx85p34JS6ETD8K0Oo="},{"messageHash":"qkSAywSICL5X2wyiXcDo2flw12RN4ER+iTzZoYBQIDY="},{"messageHash":"Co2DNWkVdDosXyv3FBxsR51Qs40KiuEfVHT0RYQxWec="},{"messageHash":"6TD5FP/wToKWxr3atBoUxxmns1qUTYXquCu1AdTU6Zc="},{"messageHash":"RQ72FLIYnDymeeFy6dDq3x/u38shVWkt2TRi2Pr8hl4="},{"messageHash":"YocGm3/n3yE95A4NUPMCbkaSYFXa4XLJ7Jd+SHj83Zw="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8853e9ffee1b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6c8e3a7a3c06
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.