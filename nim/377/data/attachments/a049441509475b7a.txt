[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-10-01_04-38-49__622d8975-8c30-46ea-a107-937c27ff14ee
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-01_04-38-49__622d8975-8c30-46ea-a107-937c27ff14ee__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.88.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32616', '32617', '32618', '32619', '32620']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32616:32616 -p 32617:32617 -p 32618:32618 -p 32619:32619 -p 32620:32620 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32618 --rest-port=32616 --tcp-port=32617 --discv5-udp-port=32619 --rest-address=0.0.0.0 --nat=extip:172.18.88.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1d492caf55f4c8ce5b0d1cbceccab9405d7ed8eac6a0ab1cbdfaa79d87c8e10d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32620 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.88.177 waku 91cac7e4ee97d2df39fca7b6edc86caba390222510db145be9d65b56a980cfec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 91cac7e4ee97. Setting up logs at ./log/docker/publishing_node1_2024-10-01_04-38-49__622d8975-8c30-46ea-a107-937c27ff14ee__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32616
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32616/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32616/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.177/tcp/32617/p2p/16Uiu2HAmET5q9i3Ef77BhLn5oyqyX7WeZv99Hdfc46JaYygoBb6t","/ip4/172.18.88.177/tcp/32618/ws/p2p/16Uiu2HAmET5q9i3Ef77BhLn5oyqyX7WeZv99Hdfc46JaYygoBb6t"],"enrUri":"enr:-LO4QLDPmsnHpew5qEU_xytBLo_7tH_T3cIhR5Xf0-seFHPjTc1GgPmkA8Pkfqe0T2R4ypJli6FXaOjZ3NOagY0XrfcBgmlkgnY0gmlwhKwSWLGKbXVsdGlhZGRyc4wACgSsElixBn9q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMaqpnOtKzwEQQMWnmaqqIC6oKJ6JcjsvYv4PKpEVFEbYN0Y3CCf2mDdWRwgn9rhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-01_04-38-49__622d8975-8c30-46ea-a107-937c27ff14ee__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.20.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61815', '61816', '61817', '61818', '61819']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61815:61815 -p 61816:61816 -p 61817:61817 -p 61818:61818 -p 61819:61819 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61817 --rest-port=61815 --tcp-port=61816 --discv5-udp-port=61818 --rest-address=0.0.0.0 --nat=extip:172.18.20.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e78b50cf16490aa80f2d0f84bafaddb9d9ac0d3e5ad4b0fe0c1ff62c8a412b52 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61819 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLDPmsnHpew5qEU_xytBLo_7tH_T3cIhR5Xf0-seFHPjTc1GgPmkA8Pkfqe0T2R4ypJli6FXaOjZ3NOagY0XrfcBgmlkgnY0gmlwhKwSWLGKbXVsdGlhZGRyc4wACgSsElixBn9q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMaqpnOtKzwEQQMWnmaqqIC6oKJ6JcjsvYv4PKpEVFEbYN0Y3CCf2mDdWRwgn9rhXdha3UyAw --storenode=/ip4/172.18.88.177/tcp/32617/p2p/16Uiu2HAmET5q9i3Ef77BhLn5oyqyX7WeZv99Hdfc46JaYygoBb6t --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.20.43 waku b24ae7ba2374e6fe33455ddc7cdfabeb845e1e76d2f8c8fd21a2a10c0358bfb2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b24ae7ba2374. Setting up logs at ./log/docker/store_node1_2024-10-01_04-38-49__622d8975-8c30-46ea-a107-937c27ff14ee__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61815
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61815/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61815/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.43/tcp/61816/p2p/16Uiu2HAmNCRyAotNeJRWB3CTMf1tfSMh33qkqCn3GCyycvwGbshC","/ip4/172.18.20.43/tcp/61817/ws/p2p/16Uiu2HAmNCRyAotNeJRWB3CTMf1tfSMh33qkqCn3GCyycvwGbshC"],"enrUri":"enr:-LO4QHP5zN5IWy7wcRHM7N1xuAtmNmcMmVQVx0RAEhAkL92hBNT9FNrStcFjmgdis78suhQ0cLSEyihZof_OA1_o8SkBgmlkgnY0gmlwhKwSFCuKbXVsdGlhZGRyc4wACgSsEhQrBvF53QOCcnOFAAMBAACJc2VjcDI1NmsxoQONxyeMaQRsGG3gw4KWyOnWY6NcSLI60qHNCySyO5zN44N0Y3CC8XiDdWRwgvF6hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61815/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.88.177/tcp/32617/p2p/16Uiu2HAmET5q9i3Ef77BhLn5oyqyX7WeZv99Hdfc46JaYygoBb6t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61815/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32616/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32616/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ztS6S+ReRrwo4UDz8RvEHFSd0C84L8/162wWmaWxpc4="},{"messageHash":"NcFXmypBwH/RGdNt2uFDuB5cHdX1xMBQmdu5oUlHlSg="},{"messageHash":"A00TB6xybm3yWkB5MpEQsp0MxR/ot40QhdTdi06hguo="},{"messageHash":"oE9dynpKAM7l0i6sSdjlsQZWu5qoCtGHPHyBU9oU9qo="},{"messageHash":"F0cNNEqOKcYAZv3PZDWncOw/00Omj5RfZ66rFsp9e04="},{"messageHash":"hZOiZv2NvKWEK/R5nbcexT/msrAwun81owl4apla5xs="},{"messageHash":"CdbKK7kmUke7VBqNUuNh5cULZR5BFpj2/ru7rfZIX5U="},{"messageHash":"V66MWFke5dtQ70Y37ahtjfrOl7edIoiqnhDoZsx27Vk="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61815/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"ztS6S+ReRrwo4UDz8RvEHFSd0C84L8/162wWmaWxpc4="},{"messageHash":"NcFXmypBwH/RGdNt2uFDuB5cHdX1xMBQmdu5oUlHlSg="},{"messageHash":"A00TB6xybm3yWkB5MpEQsp0MxR/ot40QhdTdi06hguo="},{"messageHash":"oE9dynpKAM7l0i6sSdjlsQZWu5qoCtGHPHyBU9oU9qo="},{"messageHash":"F0cNNEqOKcYAZv3PZDWncOw/00Omj5RfZ66rFsp9e04="},{"messageHash":"hZOiZv2NvKWEK/R5nbcexT/msrAwun81owl4apla5xs="},{"messageHash":"CdbKK7kmUke7VBqNUuNh5cULZR5BFpj2/ru7rfZIX5U="},{"messageHash":"V66MWFke5dtQ70Y37ahtjfrOl7edIoiqnhDoZsx27Vk="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 91cac7e4ee97
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b24ae7ba2374
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.