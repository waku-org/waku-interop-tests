{"uid":"41a8970bfa0cf091","name":"test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","historyId":"88c874acd5852c43d37fbe8b7f7a0144","time":{"start":1723013944332,"stop":1723013944346,"duration":14},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:30361/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x243a004093dbbca46757d66e736c43d38048bf5a69fef5267d2cf62198e65f5b'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:30361/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:346: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:30361/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x243a004093dbbca46757d66e736c43d38048bf5a69fef5267d2cf62198e65f5b'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1723013580385,"stop":1723013580385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1723013941086,"stop":1723013941087,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1723013941086,"stop":1723013941086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1723013941086,"stop":1723013941086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1723013941086,"stop":1723013941086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1723013941087,"stop":1723013941087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1723013941087,"stop":1723013941087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1723013941087,"stop":1723013944331,"duration":3244},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1723013941087,"stop":1723013942782,"duration":1695},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1723013941087,"stop":1723013942778,"duration":1691},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1723013942778,"stop":1723013942778,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f998d946030>, <src.node.waku_node.WakuNode object at 0x7f998d09fec0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1723013942782,"stop":1723013944312,"duration":1530},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1723013942783,"stop":1723013944312,"duration":1529},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1723013944281,"stop":1723013944312,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f998d946030>, <src.node.waku_node.WakuNode object at 0x7f998d2a5fa0>, ['/ip4/172.18.82.19/tcp/4100/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1723013944312,"stop":1723013944331,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:30361/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x243a004093dbbca46757d66e736c43d38048bf5a69fef5267d2cf62198e65f5b'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:30361/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:346: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:30361/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x243a004093dbbca46757d66e736c43d38048bf5a69fef5267d2cf62198e65f5b'","steps":[{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1723013944332,"stop":1723013944338,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/3/0', '/waku/2/rs/3/1', '/waku/2/rs/3/9', '/waku/2/rs/3/25', '/waku/2/rs/3/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1723013944339,"stop":1723013944339,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1723013944339,"stop":1723013944339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cc40c4ef7f1715ad","name":"log","source":"cc40c4ef7f1715ad.txt","type":"text/plain","size":32904}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1723013944383,"stop":1723013944387,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1723013944387,"stop":1723013948615,"duration":4228},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1723013948615,"stop":1723013948618,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"7f0876ed37a1e40e","name":"lightpush_node1_2024-08-07_06-59-01__434e3abd-0358-4929-a9c4-35c539d01e66__wakuorg_nwaku:latest.log","source":"7f0876ed37a1e40e.txt","type":"text/plain","size":93970},{"uid":"a8383964622a29be","name":"receiving_node1_2024-08-07_06-59-01__434e3abd-0358-4929-a9c4-35c539d01e66__wakuorg_nwaku:latest.log","source":"a8383964622a29be.txt","type":"text/plain","size":106479}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1723015163510,"stop":1723015163510,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az654-953"},{"name":"thread","value":"2111-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6ca8d7497905cdd6","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:64239/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x86ba020a20da865e554098cba1ee6692f9716db64afeb847dba0ccace7a24e54'","time":{"start":1723013936633,"stop":1723013936647,"duration":14}},{"uid":"acdf4cf231140591","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:27836/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x401a07a744743f65046e7483ad287199baf95d5dd5a05ee4e12e4d258af22fa7'","time":{"start":1723013929328,"stop":1723013929341,"duration":13}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":58,"unknown":0,"total":62},"items":[{"uid":"391396ba1b3bdde","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/303//#testresult/391396ba1b3bdde","status":"passed","time":{"start":1723004211013,"stop":1723004211147,"duration":134}},{"uid":"f067c05a4b7de79c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/302//#testresult/f067c05a4b7de79c","status":"passed","time":{"start":1722917793379,"stop":1722917793504,"duration":125}},{"uid":"6b987701c3389a62","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/301//#testresult/6b987701c3389a62","status":"passed","time":{"start":1722857381746,"stop":1722857381880,"duration":134}},{"uid":"8f3c24286c91d04a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/300//#testresult/8f3c24286c91d04a","status":"passed","time":{"start":1722854624483,"stop":1722854624610,"duration":127}},{"uid":"8646c038de6d9371","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/299//#testresult/8646c038de6d9371","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:16691/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x844c3f2c685296df5a0a7a2023d8f72430ded59fd26e4fa1abbc878860fd618f'","time":{"start":1722831412287,"stop":1722831412300,"duration":13}},{"uid":"943c4c428f61e9a3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/298//#testresult/943c4c428f61e9a3","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:52703/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0xc968ea94ea12434433b21ae13586a9ba050f00495d315ba6e02877937801dcfd'","time":{"start":1722745079388,"stop":1722745079400,"duration":12}},{"uid":"a975fdf9fefc9f98","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/297//#testresult/a975fdf9fefc9f98","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9004/lightpush/v1/message with response: b'Failed to request a message push: Lightpush request has not been published to any peers. msg_hash: 0x9b7c54fd4ba2060bbb736a2752b50e5cfb04eb72428c57451b19bcae7622ab79'","time":{"start":1722658549612,"stop":1722658549624,"duration":12}},{"uid":"fd9378163205e4c7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/296//#testresult/fd9378163205e4c7","status":"passed","time":{"start":1722572134120,"stop":1722572134237,"duration":117}},{"uid":"75fe95a3cb002edd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/295//#testresult/75fe95a3cb002edd","status":"passed","time":{"start":1722485741425,"stop":1722485741550,"duration":125}},{"uid":"4e731b914b9ac5e6","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/294//#testresult/4e731b914b9ac5e6","status":"passed","time":{"start":1722399202209,"stop":1722399202325,"duration":116}},{"uid":"2f0cfdab4a188e0a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/293//#testresult/2f0cfdab4a188e0a","status":"passed","time":{"start":1722312923301,"stop":1722312923416,"duration":115}},{"uid":"d7632edb1eaaa9cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/292//#testresult/d7632edb1eaaa9cd","status":"passed","time":{"start":1722235757962,"stop":1722235758078,"duration":116}},{"uid":"2c508ac3089adf4e","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/290//#testresult/2c508ac3089adf4e","status":"passed","time":{"start":1722140090063,"stop":1722140090184,"duration":121}},{"uid":"76708084b734cd3a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/289//#testresult/76708084b734cd3a","status":"passed","time":{"start":1722053703216,"stop":1722053703337,"duration":121}},{"uid":"71bd0d6018beae47","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/288//#testresult/71bd0d6018beae47","status":"passed","time":{"start":1721967365000,"stop":1721967365115,"duration":115}},{"uid":"a944b07ddb3187d7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/287//#testresult/a944b07ddb3187d7","status":"passed","time":{"start":1721880941033,"stop":1721880941149,"duration":116}},{"uid":"aa08028d0e395694","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/286//#testresult/aa08028d0e395694","status":"passed","time":{"start":1721794504442,"stop":1721794504560,"duration":118}},{"uid":"6d17671e642b755b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/285//#testresult/6d17671e642b755b","status":"passed","time":{"start":1721708127025,"stop":1721708127145,"duration":120}},{"uid":"12ca18ecb19864ac","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/284//#testresult/12ca18ecb19864ac","status":"passed","time":{"start":1721621753294,"stop":1721621753408,"duration":114}},{"uid":"d4f49aaa4aae7acc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/283//#testresult/d4f49aaa4aae7acc","status":"passed","time":{"start":1721535323964,"stop":1721535324080,"duration":116}}]},"tags":[]},"source":"41a8970bfa0cf091.json","parameterValues":[]}