[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3841', '3842', '3843', '3844', '3845']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3841:3841 -p 3842:3842 -p 3843:3843 -p 3844:3844 -p 3845:3845 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3843 --rest-port=3841 --tcp-port=3842 --discv5-udp-port=3844 --rest-address=0.0.0.0 --nat=extip:172.18.19.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbcabbece4592dd76a83cde2e6eda2bd6b5b2e9ef9aaeecbbbeccd3da708067a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3845 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.185 waku 9d4fbc64725998b770418f8a1bc9f6e2cdf584cbb0015d0218f577b1cc2c893d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9d4fbc647259. Setting up logs at ./log/docker/node1_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3841
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 10e189be7f18. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3841/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3841/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.185/tcp/3842/p2p/16Uiu2HAmLocBN5igK8o9xNwWkD3aZvibgWAnmm6RDnuz7b6XCu3z","/ip4/172.18.19.185/tcp/3843/ws/p2p/16Uiu2HAmLocBN5igK8o9xNwWkD3aZvibgWAnmm6RDnuz7b6XCu3z"],"enrUri":"enr:-L24QPeWX4oj_HOCYKSsO-jfit5I7qsX0Ex-J3pSW3FkKjqZPjbqoaRrtLlI4o-UlY-ewBVbM-YkY7WQEs49wypRFNICgmlkgnY0gmlwhKwSE7mKbXVsdGlhZGRyc5YACASsEhO5Bg8CAAoErBITuQYPA90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeRKnWdzbSlECJKXeNEOVV8V7GchHg5e8-evcaCuqyDWDdGNwgg8Cg3VkcIIPBIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61100', '61101', '61102', '61103', '61104']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61100:61100 -p 61101:61101 -p 61102:61102 -p 61103:61103 -p 61104:61104 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61102 --rest-port=61100 --tcp-port=61101 --discv5-udp-port=61103 --rest-address=0.0.0.0 --nat=extip:172.18.149.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddf7f3a9fcafd92e00f9c8cb97085687e6df09c9ad6de5b2d50dfede527be2eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61104 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPeWX4oj_HOCYKSsO-jfit5I7qsX0Ex-J3pSW3FkKjqZPjbqoaRrtLlI4o-UlY-ewBVbM-YkY7WQEs49wypRFNICgmlkgnY0gmlwhKwSE7mKbXVsdGlhZGRyc5YACASsEhO5Bg8CAAoErBITuQYPA90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeRKnWdzbSlECJKXeNEOVV8V7GchHg5e8-evcaCuqyDWDdGNwgg8Cg3VkcIIPBIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.3 waku 04b5771baee47e2418eb95c929a84d671c9b8f1867b554e463f8564cf1651869
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 04b5771baee4. Setting up logs at ./log/docker/node2_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61100
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61100/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61100/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.3/tcp/61101/p2p/16Uiu2HAmKeqdUwo9RFSjSECZ7hyTBSDzyYdnh8bnDV8WbdgJiBgj","/ip4/172.18.149.3/tcp/61102/ws/p2p/16Uiu2HAmKeqdUwo9RFSjSECZ7hyTBSDzyYdnh8bnDV8WbdgJiBgj"],"enrUri":"enr:-L24QFYQ3v7vLDbwvg8EcPQefxNar6lBiAAZ0kL8xNGUvbkaWG4tBKs4bogpuDWVOUlQzEzNgLTaF0jlHSfjbtErgsMCgmlkgnY0gmlwhKwSlQOKbXVsdGlhZGRyc5YACASsEpUDBu6tAAoErBKVAwburt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZ_fypNg8PsiEMslMe3e6ty9Gh0ne05WvvJwQGj5Ef0CDdGNwgu6tg3VkcILur4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61100/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.185/tcp/3842/p2p/16Uiu2HAmLocBN5igK8o9xNwWkD3aZvibgWAnmm6RDnuz7b6XCu3z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.118.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57393', '57394', '57395', '57396', '57397']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57393:57393 -p 57394:57394 -p 57395:57395 -p 57396:57396 -p 57397:57397 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57395 --rest-port=57393 --tcp-port=57394 --discv5-udp-port=57396 --rest-address=0.0.0.0 --nat=extip:172.18.118.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4dc23a6ab628a2ec55e96cc8bb15bb1ad951ebed91a7c8bcfcccb2bfdf4dee83 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57397 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPeWX4oj_HOCYKSsO-jfit5I7qsX0Ex-J3pSW3FkKjqZPjbqoaRrtLlI4o-UlY-ewBVbM-YkY7WQEs49wypRFNICgmlkgnY0gmlwhKwSE7mKbXVsdGlhZGRyc5YACASsEhO5Bg8CAAoErBITuQYPA90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeRKnWdzbSlECJKXeNEOVV8V7GchHg5e8-evcaCuqyDWDdGNwgg8Cg3VkcIIPBIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.118.11 waku db248cba6424cb68c2af43f0df1e91ab006e7e3faaa52787afabed348f11e829
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID db248cba6424. Setting up logs at ./log/docker/node3_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57393
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57393/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57393/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.11/tcp/57394/p2p/16Uiu2HAmUHCvxwbnTbNQsor13nRqapgaKPSRkMA3tFxGpSUn8mgG","/ip4/172.18.118.11/tcp/57395/ws/p2p/16Uiu2HAmUHCvxwbnTbNQsor13nRqapgaKPSRkMA3tFxGpSUn8mgG"],"enrUri":"enr:-L24QK8VyQaZCvVXwdXoq1DWy6h8TAYkylsc9te45eJ7945gcZ7e4N9aKUmX9Yp9ceVv9cEZ88D_YTH5LPWI9AjTnqsCgmlkgnY0gmlwhKwSdguKbXVsdGlhZGRyc5YACASsEnYLBuAyAAoErBJ2CwbgM90DgnJzhQADAQAAiXNlY3AyNTZrMaED6CZwHm7HB0v-qtmq-aGnzOrYnsN6eSGfyDJQmdf-FJ2DdGNwguAyg3VkcILgNIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57393/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.185/tcp/3842/p2p/16Uiu2HAmLocBN5igK8o9xNwWkD3aZvibgWAnmm6RDnuz7b6XCu3z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35688', '35689', '35690', '35691', '35692']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35688:35688 -p 35689:35689 -p 35690:35690 -p 35691:35691 -p 35692:35692 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35690 --rest-port=35688 --tcp-port=35689 --discv5-udp-port=35691 --rest-address=0.0.0.0 --nat=extip:172.18.223.7 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb2db4b4a3b3c016aa1d158e1fb64358cb1eef2eba21d20eeeb755b49c9dace7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35692 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPeWX4oj_HOCYKSsO-jfit5I7qsX0Ex-J3pSW3FkKjqZPjbqoaRrtLlI4o-UlY-ewBVbM-YkY7WQEs49wypRFNICgmlkgnY0gmlwhKwSE7mKbXVsdGlhZGRyc5YACASsEhO5Bg8CAAoErBITuQYPA90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeRKnWdzbSlECJKXeNEOVV8V7GchHg5e8-evcaCuqyDWDdGNwgg8Cg3VkcIIPBIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.7 waku f87884ff59ad55f4d7b99d05727a1c729e77f5800e0392bf57d28c8ac40ecb3b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f87884ff59ad. Setting up logs at ./log/docker/node4_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35688
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35688/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35688/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.7/tcp/35689/p2p/16Uiu2HAm2K5S9B2LwhRxUwkhzHLsB5tt4KycvkFBgbrzNUUvyBp5","/ip4/172.18.223.7/tcp/35690/ws/p2p/16Uiu2HAm2K5S9B2LwhRxUwkhzHLsB5tt4KycvkFBgbrzNUUvyBp5"],"enrUri":"enr:-L24QKnqNgbEC7g9TJAjeGIB7j9Z1nKTjV4SD88ZPZRJLY_eBjNOThb59QIowR819Xt6veVPQF0YWcwbXj2BQIiM4UoCgmlkgnY0gmlwhKwS3weKbXVsdGlhZGRyc5YACASsEt8HBotpAAoErBLfBwaLat0DgnJzhQADAQAAiXNlY3AyNTZrMaECZlFDPaPHOO3VaIKeNHejRGNdMSvQfAeYjXEDQqJHe0KDdGNwgotpg3VkcIKLa4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35688/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.185/tcp/3842/p2p/16Uiu2HAmLocBN5igK8o9xNwWkD3aZvibgWAnmm6RDnuz7b6XCu3z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.90.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3731', '3732', '3733', '3734', '3735']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3731:3731 -p 3732:3732 -p 3733:3733 -p 3734:3734 -p 3735:3735 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3733 --rest-port=3731 --tcp-port=3732 --discv5-udp-port=3734 --rest-address=0.0.0.0 --nat=extip:172.18.90.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6cbb2ee59dbda85b28d7eb9bd268d51aeaeb2ea719b4cbba8eb3075143fe57c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3735 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QPeWX4oj_HOCYKSsO-jfit5I7qsX0Ex-J3pSW3FkKjqZPjbqoaRrtLlI4o-UlY-ewBVbM-YkY7WQEs49wypRFNICgmlkgnY0gmlwhKwSE7mKbXVsdGlhZGRyc5YACASsEhO5Bg8CAAoErBITuQYPA90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeRKnWdzbSlECJKXeNEOVV8V7GchHg5e8-evcaCuqyDWDdGNwgg8Cg3VkcIIPBIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.90.225 waku c5cab368df978e293ce04d20d3e3b9419a83308119a1b0292b4265e250c0244d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c5cab368df97. Setting up logs at ./log/docker/node5_2024-11-27_15-12-49__fbb1c4bf-a88e-411f-ab34-b8a74321d08a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3731
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3731/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3731/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.225/tcp/3732/p2p/16Uiu2HAmTo7iTNcJ9m5wxJ2D1CqxnHCMLSsxM1JJQE2ePzfUbJer","/ip4/172.18.90.225/tcp/3733/ws/p2p/16Uiu2HAmTo7iTNcJ9m5wxJ2D1CqxnHCMLSsxM1JJQE2ePzfUbJer"],"enrUri":"enr:-L24QK9881qMtbjOHy6K8DUhqzhZ3remLyGyO8vchXGp8LIBDsJFDu1DqwU8KxPIP6ICUQnB0djt83K4SMlAMrk1g_YCgmlkgnY0gmlwhKwSWuGKbXVsdGlhZGRyc5YACASsElrhBg6UAAoErBJa4QYOld0DgnJzhQADAQAAiXNlY3AyNTZrMaED4PRHJW7UKfamYxeWSXcwK3ZK350nA1JInDHR0XMB3feDdGNwgg6Ug3VkcIIOloV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3731/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.185/tcp/3842/p2p/16Uiu2HAmLocBN5igK8o9xNwWkD3aZvibgWAnmm6RDnuz7b6XCu3z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3841/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61100/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57393/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35688/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3731/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3841/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3841/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378518746368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61100/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378518746368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57393/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378518746368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35688/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378518746368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378518746368,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3841/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378657967104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61100/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378657967104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57393/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378657967104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35688/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378657967104,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3731/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720378657967104,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9d4fbc647259
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 04b5771baee4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9d4fbc647259. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id db248cba6424
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 04b5771baee4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f87884ff59ad
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container db248cba6424. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c5cab368df97
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f87884ff59ad. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.