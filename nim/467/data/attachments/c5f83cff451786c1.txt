[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.48.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33023', '33024', '33025', '33026', '33027']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33023:33023 -p 33024:33024 -p 33025:33025 -p 33026:33026 -p 33027:33027 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33025 --rest-port=33023 --tcp-port=33024 --discv5-udp-port=33026 --rest-address=0.0.0.0 --nat=extip:172.18.48.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ee5953bfd79c580caccfbb6febda8c97b4fcc665ee3afbdefd36d44451cadb1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33027 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 306bea32dd8c. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.48.93 waku 70b96af33f2653e38851cdeb20bc492c58b06ceddadfcd3150714b71888f8e39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 70b96af33f26. Setting up logs at ./log/docker/node1_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33023
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33023/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33023/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.93/tcp/33024/p2p/16Uiu2HAmHHjcQ4ETo9aY412svqkRy43GHR3Xc2gVpiR1ZiNEWQWZ","/ip4/172.18.48.93/tcp/33025/ws/p2p/16Uiu2HAmHHjcQ4ETo9aY412svqkRy43GHR3Xc2gVpiR1ZiNEWQWZ"],"enrUri":"enr:-L24QAjEFQZJ9v8Igfu-Q-kRfl5MNCnAu1f---4vimMW-61FVCXAoHkyHx9k5J2TFQU8qRLii4wmRr6Nif1hS3X8APgCgmlkgnY0gmlwhKwSMF2KbXVsdGlhZGRyc5YACASsEjBdBoEAAAoErBIwXQaBAd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRNiSVf-yTuF61jV7FUVLeekS2CtxTdSgMyvdk_WTF6aDdGNwgoEAg3VkcIKBAoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.198.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17765', '17766', '17767', '17768', '17769']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17765:17765 -p 17766:17766 -p 17767:17767 -p 17768:17768 -p 17769:17769 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17767 --rest-port=17765 --tcp-port=17766 --discv5-udp-port=17768 --rest-address=0.0.0.0 --nat=extip:172.18.198.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c0d2dda28e8e7bc2ae5e95bed65da6cf55a17c7fd186b4ade7aacdbd8dfa92f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17769 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAjEFQZJ9v8Igfu-Q-kRfl5MNCnAu1f---4vimMW-61FVCXAoHkyHx9k5J2TFQU8qRLii4wmRr6Nif1hS3X8APgCgmlkgnY0gmlwhKwSMF2KbXVsdGlhZGRyc5YACASsEjBdBoEAAAoErBIwXQaBAd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRNiSVf-yTuF61jV7FUVLeekS2CtxTdSgMyvdk_WTF6aDdGNwgoEAg3VkcIKBAoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.198.165 waku 630e859416c706e17bfb3899299280308a00ef0efca9334dd3e563aa6efecf6f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 630e859416c7. Setting up logs at ./log/docker/node2_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17765
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17765/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17765/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.165/tcp/17766/p2p/16Uiu2HAmPXRn5L1WynRQHH7NN7mXQvMkQJAC62JsTm4Myu6GL4Jf","/ip4/172.18.198.165/tcp/17767/ws/p2p/16Uiu2HAmPXRn5L1WynRQHH7NN7mXQvMkQJAC62JsTm4Myu6GL4Jf"],"enrUri":"enr:-L24QKZyWZK4Or4d8U0wwCzfjptMWAsJh_cVrRWKY0j503M-HzE1_Mo_zUZ30o34G4V2SylNvv4BGE5DFPF8v5ooJdkCgmlkgnY0gmlwhKwSxqWKbXVsdGlhZGRyc5YACASsEsalBkVmAAoErBLGpQZFZ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDoYCpFnfYFgxgYjvn1RLT9fPpnZBHpNaHVvLRMLw4v3SDdGNwgkVmg3VkcIJFaIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17765/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.93/tcp/33024/p2p/16Uiu2HAmHHjcQ4ETo9aY412svqkRy43GHR3Xc2gVpiR1ZiNEWQWZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.116.235
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10204', '10205', '10206', '10207', '10208']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10204:10204 -p 10205:10205 -p 10206:10206 -p 10207:10207 -p 10208:10208 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10206 --rest-port=10204 --tcp-port=10205 --discv5-udp-port=10207 --rest-address=0.0.0.0 --nat=extip:172.18.116.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=104a5edc1ac4c7f477cab570cebcc1ef8badbafafcb0d58fc3cc3b8026e030c1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10208 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAjEFQZJ9v8Igfu-Q-kRfl5MNCnAu1f---4vimMW-61FVCXAoHkyHx9k5J2TFQU8qRLii4wmRr6Nif1hS3X8APgCgmlkgnY0gmlwhKwSMF2KbXVsdGlhZGRyc5YACASsEjBdBoEAAAoErBIwXQaBAd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRNiSVf-yTuF61jV7FUVLeekS2CtxTdSgMyvdk_WTF6aDdGNwgoEAg3VkcIKBAoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.116.235 waku 4d078009bb0b33d9167337c15ce1d78d7a58b14f2b3056aaa2227cd0179413d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4d078009bb0b. Setting up logs at ./log/docker/node3_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10204
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10204/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10204/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.235/tcp/10205/p2p/16Uiu2HAmRnBAMaDDayEACRzjHcA2eENVGMFgvSZcxLJBrRdkc7PE","/ip4/172.18.116.235/tcp/10206/ws/p2p/16Uiu2HAmRnBAMaDDayEACRzjHcA2eENVGMFgvSZcxLJBrRdkc7PE"],"enrUri":"enr:-L24QPXnnPSqhaopTLQpIo6ouQqeiImEAWpMZEyjaCqjxJRPUGbjjhF-HZACdCBQJ6zRHpc7Yl7al6DIovXalW4DTDICgmlkgnY0gmlwhKwSdOuKbXVsdGlhZGRyc5YACASsEnTrBifdAAoErBJ06wYn3t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDwv84ZGBZucQODDtpgMo1PoUBMHU_0mkzYiwvlrEZdAmDdGNwgifdg3VkcIIn34V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10204/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.93/tcp/33024/p2p/16Uiu2HAmHHjcQ4ETo9aY412svqkRy43GHR3Xc2gVpiR1ZiNEWQWZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61851', '61852', '61853', '61854', '61855']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61851:61851 -p 61852:61852 -p 61853:61853 -p 61854:61854 -p 61855:61855 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61853 --rest-port=61851 --tcp-port=61852 --discv5-udp-port=61854 --rest-address=0.0.0.0 --nat=extip:172.18.157.128 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=778babf67d79de21a53dfac0cbfcf3a4ae7abc126f4dbe5d73f5260fbc80e0a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61855 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAjEFQZJ9v8Igfu-Q-kRfl5MNCnAu1f---4vimMW-61FVCXAoHkyHx9k5J2TFQU8qRLii4wmRr6Nif1hS3X8APgCgmlkgnY0gmlwhKwSMF2KbXVsdGlhZGRyc5YACASsEjBdBoEAAAoErBIwXQaBAd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRNiSVf-yTuF61jV7FUVLeekS2CtxTdSgMyvdk_WTF6aDdGNwgoEAg3VkcIKBAoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.128 waku 85108e70953aeabd85648c63071a7c7a259304d252d993c66dc1a9e833ff820b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 85108e70953a. Setting up logs at ./log/docker/node4_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61851
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61851/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61851/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.128/tcp/61852/p2p/16Uiu2HAmR7H2JCW8uD6324qNWPjrmnmRnXVMJyYG6sU4d6Zt962b","/ip4/172.18.157.128/tcp/61853/ws/p2p/16Uiu2HAmR7H2JCW8uD6324qNWPjrmnmRnXVMJyYG6sU4d6Zt962b"],"enrUri":"enr:-L24QHMn7gCkhshcrEY1S6JKHXOHoXHsvmBleyDxQUes6DzdDlGtJoy5RaqULk6BegDBgpBmV0Bo11mhuYtI5Mq5vM8CgmlkgnY0gmlwhKwSnYCKbXVsdGlhZGRyc5YACASsEp2ABvGcAAoErBKdgAbxnd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuQgyI58y6ka9319ztwgzPGZpz273T_MLFuFSIwF3W8CDdGNwgvGcg3VkcILxnoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61851/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.93/tcp/33024/p2p/16Uiu2HAmHHjcQ4ETo9aY412svqkRy43GHR3Xc2gVpiR1ZiNEWQWZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.208.134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53208', '53209', '53210', '53211', '53212']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53208:53208 -p 53209:53209 -p 53210:53210 -p 53211:53211 -p 53212:53212 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53210 --rest-port=53208 --tcp-port=53209 --discv5-udp-port=53211 --rest-address=0.0.0.0 --nat=extip:172.18.208.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0cba4b831acfb0e51bbc2d615ea2d7edead711ef945d7fce072d48edbccd68d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53212 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAjEFQZJ9v8Igfu-Q-kRfl5MNCnAu1f---4vimMW-61FVCXAoHkyHx9k5J2TFQU8qRLii4wmRr6Nif1hS3X8APgCgmlkgnY0gmlwhKwSMF2KbXVsdGlhZGRyc5YACASsEjBdBoEAAAoErBIwXQaBAd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRNiSVf-yTuF61jV7FUVLeekS2CtxTdSgMyvdk_WTF6aDdGNwgoEAg3VkcIKBAoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.208.134 waku 10e189be7f18da8c55b9e08bc053f2b84e42b362ee5c22dbc1e055c4c1d82018
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 10e189be7f18. Setting up logs at ./log/docker/node5_2024-11-27_15-12-28__2f688fc7-364a-4ab9-976f-e5848b896f38__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53208
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53208/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53208/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.134/tcp/53209/p2p/16Uiu2HAm7BLXiVYkKwq1mubbHMShqUeNwoUvL67Vuas7rmzjgP2u","/ip4/172.18.208.134/tcp/53210/ws/p2p/16Uiu2HAm7BLXiVYkKwq1mubbHMShqUeNwoUvL67Vuas7rmzjgP2u"],"enrUri":"enr:-L24QD0EnOdTy_YVY581I0s1khMcqKCPV6QZX37c_SmNPSrpXz2QhzmrDe4pPItLmXMAZPTeLgXWB9VW4MchwQmJ2ccCgmlkgnY0gmlwhKwS0IaKbXVsdGlhZGRyc5YACASsEtCGBs_ZAAoErBLQhgbP2t0DgnJzhQADAQAAiXNlY3AyNTZrMaECrqAeu1ndnttKxGVYtr_ped697UfH3vKV4btIJMAE5l6DdGNwgs_Zg3VkcILP24V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53208/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.93/tcp/33024/p2p/16Uiu2HAmHHjcQ4ETo9aY412svqkRy43GHR3Xc2gVpiR1ZiNEWQWZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33023/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17765/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10204/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61851/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53208/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33023/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33023/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356683691520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356683691520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10204/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356683691520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356683691520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53208/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356683691520,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33023/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33023/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356819409152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17765/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356819409152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10204/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356819409152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356819409152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53208/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732720356819409152,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 70b96af33f26
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 630e859416c7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 70b96af33f26. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4d078009bb0b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 630e859416c7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 85108e70953a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4d078009bb0b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 10e189be7f18
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 85108e70953a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.