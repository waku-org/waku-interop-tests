[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_negative_start_time with id: 2024-11-27_15-33-19__08557bdf-b165-4337-8e88-33ca31308b30
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-27_15-33-19__08557bdf-b165-4337-8e88-33ca31308b30__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.240.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7865', '7866', '7867', '7868', '7869']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7865:7865 -p 7866:7866 -p 7867:7867 -p 7868:7868 -p 7869:7869 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7867 --rest-port=7865 --tcp-port=7866 --discv5-udp-port=7868 --rest-address=0.0.0.0 --nat=extip:172.18.240.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7eaf6c0cfe3df5d0f2ab6d735db6c2ec5072b37f841ecdf61e497939e06eb4fe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7869 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.240.36 waku 6c68f5d3d3a86fdb35815ff0c23a41db8f72f85e484efc78dd4b4d39b0111334
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 86240f9ed359. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6c68f5d3d3a8. Setting up logs at ./log/docker/publishing_node1_2024-11-27_15-33-19__08557bdf-b165-4337-8e88-33ca31308b30__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7865
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7865/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7865/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.36/tcp/7866/p2p/16Uiu2HAmAKxyBzF8d5gDNz4R9pGbk9sR969mhUgmGKBDkYAAPEhe","/ip4/172.18.240.36/tcp/7867/ws/p2p/16Uiu2HAmAKxyBzF8d5gDNz4R9pGbk9sR969mhUgmGKBDkYAAPEhe"],"enrUri":"enr:-L24QKOSBd7HafLgPWGMshnvveZJNGVPCyAGFIu1PrapXQ73bZkkAv3QwPsWdtd9x4mN2xCLz-ON8Ljgq8RH6katZQMCgmlkgnY0gmlwhKwS8CSKbXVsdGlhZGRyc5YACASsEvAkBh66AAoErBLwJAYeu90DgnJzhQADAQAAiXNlY3AyNTZrMaEC3WkHfF3Bo2NqEnT7ffjP9U2gz0kWdlyetq0dpIl4gOmDdGNwgh66g3VkcIIevIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-27_15-33-19__08557bdf-b165-4337-8e88-33ca31308b30__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39885', '39886', '39887', '39888', '39889']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39885:39885 -p 39886:39886 -p 39887:39887 -p 39888:39888 -p 39889:39889 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39887 --rest-port=39885 --tcp-port=39886 --discv5-udp-port=39888 --rest-address=0.0.0.0 --nat=extip:172.18.95.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcf919cce5dbbc014e7df8ce211e9cdd5c6beede7e3aa9d919f8a3ef7d53b0d6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39889 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKOSBd7HafLgPWGMshnvveZJNGVPCyAGFIu1PrapXQ73bZkkAv3QwPsWdtd9x4mN2xCLz-ON8Ljgq8RH6katZQMCgmlkgnY0gmlwhKwS8CSKbXVsdGlhZGRyc5YACASsEvAkBh66AAoErBLwJAYeu90DgnJzhQADAQAAiXNlY3AyNTZrMaEC3WkHfF3Bo2NqEnT7ffjP9U2gz0kWdlyetq0dpIl4gOmDdGNwgh66g3VkcIIevIV3YWt1MgM --storenode=/ip4/172.18.240.36/tcp/7866/p2p/16Uiu2HAmAKxyBzF8d5gDNz4R9pGbk9sR969mhUgmGKBDkYAAPEhe --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.11 waku 826be57f7c207559fb99c77d75eeceeb56679b9d8bbd4313bfca949ec6c54287
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 826be57f7c20. Setting up logs at ./log/docker/store_node1_2024-11-27_15-33-19__08557bdf-b165-4337-8e88-33ca31308b30__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39885
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39885/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39885/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.11/tcp/39886/p2p/16Uiu2HAmCLSD2EjwoZK9iVWovUFgroLULVHAsK6ZCqKaxgJ1nhdo","/ip4/172.18.95.11/tcp/39887/ws/p2p/16Uiu2HAmCLSD2EjwoZK9iVWovUFgroLULVHAsK6ZCqKaxgJ1nhdo"],"enrUri":"enr:-L24QPgp86YvqL2AhwoK4fbND8K7S0yNFQ6fM4p46856dUZCeNYgMuzgaNT2k4vof7EcF-saQfu__m2AYH5r-XCHh6wCgmlkgnY0gmlwhKwSXwuKbXVsdGlhZGRyc5YACASsEl8LBpvOAAoErBJfCwabz90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-z8zpWmIY-Xk1dn21G8i0GS90AGw5JwttuBPOJKkgN6DdGNwgpvOg3VkcIKb0IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39885/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.36/tcp/7866/p2p/16Uiu2HAmAKxyBzF8d5gDNz4R9pGbk9sR969mhUgmGKBDkYAAPEhe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39885/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7865/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:134 inquering stored messages with start time -10000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7865/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"a3vSfD9o/dWABE549d0OnqHU00uS1D3BfL4bkaWF6X4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721609202780928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"/mMFo/95Eo/iR9GOQuM6lgxJmUUv2kPOVa63RrXMq6E=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721611202791936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"AFZPVMIX7X5O8k7Q9TxeHrz4gTY3aOIkPZOIjyM9jJ8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721612102796032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"H3IUHWiVOUuzP5yngcQUFrT7r4Em2yRAdryF/wOlXNI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721612302800896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"43b5Ot4xsQ5+vRb832S/PIKT/LHKtwYn47UfKPF8mkU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721614202804992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"c11ZO3QvpnePS5v3mZOkF50rsZloD3hrgf6tvpelawg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721622202807808,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:137 number of messages stored for  start time = -10000 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39885/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"a3vSfD9o/dWABE549d0OnqHU00uS1D3BfL4bkaWF6X4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721609202780928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"/mMFo/95Eo/iR9GOQuM6lgxJmUUv2kPOVa63RrXMq6E=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721611202791936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"AFZPVMIX7X5O8k7Q9TxeHrz4gTY3aOIkPZOIjyM9jJ8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721612102796032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"H3IUHWiVOUuzP5yngcQUFrT7r4Em2yRAdryF/wOlXNI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721612302800896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"43b5Ot4xsQ5+vRb832S/PIKT/LHKtwYn47UfKPF8mkU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721614202804992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"c11ZO3QvpnePS5v3mZOkF50rsZloD3hrgf6tvpelawg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1732721622202807808,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:137 number of messages stored for  start time = -10000 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6c68f5d3d3a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 826be57f7c20
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6c68f5d3d3a8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.