[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.240.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23678', '23679', '23680', '23681', '23682']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23678:23678 -p 23679:23679 -p 23680:23680 -p 23681:23681 -p 23682:23682 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23680 --rest-port=23678 --tcp-port=23679 --discv5-udp-port=23681 --rest-address=0.0.0.0 --nat=extip:172.18.240.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fccd1fcc5ffebb012aec1ba374babf4b5eb0c4af18c5e2fb3fd3aaeb7a16f1d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23682 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.240.244 waku 3a71156e1ddca618b3800f06ccc162cbcd00cd095351d8bd406af7b14334b5d3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3a71156e1ddc. Setting up logs at ./log/docker/node1_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23678
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1969f7af36cd. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23678/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23678/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp","/ip4/172.18.240.244/tcp/23680/ws/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp"],"enrUri":"enr:-L24QO-ca09PfNpkkXwG0ArOFylrJwciuasVKJD7Sa7tUcrqI9r1q2_O1yt5x8kawpZo-11uuyBP3Bs-T7F8lf5_MBICgmlkgnY0gmlwhKwS8PSKbXVsdGlhZGRyc5YACASsEvD0Blx_AAoErBLw9AZcgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDoxWKJ9w0GfdpLErtlqdjYFWaVBlGMKLM5FoYBg5v4RODdGNwglx_g3VkcIJcgYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53070', '53071', '53072', '53073', '53074']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53070:53070 -p 53071:53071 -p 53072:53072 -p 53073:53073 -p 53074:53074 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53072 --rest-port=53070 --tcp-port=53071 --discv5-udp-port=53073 --rest-address=0.0.0.0 --nat=extip:172.18.175.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbc4cda11a0c79ef2066a6b4f69fed3165af8edf9e4a36bbeee9d18db4fcf5ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53074 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QO-ca09PfNpkkXwG0ArOFylrJwciuasVKJD7Sa7tUcrqI9r1q2_O1yt5x8kawpZo-11uuyBP3Bs-T7F8lf5_MBICgmlkgnY0gmlwhKwS8PSKbXVsdGlhZGRyc5YACASsEvD0Blx_AAoErBLw9AZcgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDoxWKJ9w0GfdpLErtlqdjYFWaVBlGMKLM5FoYBg5v4RODdGNwglx_g3VkcIJcgYV3YWt1MgU --filternode=/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.198 waku 59c407c7477f57a68239ac18332b18a69fd875c7e75c98e2d1dd1f2577225743
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 59c407c7477f. Setting up logs at ./log/docker/node2_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53070
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.198/tcp/53071/p2p/16Uiu2HAmUV4H83gyppvKKom4wHCpGrbjqopvQowHUbtQprHE5PiG","/ip4/172.18.175.198/tcp/53072/ws/p2p/16Uiu2HAmUV4H83gyppvKKom4wHCpGrbjqopvQowHUbtQprHE5PiG"],"enrUri":"enr:-L24QDT9UL4985mYooVrFw8Z6TYvIzq0HcEwbQhy2vhUpXiFAIR44kJlwRBBKHykXJENa-UqkpIK_P9CM3oNYLrpp3kCgmlkgnY0gmlwhKwSr8aKbXVsdGlhZGRyc5YACASsEq_GBs9PAAoErBKvxgbPUN0DgnJzhQADAQAAiXNlY3AyNTZrMaED6y-f0g7OeqmeyvESgGWweKuB6KlpZ6u-oUEtnHDoW6GDdGNwgs9Pg3VkcILPUYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53070/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.122.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37943', '37944', '37945', '37946', '37947']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37943:37943 -p 37944:37944 -p 37945:37945 -p 37946:37946 -p 37947:37947 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37945 --rest-port=37943 --tcp-port=37944 --discv5-udp-port=37946 --rest-address=0.0.0.0 --nat=extip:172.18.122.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5dd50e02de09f2fc5889b1baae179d0a2c1be2d0bf958a5ea68ddc88e79668da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37947 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QO-ca09PfNpkkXwG0ArOFylrJwciuasVKJD7Sa7tUcrqI9r1q2_O1yt5x8kawpZo-11uuyBP3Bs-T7F8lf5_MBICgmlkgnY0gmlwhKwS8PSKbXVsdGlhZGRyc5YACASsEvD0Blx_AAoErBLw9AZcgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDoxWKJ9w0GfdpLErtlqdjYFWaVBlGMKLM5FoYBg5v4RODdGNwglx_g3VkcIJcgYV3YWt1MgU --filternode=/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.122.211 waku 1fc5f9ad3f9e26af2581327825807d87dc0209ee4cffd4af04e4c30baa381b50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1fc5f9ad3f9e. Setting up logs at ./log/docker/node3_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37943
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37943/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37943/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.211/tcp/37944/p2p/16Uiu2HAm2H8MSvfnyZ2rzUCnrHXhZprszF1KwuugUJ5bBDjLJoJ7","/ip4/172.18.122.211/tcp/37945/ws/p2p/16Uiu2HAm2H8MSvfnyZ2rzUCnrHXhZprszF1KwuugUJ5bBDjLJoJ7"],"enrUri":"enr:-L24QK7wmzDKAdH4xMpT1vDg5k9U0mvc680K7xMFHpmsp88uKktEqZBpL7II1OlaWZ5GUAq42aYRjKEwmUCCQIrIuWECgmlkgnY0gmlwhKwSetOKbXVsdGlhZGRyc5YACASsEnrTBpQ4AAoErBJ60waUOd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZdFm0iv2-8otgxtdf_8112Fcz9ytyHCbsQwOCW6Ba3CDdGNwgpQ4g3VkcIKUOoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37943/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.224.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54044', '54045', '54046', '54047', '54048']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54044:54044 -p 54045:54045 -p 54046:54046 -p 54047:54047 -p 54048:54048 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54046 --rest-port=54044 --tcp-port=54045 --discv5-udp-port=54047 --rest-address=0.0.0.0 --nat=extip:172.18.224.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4c8ca9e5abc360a16fb17b95baccc327bb2c1faac16d7f426e5e16f2de8eb2d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54048 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QO-ca09PfNpkkXwG0ArOFylrJwciuasVKJD7Sa7tUcrqI9r1q2_O1yt5x8kawpZo-11uuyBP3Bs-T7F8lf5_MBICgmlkgnY0gmlwhKwS8PSKbXVsdGlhZGRyc5YACASsEvD0Blx_AAoErBLw9AZcgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDoxWKJ9w0GfdpLErtlqdjYFWaVBlGMKLM5FoYBg5v4RODdGNwglx_g3VkcIJcgYV3YWt1MgU --filternode=/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.224.44 waku 4a719519386d1113b8cfc6cb72f21b67ec129babd56bb206d80ffe68344956cb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4a719519386d. Setting up logs at ./log/docker/node4_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54044
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54044/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54044/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.44/tcp/54045/p2p/16Uiu2HAmDmENprPnQaMG8vWe3ZrWzLCJy4eE4QyuEUZ9JhokLPFC","/ip4/172.18.224.44/tcp/54046/ws/p2p/16Uiu2HAmDmENprPnQaMG8vWe3ZrWzLCJy4eE4QyuEUZ9JhokLPFC"],"enrUri":"enr:-L24QFVJFAnJc-D4dccvQazNPK3q6xPyO0uKmuM1trC5xX8DC4sOwjThmEwOWnEv3-p7UIB2WP2uiJWCXoqmwXvngfgCgmlkgnY0gmlwhKwS4CyKbXVsdGlhZGRyc5YACASsEuAsBtMdAAoErBLgLAbTHt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDEHUIFUkm9aNj4klp8IQCp2Duwnu4PG7pXRiHchEX0jeDdGNwgtMdg3VkcILTH4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54044/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.103.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5171', '5172', '5173', '5174', '5175']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5171:5171 -p 5172:5172 -p 5173:5173 -p 5174:5174 -p 5175:5175 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5173 --rest-port=5171 --tcp-port=5172 --discv5-udp-port=5174 --rest-address=0.0.0.0 --nat=extip:172.18.103.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ece2dcd0edce3abae8ac53ca50bedcc48abf78e3facd93f60f5bce19c1fe385 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5175 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QO-ca09PfNpkkXwG0ArOFylrJwciuasVKJD7Sa7tUcrqI9r1q2_O1yt5x8kawpZo-11uuyBP3Bs-T7F8lf5_MBICgmlkgnY0gmlwhKwS8PSKbXVsdGlhZGRyc5YACASsEvD0Blx_AAoErBLw9AZcgN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDoxWKJ9w0GfdpLErtlqdjYFWaVBlGMKLM5FoYBg5v4RODdGNwglx_g3VkcIJcgYV3YWt1MgU --filternode=/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.103.68 waku 75ee652bf2b2c4e2e6bea924df5e87e65b3d501e45f021fa381d6756db5969b3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 75ee652bf2b2. Setting up logs at ./log/docker/node5_2024-11-27_15-04-38__2ab81ef1-0451-4a4b-8f12-699d27155100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5171
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5171/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5171/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.68/tcp/5172/p2p/16Uiu2HAmUFx3K6xV5FBntP7gGr15D8rrKDPLyL1wiF6EHRoHAxKG","/ip4/172.18.103.68/tcp/5173/ws/p2p/16Uiu2HAmUFx3K6xV5FBntP7gGr15D8rrKDPLyL1wiF6EHRoHAxKG"],"enrUri":"enr:-L24QGbrGuXfGn2wBsP02HSFgZmMIzDcndbHrse0kvC2wll-Xd4VcpVtjWqwg9INOtVqm1cgS_MX2V0w20XheihWcOMCgmlkgnY0gmlwhKwSZ0SKbXVsdGlhZGRyc5YACASsEmdEBhQ0AAoErBJnRAYUNd0DgnJzhQADAQAAiXNlY3AyNTZrMaED59QFNXivVuaR5q6XMKQP9xNEH9D1MSv3P5pKV2feYweDdGNwghQ0g3VkcIIUNoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5171/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.244/tcp/23679/p2p/16Uiu2HAmPdbrZ155v3nGjMBGUcSiTv8VrYwu88QEVBJkwkWmdNyp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23678/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53070/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1b4eac10-0582-4d09-bb9e-13e8eed829ae", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1b4eac10-0582-4d09-bb9e-13e8eed829ae","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37943/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3dd256e9-fb21-4e41-8a8a-bca43a3ddf99", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3dd256e9-fb21-4e41-8a8a-bca43a3ddf99","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54044/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f347e035-ac0f-434c-a755-4c9d9a2849b4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f347e035-ac0f-434c-a755-4c9d9a2849b4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5171/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fea84c87-c9af-4d63-b726-431f5f51ce33", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fea84c87-c9af-4d63-b726-431f5f51ce33","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23678/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732719886382121472,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23678/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37943/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:37943/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3a71156e1ddc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 59c407c7477f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3a71156e1ddc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1fc5f9ad3f9e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 59c407c7477f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4a719519386d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1fc5f9ad3f9e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 75ee652bf2b2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4a719519386d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.