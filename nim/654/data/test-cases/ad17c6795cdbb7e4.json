{"uid":"ad17c6795cdbb7e4","name":"test_store_with_invalid_hash","fullName":"tests.store.test_hashes.TestHashes#test_store_with_invalid_hash","historyId":"155a48dfff3f3ae690dc68e3ba2abffb","time":{"start":1739765217428,"stop":1739765218267,"duration":839},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1739765012611,"stop":1739765012611,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1739765214798,"stop":1739765214798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1739765214798,"stop":1739765214799,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1739765214798,"stop":1739765214798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1739765214798,"stop":1739765214798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1739765214799,"stop":1739765214800,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1739765214800,"stop":1739765214801,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1739765214800,"stop":1739765214800,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"node_setup","time":{"start":1739765214801,"stop":1739765217428,"duration":2627},"status":"passed","steps":[{"name":"setup_first_publishing_node","time":{"start":1739765214802,"stop":1739765216103,"duration":1301},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1739765214802,"stop":1739765216103,"duration":1301},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1739765216103,"stop":1739765216103,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_hashes.TestHashes object at 0x7f737bef5be0>, <src.node.waku_node.WakuNode object at 0x7f737b956e10>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_store_node","time":{"start":1739765216103,"stop":1739765217423,"duration":1320},"status":"passed","steps":[{"name":"setup_store_node","time":{"start":1739765216103,"stop":1739765217423,"duration":1320},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1739765217420,"stop":1739765217422,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_hashes.TestHashes object at 0x7f737bef5be0>, <src.node.waku_node.WakuNode object at 0x7f737b957b90>, ['/ip4/172.18.170.24/tcp/17468/p2p/16Uiu2HAkx46WNJhq8fj7GyZQWHcdqWoyryUygzjrh3W3VT3YrLhY'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1739765217423,"stop":1739765217428,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"[<src.node.waku_node.WakuNode object at 0x7f737b956e10>, <src.node.waku_node.WakuNode object at 0x7f737b957b90>]"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"create_message","time":{"start":1739765217428,"stop":1739765217428,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8w'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1739765217428,"stop":1739765217635,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8w', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739765217428263936}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1739765217635,"stop":1739765217635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8x'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1739765217636,"stop":1739765217844,"duration":208},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8x', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739765217635408640}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1739765217844,"stop":1739765217844,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8y'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1739765217844,"stop":1739765218052,"duration":208},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8y', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739765217843851520}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1739765218052,"stop":1739765218052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'TWVzc2FnZV8z'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1739765218052,"stop":1739765218259,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"{'payload': 'TWVzc2FnZV8z', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739765218051710464}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_messages_from_store","time":{"start":1739765218260,"stop":1739765218263,"duration":3},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:17467/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0x74657374&pageSize=50&ascending=true with response: b'waku message hash parsing error: invalid hash length: 4'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/store.py\", line 171, in get_messages_from_store\n    store_response = node.get_store_messages(\n                     ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 390, in get_store_messages\n    return self._api.get_store_messages(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 146, in get_store_messages\n    get_messages_response = self.rest_call(\"get\", base_url)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f737b956e10>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"'0x74657374'"},{"name":"cursor","value":"None"},{"name":"page_size","value":"50"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_messages_from_store","time":{"start":1739765218264,"stop":1739765218266,"duration":2},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:46584/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0x74657374&pageSize=50&ascending=true with response: b'waku message hash parsing error: invalid hash length: 4'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/store.py\", line 171, in get_messages_from_store\n    store_response = node.get_store_messages(\n                     ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 390, in get_store_messages\n    return self._api.get_store_messages(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 146, in get_store_messages\n    get_messages_response = self.rest_call(\"get\", base_url)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f737b957b90>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"'0x74657374'"},{"name":"cursor","value":"None"},{"name":"page_size","value":"50"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"cd3d231ba21c374a","name":"log","source":"cd3d231ba21c374a.txt","type":"text/plain","size":13713},{"uid":"9624c064da221a69","name":"stderr","source":"9624c064da221a69.txt","type":"text/plain","size":13352}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1739765218268,"stop":1739765218269,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1739765218269,"stop":1739765220446,"duration":2177},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1739765220448,"stop":1739765220460,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1739765220461,"stop":1739765220461,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1739765252222,"stop":1739765252222,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('node_setup')"},{"name":"tag","value":"@pytest.mark.xfail(False, reason='Bug reported: https://github.com/waku-org/go-waku/issues/1109')"},{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_hashes"},{"name":"subSuite","value":"TestHashes"},{"name":"host","value":"fv-az1947-39"},{"name":"thread","value":"1939-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_hashes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":19,"unknown":0,"total":19},"items":[{"uid":"3105cbc6eaf14143","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/653//#testresult/3105cbc6eaf14143","status":"passed","time":{"start":1739678836248,"stop":1739678837084,"duration":836}},{"uid":"531612c4726166aa","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/652//#testresult/531612c4726166aa","status":"passed","time":{"start":1739592352267,"stop":1739592353106,"duration":839}},{"uid":"503b1eaa3a43779f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/651//#testresult/503b1eaa3a43779f","status":"passed","time":{"start":1739505945673,"stop":1739505946508,"duration":835}},{"uid":"27717a8fa61f01a2","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/650//#testresult/27717a8fa61f01a2","status":"passed","time":{"start":1739419545518,"stop":1739419546352,"duration":834}},{"uid":"92df32244b004227","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/649//#testresult/92df32244b004227","status":"passed","time":{"start":1739333158401,"stop":1739333159237,"duration":836}},{"uid":"5b077133c21ce74f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/648//#testresult/5b077133c21ce74f","status":"passed","time":{"start":1739286347164,"stop":1739286348003,"duration":839}},{"uid":"6369c22c0e2ab4bf","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/647//#testresult/6369c22c0e2ab4bf","status":"passed","time":{"start":1739246736343,"stop":1739246737176,"duration":833}},{"uid":"9c1cbe348691fc1f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/646//#testresult/9c1cbe348691fc1f","status":"passed","time":{"start":1739160411397,"stop":1739160412234,"duration":837}},{"uid":"5afe2b2be8311a2a","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/645//#testresult/5afe2b2be8311a2a","status":"passed","time":{"start":1739073937736,"stop":1739073938573,"duration":837}},{"uid":"2e398c82bff9e413","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/644//#testresult/2e398c82bff9e413","status":"passed","time":{"start":1738987535450,"stop":1738987536284,"duration":834}},{"uid":"dc42da6d43b6c884","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/643//#testresult/dc42da6d43b6c884","status":"passed","time":{"start":1738901156039,"stop":1738901156878,"duration":839}},{"uid":"1b35eaa8cb8ce9bf","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/642//#testresult/1b35eaa8cb8ce9bf","status":"passed","time":{"start":1738814822182,"stop":1738814823017,"duration":835}},{"uid":"f37a579b35d3e711","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/641//#testresult/f37a579b35d3e711","status":"passed","time":{"start":1738728345585,"stop":1738728346420,"duration":835}},{"uid":"cc5982b048358689","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/640//#testresult/cc5982b048358689","status":"passed","time":{"start":1738689210368,"stop":1738689211206,"duration":838}},{"uid":"ff1553918b3a2e61","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/639//#testresult/ff1553918b3a2e61","status":"passed","time":{"start":1738641944276,"stop":1738641945114,"duration":838}},{"uid":"b5f5971d8beb33dc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/638//#testresult/b5f5971d8beb33dc","status":"passed","time":{"start":1738555549894,"stop":1738555550733,"duration":839}},{"uid":"881530190004c3bd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/637//#testresult/881530190004c3bd","status":"passed","time":{"start":1738469204908,"stop":1738469205751,"duration":843}},{"uid":"d4cfe87664cf210b","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/636//#testresult/d4cfe87664cf210b","status":"passed","time":{"start":1738382740288,"stop":1738382741123,"duration":835}}]},"tags":["@pytest.mark.usefixtures('node_setup')","@pytest.mark.xfail(False, reason='Bug reported: https://github.com/waku-org/go-waku/issues/1109')"]},"source":"ad17c6795cdbb7e4.json","parameterValues":[]}