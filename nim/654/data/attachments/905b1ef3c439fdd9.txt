2025-02-17 04:05:01.523 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:05:01.523 DEBUG [tests.conftest] Running test: test_light_push_with_valid_payloads with id: 2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b
2025-02-17 04:05:01.523 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:05:01.524 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-17 04:05:01.530 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:01.530 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b__wakuorg_nwaku:latest.log
2025-02-17 04:05:01.530 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:01.530 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:01.532 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:01.532 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.96.239
2025-02-17 04:05:01.532 DEBUG [src.node.docker_mananger] Generated ports ['30972', '30973', '30974', '30975', '30976']
2025-02-17 04:05:01.532 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:01.532 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:01.533 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:01.533 DEBUG [src.node.docker_mananger] docker run -i -t -p 30972:30972 -p 30973:30973 -p 30974:30974 -p 30975:30975 -p 30976:30976 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30974 --rest-port=30972 --tcp-port=30973 --discv5-udp-port=30975 --rest-address=0.0.0.0 --nat=extip:172.18.96.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efad1865c0dd5deb72f50abda928b9b6ccd4c266d03e2ef2efcaee4c6f3c3b7d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30976 --metrics-logging=true --lightpush=true --relay=true
2025-02-17 04:05:01.761 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.96.239 waku fa01ab8ec6d33c053186014f042189f7fe618db7e286c1be5f29a2a7e80f0d16
2025-02-17 04:05:01.808 DEBUG [src.node.docker_mananger] Container started with ID fa01ab8ec6d3. Setting up logs at ./log/docker/receiving_node1_2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b__wakuorg_nwaku:latest.log
2025-02-17 04:05:01.809 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30972
2025-02-17 04:05:01.809 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:02.324 ERROR [src.node.docker_mananger] Max retries reached for container 97d69c09524a. Exiting log stream.
2025-02-17 04:05:02.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:02.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:02.814 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:02.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:02.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.239/tcp/30973/p2p/16Uiu2HAmFr15SJvFKJQkNfPywS8xGSR2B3cXnHkskqqKf4Mw51wL","/ip4/172.18.96.239/tcp/30974/ws/p2p/16Uiu2HAmFr15SJvFKJQkNfPywS8xGSR2B3cXnHkskqqKf4Mw51wL"],"enrUri":"enr:-L24QN7ShvSMg-9p0aprcyqb7dVlqidNcONIVWk-hwkdMcx2Yt94dAUeNCY7XzqB7pyLaEPyI4eSGBuGTCC0wOc2qF4CgmlkgnY0gmlwhKwSYO-KbXVsdGlhZGRyc5YACASsEmDvBnj9AAoErBJg7wZ4_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDL2VFdkSNrnvViS7EHPg0zza5SXSxTeWdjtcdACUkko-DdGNwgnj9g3VkcIJ4_4V3YWt1Mgk"}'
2025-02-17 04:05:02.816 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:02.823 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:02.823 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b__wakuorg_nwaku:latest.log
2025-02-17 04:05:02.823 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:02.823 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:02.825 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:02.825 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.10.10
2025-02-17 04:05:02.825 DEBUG [src.node.docker_mananger] Generated ports ['49304', '49305', '49306', '49307', '49308']
2025-02-17 04:05:02.825 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:02.825 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:02.825 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:02.825 DEBUG [src.node.docker_mananger] docker run -i -t -p 49304:49304 -p 49305:49305 -p 49306:49306 -p 49307:49307 -p 49308:49308 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49306 --rest-port=49304 --tcp-port=49305 --discv5-udp-port=49307 --rest-address=0.0.0.0 --nat=extip:172.18.10.10 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dccaeffd9f0a555add8d09886aabe271b5c001f444eaef1de98f0efc64baaf3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49308 --metrics-logging=true --lightpush=false --relay=true
2025-02-17 04:05:03.058 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.10.10 waku c4f6df536760d278f5868f9ab5003269b0eabc13f9eed0e7947e0add2ff64463
2025-02-17 04:05:03.107 DEBUG [src.node.docker_mananger] Container started with ID c4f6df536760. Setting up logs at ./log/docker/receiving_node2_2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b__wakuorg_nwaku:latest.log
2025-02-17 04:05:03.108 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49304
2025-02-17 04:05:03.108 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:04.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:04.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:04.112 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:04.112 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:04.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.10/tcp/49305/p2p/16Uiu2HAmANRqgkgPQCNhJjEbXAoroePJ7coPLcgeMzoTGTK1wHpk","/ip4/172.18.10.10/tcp/49306/ws/p2p/16Uiu2HAmANRqgkgPQCNhJjEbXAoroePJ7coPLcgeMzoTGTK1wHpk"],"enrUri":"enr:-L24QCg15F816_Czwc5Z0M1TLd-LdH5z2dKN2PD7BlGx4JexGJQLLeFWJU0hmAFbP6wtANg5-rBahELTngoNuctmL5wCgmlkgnY0gmlwhKwSCgqKbXVsdGlhZGRyc5YACASsEgoKBsCZAAoErBIKCgbAmt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC3gqS1UMmTDeIvwoXsfZNsZhdJDBOD-ljDDSUDnjnIMGDdGNwgsCZg3VkcILAm4V3YWt1MgE"}'
2025-02-17 04:05:04.115 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:04.115 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49304/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.239/tcp/30973/p2p/16Uiu2HAmFr15SJvFKJQkNfPywS8xGSR2B3cXnHkskqqKf4Mw51wL"]'
2025-02-17 04:05:04.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:04.162 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:04.162 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b__wakuorg_nwaku:latest.log
2025-02-17 04:05:04.162 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:04.163 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:04.164 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:04.164 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.109.62
2025-02-17 04:05:04.164 DEBUG [src.node.docker_mananger] Generated ports ['21341', '21342', '21343', '21344', '21345']
2025-02-17 04:05:04.165 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:04.165 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:04.165 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:04.165 DEBUG [src.node.docker_mananger] docker run -i -t -p 21341:21341 -p 21342:21342 -p 21343:21343 -p 21344:21344 -p 21345:21345 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21343 --rest-port=21341 --tcp-port=21342 --discv5-udp-port=21344 --rest-address=0.0.0.0 --nat=extip:172.18.109.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecbc3407a4bd0f5a11ecfedacc7c7edda6c4b0f4bda9ca1bebe13ffe0e3583b6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21345 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QN7ShvSMg-9p0aprcyqb7dVlqidNcONIVWk-hwkdMcx2Yt94dAUeNCY7XzqB7pyLaEPyI4eSGBuGTCC0wOc2qF4CgmlkgnY0gmlwhKwSYO-KbXVsdGlhZGRyc5YACASsEmDvBnj9AAoErBJg7wZ4_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDL2VFdkSNrnvViS7EHPg0zza5SXSxTeWdjtcdACUkko-DdGNwgnj9g3VkcIJ4_4V3YWt1Mgk --lightpushnode=/ip4/172.18.96.239/tcp/30973/p2p/16Uiu2HAmFr15SJvFKJQkNfPywS8xGSR2B3cXnHkskqqKf4Mw51wL --lightpush=true --relay=false
2025-02-17 04:05:04.401 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.109.62 waku 5490600723d35d3ae9f88b7ea66eeaedaed9875a026b5dd7a114d19e6e482e15
2025-02-17 04:05:04.452 DEBUG [src.node.docker_mananger] Container started with ID 5490600723d3. Setting up logs at ./log/docker/lightpush_node1_2025-02-17_04-05-01__1b7ae6b2-fc93-419a-b40e-2971c4e2a08b__wakuorg_nwaku:latest.log
2025-02-17 04:05:04.452 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21341
2025-02-17 04:05:04.453 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:05.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21341/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:05.457 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:05.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21341/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.62/tcp/21342/p2p/16Uiu2HAmAzc8YvR9pdqEzjPHfVbYYeW3DuC53mmRJf5u63cRMbkk","/ip4/172.18.109.62/tcp/21343/ws/p2p/16Uiu2HAmAzc8YvR9pdqEzjPHfVbYYeW3DuC53mmRJf5u63cRMbkk"],"enrUri":"enr:-L24QG0nlwRX03xbnLqCl2lisKEns2ujftotnj3eCatNwmUWMwAPQYZHPaetK4cU4gL5dAWs19j9JorODygUMiHBFLoCgmlkgnY0gmlwhKwSbT6KbXVsdGlhZGRyc5YACASsEm0-BlNeAAoErBJtPgZTX90DgnJzhQADAQAAiXNlY3AyNTZrMaEC508eVqt_uCHVCYt8X5f_HAQ3FgxEhFEr2llnxUObHzGDdGNwglNeg3VkcIJTYIV3YWt1Mgg"}'
2025-02-17 04:05:05.460 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:05.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.239/tcp/30973/p2p/16Uiu2HAmFr15SJvFKJQkNfPywS8xGSR2B3cXnHkskqqKf4Mw51wL"]'
2025-02-17 04:05:05.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.500 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.10/tcp/49305/p2p/16Uiu2HAmANRqgkgPQCNhJjEbXAoroePJ7coPLcgeMzoTGTK1wHpk"]'
2025-02-17 04:05:05.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.531 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30972/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 04:05:05.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.539 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49304/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 04:05:05.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.551 DEBUG [tests.light_push.test_publish] Running test with payload A simple string
2025-02-17 04:05:05.552 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:05.552 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765105552504576}}'
2025-02-17 04:05:05.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.565 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:05.665 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:05.665 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105552504576,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:05.670 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:05.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105552504576,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:05.673 DEBUG [tests.light_push.test_publish] Running test with payload An integer
2025-02-17 04:05:05.674 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:05.674 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765105674234624}}'
2025-02-17 04:05:05.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.684 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:05.785 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:05.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105674234624,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:05.789 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:05.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105674234624,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:05.793 DEBUG [tests.light_push.test_publish] Running test with payload A dictionary
2025-02-17 04:05:05.793 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:05.794 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765105793707264}}'
2025-02-17 04:05:05.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.805 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:05.905 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:05.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105793707264,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:05.910 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:05.910 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:05.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105793707264,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:05.914 DEBUG [tests.light_push.test_publish] Running test with payload Chinese characters
2025-02-17 04:05:05.915 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:05.915 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765105914826752}}'
2025-02-17 04:05:05.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:05.925 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.025 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105914826752,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.030 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765105914826752,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.034 DEBUG [tests.light_push.test_publish] Running test with payload Emojis
2025-02-17 04:05:06.034 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.034 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106034519808}}'
2025-02-17 04:05:06.045 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.045 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.145 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106034519808,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.150 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.150 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106034519808,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.154 DEBUG [tests.light_push.test_publish] Running test with payload Lorem ipsum text
2025-02-17 04:05:06.155 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.155 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106154836224}}'
2025-02-17 04:05:06.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.166 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.266 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.267 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106154836224,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.271 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.271 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106154836224,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.275 DEBUG [tests.light_push.test_publish] Running test with payload HTML content
2025-02-17 04:05:06.275 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.276 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106275687168}}'
2025-02-17 04:05:06.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.287 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.387 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106275687168,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.392 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106275687168,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.396 DEBUG [tests.light_push.test_publish] Running test with payload Cyrillic characters
2025-02-17 04:05:06.396 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106396587520}}'
2025-02-17 04:05:06.407 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.407 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.508 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.508 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106396587520,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.513 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.513 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.515 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106396587520,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.517 DEBUG [tests.light_push.test_publish] Running test with payload Base64 encoded string
2025-02-17 04:05:06.517 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.517 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106517340672}}'
2025-02-17 04:05:06.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.529 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.630 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.630 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106517340672,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.634 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.634 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106517340672,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.638 DEBUG [tests.light_push.test_publish] Running test with payload Binary data
2025-02-17 04:05:06.639 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.639 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106638859264}}'
2025-02-17 04:05:06.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.651 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.752 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.752 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106638859264,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.756 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106638859264,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.761 DEBUG [tests.light_push.test_publish] Running test with payload Special characters with whitespace
2025-02-17 04:05:06.761 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.761 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106761297408}}'
2025-02-17 04:05:06.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.773 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.873 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.874 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106761297408,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.878 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.878 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106761297408,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.882 DEBUG [tests.light_push.test_publish] Running test with payload Boolean false as a string
2025-02-17 04:05:06.882 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:06.882 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RmFsc2U=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765106882552832}}'
2025-02-17 04:05:06.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:06.893 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:06.993 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.993 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:06.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106882552832,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:06.999 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:06.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765106882552832,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.003 DEBUG [tests.light_push.test_publish] Running test with payload A float number
2025-02-17 04:05:07.003 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.003 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107003369472}}'
2025-02-17 04:05:07.012 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.013 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.113 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.113 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.116 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107003369472,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.117 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107003369472,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.121 DEBUG [tests.light_push.test_publish] Running test with payload A list
2025-02-17 04:05:07.122 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107121940736}}'
2025-02-17 04:05:07.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.131 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.232 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.232 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107121940736,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.237 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.237 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107121940736,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.241 DEBUG [tests.light_push.test_publish] Running test with payload Hexadecimal number as a string
2025-02-17 04:05:07.241 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.241 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MHhERUFEQkVFRg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107241305344}}'
2025-02-17 04:05:07.251 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.252 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.352 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.352 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107241305344,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.357 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.357 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107241305344,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.361 DEBUG [tests.light_push.test_publish] Running test with payload Email format
2025-02-17 04:05:07.361 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.361 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107361384192}}'
2025-02-17 04:05:07.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.373 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.473 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107361384192,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.478 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107361384192,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.481 DEBUG [tests.light_push.test_publish] Running test with payload URL format
2025-02-17 04:05:07.482 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.482 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107482212096}}'
2025-02-17 04:05:07.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.492 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.593 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.593 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107482212096,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.598 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107482212096,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.602 DEBUG [tests.light_push.test_publish] Running test with payload Date and time in ISO format
2025-02-17 04:05:07.603 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.603 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107602896128}}'
2025-02-17 04:05:07.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.613 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.714 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.714 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107602896128,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.718 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.718 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107602896128,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.722 DEBUG [tests.light_push.test_publish] Running test with payload String with escaped quotes
2025-02-17 04:05:07.723 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.723 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107722833152}}'
2025-02-17 04:05:07.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.733 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.833 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.833 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.836 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107722833152,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.838 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.838 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107722833152,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.842 DEBUG [tests.light_push.test_publish] Running test with payload A regular expression
2025-02-17 04:05:07.842 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.842 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107842478336}}'
2025-02-17 04:05:07.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.853 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:07.953 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.954 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107842478336,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.960 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:07.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:07.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107842478336,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:07.965 DEBUG [tests.light_push.test_publish] Running test with payload A very long string
2025-02-17 04:05:07.965 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:07.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765107965303040}}'
2025-02-17 04:05:07.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:07.979 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.079 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107965303040,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.084 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.085 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765107965303040,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.089 DEBUG [tests.light_push.test_publish] Running test with payload A JSON string
2025-02-17 04:05:08.089 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.090 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108089729024}}'
2025-02-17 04:05:08.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.101 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.202 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108089729024,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.206 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108089729024,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.210 DEBUG [tests.light_push.test_publish] Running test with payload A Unix path
2025-02-17 04:05:08.210 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.211 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108210766080}}'
2025-02-17 04:05:08.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.222 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.322 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.322 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108210766080,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.327 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108210766080,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.331 DEBUG [tests.light_push.test_publish] Running test with payload A Windows path
2025-02-17 04:05:08.331 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108331268352}}'
2025-02-17 04:05:08.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.344 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.445 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108331268352,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.449 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108331268352,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.453 DEBUG [tests.light_push.test_publish] Running test with payload An SQL query
2025-02-17 04:05:08.454 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.454 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108454168832}}'
2025-02-17 04:05:08.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.565 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108454168832,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.570 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108454168832,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.574 DEBUG [tests.light_push.test_publish] Running test with payload JavaScript code snippet
2025-02-17 04:05:08.574 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108574264064}}'
2025-02-17 04:05:08.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.585 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.685 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108574264064,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.690 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108574264064,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.694 DEBUG [tests.light_push.test_publish] Running test with payload A CSS snippet
2025-02-17 04:05:08.695 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.695 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108694899456}}'
2025-02-17 04:05:08.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.706 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.806 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108694899456,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.811 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.812 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108694899456,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.815 DEBUG [tests.light_push.test_publish] Running test with payload A Python one-liner
2025-02-17 04:05:08.816 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.816 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108816048896}}'
2025-02-17 04:05:08.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.829 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:08.930 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108816048896,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.934 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:08.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:08.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108816048896,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:08.939 DEBUG [tests.light_push.test_publish] Running test with payload An IP address
2025-02-17 04:05:08.940 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:08.940 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765108939949056}}'
2025-02-17 04:05:08.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:08.951 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.051 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.052 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108939949056,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.056 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.056 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765108939949056,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.060 DEBUG [tests.light_push.test_publish] Running test with payload A domain name
2025-02-17 04:05:09.061 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.061 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109060875520}}'
2025-02-17 04:05:09.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.072 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.172 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.173 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109060875520,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.177 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.177 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109060875520,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.181 DEBUG [tests.light_push.test_publish] Running test with payload A user agent string
2025-02-17 04:05:09.181 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.181 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109181397760}}'
2025-02-17 04:05:09.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.191 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.292 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.292 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109181397760,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.297 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109181397760,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.301 DEBUG [tests.light_push.test_publish] Running test with payload A credit card number
2025-02-17 04:05:09.301 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109301570048}}'
2025-02-17 04:05:09.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.314 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.415 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.415 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.418 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109301570048,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.419 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.419 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109301570048,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.423 DEBUG [tests.light_push.test_publish] Running test with payload A phone number
2025-02-17 04:05:09.423 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.424 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109423722240}}'
2025-02-17 04:05:09.433 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.434 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.534 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.537 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109423722240,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.539 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109423722240,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.542 DEBUG [tests.light_push.test_publish] Running test with payload A UUID
2025-02-17 04:05:09.543 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.543 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109543173376}}'
2025-02-17 04:05:09.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.653 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109543173376,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.658 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109543173376,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.662 DEBUG [tests.light_push.test_publish] Running test with payload A hashtag
2025-02-17 04:05:09.662 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109662440192}}'
2025-02-17 04:05:09.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.673 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.773 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109662440192,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.778 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.778 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109662440192,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.782 DEBUG [tests.light_push.test_publish] Running test with payload A Twitter handle
2025-02-17 04:05:09.783 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.783 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QHVzZXJuYW1l", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109782857984}}'
2025-02-17 04:05:09.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.792 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:09.893 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.893 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109782857984,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.897 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:09.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:09.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109782857984,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:09.901 DEBUG [tests.light_push.test_publish] Running test with payload A password
2025-02-17 04:05:09.902 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:09.902 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UEBzc3cwcmQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765109902023424}}'
2025-02-17 04:05:09.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:09.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:10.013 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109902023424,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.017 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765109902023424,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.021 DEBUG [tests.light_push.test_publish] Running test with payload A date in common format
2025-02-17 04:05:10.022 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:10.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765110021809408}}'
2025-02-17 04:05:10.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:10.032 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:10.132 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765110021809408,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.136 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765110021809408,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.141 DEBUG [tests.light_push.test_publish] Running test with payload A time string
2025-02-17 04:05:10.141 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:10.141 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTI6MDA6MDA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765110141264128}}'
2025-02-17 04:05:10.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:10.151 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:10.251 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765110141264128,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.256 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765110141264128,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.260 DEBUG [tests.light_push.test_publish] Running test with payload A mathematical equation
2025-02-17 04:05:10.260 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:05:10.260 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21341/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RSA9IG1jXjI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765110260505344}}'
2025-02-17 04:05:10.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:10.271 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:10.371 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.372 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30972/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765110260505344,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.375 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:05:10.376 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49304/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765110260505344,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:10.381 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:05:10.382 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:05:10.382 DEBUG [src.node.waku_node] Stopping container with id fa01ab8ec6d3
2025-02-17 04:05:11.359 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:11.359 DEBUG [src.node.waku_node] Stopping container with id c4f6df536760
2025-02-17 04:05:12.241 ERROR [src.node.docker_mananger] Max retries reached for container fa01ab8ec6d3. Exiting log stream.
2025-02-17 04:05:12.884 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:12.884 DEBUG [src.node.waku_node] Stopping container with id 5490600723d3
2025-02-17 04:05:13.697 ERROR [src.node.docker_mananger] Max retries reached for container c4f6df536760. Exiting log stream.
2025-02-17 04:05:14.276 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:14.279 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:05:14.325 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:05:14.339 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:05:14.360 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
