2025-02-17 04:05:57.002 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:05:57.004 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics with id: 2025-02-17_04-05-57__f0e3eb76-9796-48f3-8e76-6c09c430ebf1
2025-02-17 04:05:57.004 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:05:57.005 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:05:57.005 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:05:57.014 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:57.015 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-05-57__f0e3eb76-9796-48f3-8e76-6c09c430ebf1__wakuorg_nwaku:latest.log
2025-02-17 04:05:57.015 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:57.015 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:57.017 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:57.017 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.46.112
2025-02-17 04:05:57.017 DEBUG [src.node.docker_mananger] Generated ports ['58418', '58419', '58420', '58421', '58422']
2025-02-17 04:05:57.017 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:57.018 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:57.018 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:57.018 DEBUG [src.node.docker_mananger] docker run -i -t -p 58418:58418 -p 58419:58419 -p 58420:58420 -p 58421:58421 -p 58422:58422 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58420 --rest-port=58418 --tcp-port=58419 --discv5-udp-port=58421 --rest-address=0.0.0.0 --nat=extip:172.18.46.112 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=acefda4fbe44ac7c1d1ea12e4fb74edfe5b254baead2cfd6b2b6e4a4ab7e14ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58422 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-17 04:05:57.249 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.46.112 waku 7879ef613959b142a13c78ca357c015f538031d1ee264a859ee0ae7ce73ef29b
2025-02-17 04:05:57.299 DEBUG [src.node.docker_mananger] Container started with ID 7879ef613959. Setting up logs at ./log/docker/node1_2025-02-17_04-05-57__f0e3eb76-9796-48f3-8e76-6c09c430ebf1__wakuorg_nwaku:latest.log
2025-02-17 04:05:57.300 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58418
2025-02-17 04:05:57.301 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:57.833 ERROR [src.node.docker_mananger] Max retries reached for container 499ec32e744f. Exiting log stream.
2025-02-17 04:05:58.301 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:58.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:58.304 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:58.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:58.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.112/tcp/58419/p2p/16Uiu2HAm8SeJWksrS5c5wdhXHE4Ni3qqJ7DidSDgDPJqH4e1fHHU","/ip4/172.18.46.112/tcp/58420/ws/p2p/16Uiu2HAm8SeJWksrS5c5wdhXHE4Ni3qqJ7DidSDgDPJqH4e1fHHU"],"enrUri":"enr:-L24QDYYUG0UYQHTo0lntyqvfGtTlR5kG4gJjsAz1hhmn-DUOPlzE0qqof0GAyo_y9aVX048niDBaJTXCEkV3yarcBACgmlkgnY0gmlwhKwSLnCKbXVsdGlhZGRyc5YACASsEi5wBuQzAAoErBIucAbkNN0DgnJzhQACAQAAiXNlY3AyNTZrMaECwWedSQVMq76iDRhDWE_jvUt4i79TT1iC7-aM5I2IRMuDdGNwguQzg3VkcILkNYV3YWt1MgU"}'
2025-02-17 04:05:58.306 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:58.313 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:58.313 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-05-57__f0e3eb76-9796-48f3-8e76-6c09c430ebf1__wakuorg_nwaku:latest.log
2025-02-17 04:05:58.313 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:58.313 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:58.314 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:58.314 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.229.187
2025-02-17 04:05:58.315 DEBUG [src.node.docker_mananger] Generated ports ['10473', '10474', '10475', '10476', '10477']
2025-02-17 04:05:58.315 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:58.315 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:58.315 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:58.315 DEBUG [src.node.docker_mananger] docker run -i -t -p 10473:10473 -p 10474:10474 -p 10475:10475 -p 10476:10476 -p 10477:10477 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10475 --rest-port=10473 --tcp-port=10474 --discv5-udp-port=10476 --rest-address=0.0.0.0 --nat=extip:172.18.229.187 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dacafbdbcfb6ff5ee2120baf5efdea1fc826ef0b9ded3ec8a4cacecde0f7cac3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10477 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDYYUG0UYQHTo0lntyqvfGtTlR5kG4gJjsAz1hhmn-DUOPlzE0qqof0GAyo_y9aVX048niDBaJTXCEkV3yarcBACgmlkgnY0gmlwhKwSLnCKbXVsdGlhZGRyc5YACASsEi5wBuQzAAoErBIucAbkNN0DgnJzhQACAQAAiXNlY3AyNTZrMaECwWedSQVMq76iDRhDWE_jvUt4i79TT1iC7-aM5I2IRMuDdGNwguQzg3VkcILkNYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-17 04:05:58.536 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.229.187 waku 4bb13160cd51a43ee98a83072c8d2b924b14528e19c53438ed21b60482188128
2025-02-17 04:05:58.588 DEBUG [src.node.docker_mananger] Container started with ID 4bb13160cd51. Setting up logs at ./log/docker/node2_2025-02-17_04-05-57__f0e3eb76-9796-48f3-8e76-6c09c430ebf1__wakuorg_nwaku:latest.log
2025-02-17 04:05:58.589 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10473
2025-02-17 04:05:58.589 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:59.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:59.599 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:59.599 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.229.187/tcp/10474/p2p/16Uiu2HAmGcw1pFyzUoC9t6J4254By6hFj9FvDU3q9VpaqKCGHA1r","/ip4/172.18.229.187/tcp/10475/ws/p2p/16Uiu2HAmGcw1pFyzUoC9t6J4254By6hFj9FvDU3q9VpaqKCGHA1r"],"enrUri":"enr:-L24QLgYu3Lt94PpYhYyBKyots0VtzvlR70dTB5O0C-1JwftN2vHdWj0rw3OXbHBckvBNIqhNX--rO-ixjEkWILp6XoCgmlkgnY0gmlwhKwS5buKbXVsdGlhZGRyc5YACASsEuW7BijqAAoErBLluwYo690DgnJzhQACAQAAiXNlY3AyNTZrMaEDOufQd8qjqK_deFFSF0AnKAkkuBHM5Xar9Rw8I8EaikWDdGNwgijqg3VkcIIo7IV3YWt1MgE"}'
2025-02-17 04:05:59.603 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:59.603 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10473/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.112/tcp/58419/p2p/16Uiu2HAm8SeJWksrS5c5wdhXHE4Ni3qqJ7DidSDgDPJqH4e1fHHU"]'
2025-02-17 04:05:59.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:59.607 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:05:59.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:59.620 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10473/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:05:59.641 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:59.644 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:59.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:59.657 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:59.758 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:59.758 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765159643915008,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:59.763 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:59.763 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765159643915008,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:59.767 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:59.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:59.772 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:59.872 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:59.873 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765159767351552,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:59.876 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:59.876 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765159767351552,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:59.880 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:59.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:59.885 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:59.985 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:59.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765159880608256,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:59.990 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:59.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:59.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765159880608256,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:59.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:59.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.000 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.100 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.100 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765159994102272,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.104 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765159994102272,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.108 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.114 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.214 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765160108361472,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.218 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.218 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765160108361472,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.222 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.226 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.326 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.326 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765160222051584,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.330 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765160222051584,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.334 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.340 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.440 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.441 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765160334766592,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.445 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765160334766592,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.449 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.455 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.555 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765160449351936,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.559 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.560 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10473/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765160449351936,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:00.563 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:58418/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:06:00.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.583 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10473/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:06:00.599 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.606 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.706 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.708 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-17 04:06:00.710 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.713 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.813 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.816 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-17 04:06:00.818 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.821 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:00.921 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:00.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:00.924 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-17 04:06:00.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:00.927 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:00.928 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:01.028 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:01.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:01.031 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-17 04:06:01.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:01.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:01.035 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:01.135 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:01.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:01.138 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-17 04:06:01.139 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:01.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:01.142 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:01.242 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:01.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:01.245 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-17 04:06:01.247 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:01.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:01.249 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:01.349 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:01.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:01.352 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-17 04:06:01.354 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58418/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:01.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:01.356 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:01.456 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:01.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:01.459 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:58418/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-17 04:06:01.461 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:06:01.462 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:06:01.462 DEBUG [src.node.waku_node] Stopping container with id 7879ef613959
2025-02-17 04:06:02.816 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:06:02.817 DEBUG [src.node.waku_node] Stopping container with id 4bb13160cd51
2025-02-17 04:06:03.628 ERROR [src.node.docker_mananger] Max retries reached for container 7879ef613959. Exiting log stream.
2025-02-17 04:06:04.313 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:06:04.315 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:06:04.330 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:06:04.342 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
