2025-02-17 04:05:31.178 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:05:31.178 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-17_04-05-31__370a8f7d-7d3a-4556-8d30-59a81ab77a9b
2025-02-17 04:05:31.179 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:05:31.179 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:05:31.179 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-17 04:05:31.186 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:31.186 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-05-31__370a8f7d-7d3a-4556-8d30-59a81ab77a9b__wakuorg_nwaku:latest.log
2025-02-17 04:05:31.186 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:31.186 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:31.188 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:31.188 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.204.201
2025-02-17 04:05:31.188 DEBUG [src.node.docker_mananger] Generated ports ['25356', '25357', '25358', '25359', '25360']
2025-02-17 04:05:31.189 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:31.189 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:31.189 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:31.189 DEBUG [src.node.docker_mananger] docker run -i -t -p 25356:25356 -p 25357:25357 -p 25358:25358 -p 25359:25359 -p 25360:25360 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25358 --rest-port=25356 --tcp-port=25357 --discv5-udp-port=25359 --rest-address=0.0.0.0 --nat=extip:172.18.204.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ffb7d8c7fdfaadbc5a9ae2ca3e4debafefca7cfb5e9a1c4238fc02fd04fca2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25360 --metrics-logging=true --relay=true
2025-02-17 04:05:31.424 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.204.201 waku 4e9a9debaba0e6082f5b564fa18cbdf48401828b3409ad081b1098d07d187022
2025-02-17 04:05:31.469 DEBUG [src.node.docker_mananger] Container started with ID 4e9a9debaba0. Setting up logs at ./log/docker/node1_2025-02-17_04-05-31__370a8f7d-7d3a-4556-8d30-59a81ab77a9b__wakuorg_nwaku:latest.log
2025-02-17 04:05:31.470 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25356
2025-02-17 04:05:31.470 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:31.979 ERROR [src.node.docker_mananger] Max retries reached for container d2727b648de4. Exiting log stream.
2025-02-17 04:05:32.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:32.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:32.474 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:32.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:32.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.201/tcp/25357/p2p/16Uiu2HAm2c4sUSrX27UVno1AqormMPwXr6eCuycj65HHaSKyHtaL","/ip4/172.18.204.201/tcp/25358/ws/p2p/16Uiu2HAm2c4sUSrX27UVno1AqormMPwXr6eCuycj65HHaSKyHtaL"],"enrUri":"enr:-L24QIiTdk4CE3PV1Gw69y5xVNTnuz6jtghUXpMNoLQvyLwNU4202eOQBGstCsJoL3BqwMDGfqucvHrIi7CJsxyJiw4CgmlkgnY0gmlwhKwSzMmKbXVsdGlhZGRyc5YACASsEszJBmMNAAoErBLMyQZjDt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaqt_4y2MkHAnn-GOt1pwplKa3pSsS1Mk9irVKClkJ7mDdGNwgmMNg3VkcIJjD4V3YWt1MgE"}'
2025-02-17 04:05:32.476 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:32.483 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:32.483 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-05-31__370a8f7d-7d3a-4556-8d30-59a81ab77a9b__wakuorg_nwaku:latest.log
2025-02-17 04:05:32.483 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:32.483 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:32.484 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:32.485 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.211.1
2025-02-17 04:05:32.485 DEBUG [src.node.docker_mananger] Generated ports ['31593', '31594', '31595', '31596', '31597']
2025-02-17 04:05:32.485 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:32.485 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:32.485 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:32.485 DEBUG [src.node.docker_mananger] docker run -i -t -p 31593:31593 -p 31594:31594 -p 31595:31595 -p 31596:31596 -p 31597:31597 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31595 --rest-port=31593 --tcp-port=31594 --discv5-udp-port=31596 --rest-address=0.0.0.0 --nat=extip:172.18.211.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc95ac8f8dcd8bad0c08f37ea7fa1ad0ff066cbddd9c6fddc7dfd12d6f6f5cd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31597 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIiTdk4CE3PV1Gw69y5xVNTnuz6jtghUXpMNoLQvyLwNU4202eOQBGstCsJoL3BqwMDGfqucvHrIi7CJsxyJiw4CgmlkgnY0gmlwhKwSzMmKbXVsdGlhZGRyc5YACASsEszJBmMNAAoErBLMyQZjDt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaqt_4y2MkHAnn-GOt1pwplKa3pSsS1Mk9irVKClkJ7mDdGNwgmMNg3VkcIJjD4V3YWt1MgE
2025-02-17 04:05:32.720 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.211.1 waku df3e7dbd8047fe8775fd36309a21fe6a282186953a73e9de42b8a1589825accf
2025-02-17 04:05:32.771 DEBUG [src.node.docker_mananger] Container started with ID df3e7dbd8047. Setting up logs at ./log/docker/node2_2025-02-17_04-05-31__370a8f7d-7d3a-4556-8d30-59a81ab77a9b__wakuorg_nwaku:latest.log
2025-02-17 04:05:32.772 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 31593
2025-02-17 04:05:32.773 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:33.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:33.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:33.785 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:33.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:33.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.211.1/tcp/31594/p2p/16Uiu2HAm6QncLSUJqYLhwRkgiKydDBhVKxwg52H716s5riKMzSYX","/ip4/172.18.211.1/tcp/31595/ws/p2p/16Uiu2HAm6QncLSUJqYLhwRkgiKydDBhVKxwg52H716s5riKMzSYX"],"enrUri":"enr:-L24QFmWUaoctW1kS7osrZsR-n6QIreRieTksquaGxfUdR06avzuNCMA41fvnvsQwl-7GD6MeGD6COimIJ2DlXMZGxoCgmlkgnY0gmlwhKwS0wGKbXVsdGlhZGRyc5YACASsEtMBBntqAAoErBLTAQZ7a90DgnJzhQADAQAAiXNlY3AyNTZrMaECozZ41JKfnrvCcIAtUiFISdAuWVK8phjMAzQUN1xnO9CDdGNwgntqg3VkcIJ7bIV3YWt1MgE"}'
2025-02-17 04:05:33.792 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:33.792 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31593/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.204.201/tcp/25357/p2p/16Uiu2HAm2c4sUSrX27UVno1AqormMPwXr6eCuycj65HHaSKyHtaL"]'
2025-02-17 04:05:33.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:33.796 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-17 04:05:33.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:33.804 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31593/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-17 04:05:33.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:33.820 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:33.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:33.828 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:33.929 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:33.929 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:33.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765133820091392,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:33.934 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:33.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:33.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765133820091392,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:33.938 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:33.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:33.943 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:34.044 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765133938349056,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.049 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.049 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765133938349056,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.054 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.059 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:34.159 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134053904640,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.164 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.164 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134053904640,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.173 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:34.274 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.274 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134168526848,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.278 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.278 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134168526848,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.289 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:34.389 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.389 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134283393536,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.394 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134283393536,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.398 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25356/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-17 04:05:34.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.412 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:31593/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-17 04:05:34.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.420 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.424 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-17 04:05:34.424 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.427 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-17 04:05:34.427 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.430 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-17 04:05:34.430 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.435 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:34.535 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.535 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134430486016,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.540 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134430486016,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.544 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:34.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:34.549 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:34.650 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134544764160,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.654 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:34.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31593/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:34.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765134544764160,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:34.659 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:05:34.660 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:05:34.660 DEBUG [src.node.waku_node] Stopping container with id 4e9a9debaba0
2025-02-17 04:05:35.987 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:35.988 DEBUG [src.node.waku_node] Stopping container with id df3e7dbd8047
2025-02-17 04:05:36.800 ERROR [src.node.docker_mananger] Max retries reached for container 4e9a9debaba0. Exiting log stream.
2025-02-17 04:05:37.519 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:37.520 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:05:37.529 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:05:37.539 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
