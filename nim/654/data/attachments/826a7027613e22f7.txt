2025-02-17 04:05:42.908 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:05:42.908 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-17_04-05-42__74187af0-04b4-42e4-99b5-695562556a6c
2025-02-17 04:05:42.908 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:05:42.908 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:05:42.909 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:05:42.916 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:42.916 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-05-42__74187af0-04b4-42e4-99b5-695562556a6c__wakuorg_nwaku:latest.log
2025-02-17 04:05:42.916 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:42.916 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:42.918 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:42.918 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.29.230
2025-02-17 04:05:42.918 DEBUG [src.node.docker_mananger] Generated ports ['12866', '12867', '12868', '12869', '12870']
2025-02-17 04:05:42.918 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:42.918 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:42.918 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:42.919 DEBUG [src.node.docker_mananger] docker run -i -t -p 12866:12866 -p 12867:12867 -p 12868:12868 -p 12869:12869 -p 12870:12870 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12868 --rest-port=12866 --tcp-port=12867 --discv5-udp-port=12869 --rest-address=0.0.0.0 --nat=extip:172.18.29.230 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=cacc6d68bb5eecd99f1f1aa7adc5025a509d6195072ece51cfec6cca35b6f6cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12870 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-17 04:05:43.154 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.29.230 waku 9fef4b5f543225296899805d9ff7a9a9e30ede4ab373c4ece62df7048b335dc3
2025-02-17 04:05:43.209 DEBUG [src.node.docker_mananger] Container started with ID 9fef4b5f5432. Setting up logs at ./log/docker/node1_2025-02-17_04-05-42__74187af0-04b4-42e4-99b5-695562556a6c__wakuorg_nwaku:latest.log
2025-02-17 04:05:43.209 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12866
2025-02-17 04:05:43.210 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:43.714 ERROR [src.node.docker_mananger] Max retries reached for container 89207c7073f2. Exiting log stream.
2025-02-17 04:05:44.212 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:44.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:44.215 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:44.215 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:44.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.230/tcp/12867/p2p/16Uiu2HAmSL7RC5EkBQAxHjhpV7A22Qqt2YFFWARZCQ16RqBjMKY6","/ip4/172.18.29.230/tcp/12868/ws/p2p/16Uiu2HAmSL7RC5EkBQAxHjhpV7A22Qqt2YFFWARZCQ16RqBjMKY6"],"enrUri":"enr:-L24QO0neyKIGyANFmdHao_6MkZFWjX4SoBXPRBwydv1c7xoVmfDrMvYWQRyMAs5pjEGlHeTLT3yvKfQfzucusZlYNcCgmlkgnY0gmlwhKwSHeaKbXVsdGlhZGRyc5YACASsEh3mBjJDAAoErBId5gYyRN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDyy2SlSAf_mg9Ey1hlEKnzlsrpWdeP6aveN5XAMuvfJODdGNwgjJDg3VkcIIyRYV3YWt1MgU"}'
2025-02-17 04:05:44.218 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:44.225 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:44.225 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-05-42__74187af0-04b4-42e4-99b5-695562556a6c__wakuorg_nwaku:latest.log
2025-02-17 04:05:44.225 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:44.225 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:44.227 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:44.227 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.70.10
2025-02-17 04:05:44.227 DEBUG [src.node.docker_mananger] Generated ports ['21469', '21470', '21471', '21472', '21473']
2025-02-17 04:05:44.227 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:44.227 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:44.227 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:44.228 DEBUG [src.node.docker_mananger] docker run -i -t -p 21469:21469 -p 21470:21470 -p 21471:21471 -p 21472:21472 -p 21473:21473 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21471 --rest-port=21469 --tcp-port=21470 --discv5-udp-port=21472 --rest-address=0.0.0.0 --nat=extip:172.18.70.10 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=42de697a18d8ad554d6b78bc3d987034b5d2eb193eaf18f511b3452bbceffa3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21473 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QO0neyKIGyANFmdHao_6MkZFWjX4SoBXPRBwydv1c7xoVmfDrMvYWQRyMAs5pjEGlHeTLT3yvKfQfzucusZlYNcCgmlkgnY0gmlwhKwSHeaKbXVsdGlhZGRyc5YACASsEh3mBjJDAAoErBId5gYyRN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDyy2SlSAf_mg9Ey1hlEKnzlsrpWdeP6aveN5XAMuvfJODdGNwgjJDg3VkcIIyRYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-17 04:05:44.462 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.70.10 waku 875e53bbd970af100df87aec672d5282d6b9c01488337a95960cb11b43acf97f
2025-02-17 04:05:44.509 DEBUG [src.node.docker_mananger] Container started with ID 875e53bbd970. Setting up logs at ./log/docker/node2_2025-02-17_04-05-42__74187af0-04b4-42e4-99b5-695562556a6c__wakuorg_nwaku:latest.log
2025-02-17 04:05:44.510 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21469
2025-02-17 04:05:44.510 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:45.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:45.521 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:45.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.10/tcp/21470/p2p/16Uiu2HAmJTrhnP6JhoF7wQqqUgGkEjmoa1Vr9ra46bpPHi4WUsNU","/ip4/172.18.70.10/tcp/21471/ws/p2p/16Uiu2HAmJTrhnP6JhoF7wQqqUgGkEjmoa1Vr9ra46bpPHi4WUsNU"],"enrUri":"enr:-L24QKnD1zoO9LpHkSuuBC1W3ywOLd2TxpyaAZY6HrTZAoxmVsZiLSpXRDT7NBvAlzof7nOrt4XCH8SGJh9vgCawW0YCgmlkgnY0gmlwhKwSRgqKbXVsdGlhZGRyc5YACASsEkYKBlPeAAoErBJGCgZT390DgnJzhQACAQAAiXNlY3AyNTZrMaEDVkwWJ9dZv5XQYi1XvWZ37xToI1WWwxRi1jSYVtbo2A2DdGNwglPeg3VkcIJT4IV3YWt1MgE"}'
2025-02-17 04:05:45.533 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:45.533 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21469/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.29.230/tcp/12867/p2p/16Uiu2HAmSL7RC5EkBQAxHjhpV7A22Qqt2YFFWARZCQ16RqBjMKY6"]'
2025-02-17 04:05:45.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:05:45.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:05:45.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.571 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:45.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.584 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:45.684 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:45.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765145570925312,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:45.689 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:45.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765145570925312,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:45.694 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:45.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.700 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:45.800 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:45.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765145694066432,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:45.805 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:45.806 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765145694066432,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:45.810 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:45.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.816 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:45.916 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:45.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765145810450944,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:45.921 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:45.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:45.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765145810450944,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:45.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:45.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:45.931 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.032 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765145925869568,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.037 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765145925869568,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.041 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.046 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.146 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.147 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765146040947200,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.151 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765146040947200,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.156 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.162 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.262 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.263 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765146156056576,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.267 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.267 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765146156056576,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.271 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.277 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.377 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765146271753984,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.383 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.383 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765146271753984,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.387 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.393 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.493 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765146387262720,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.498 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21469/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765146387262720,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:46.502 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-17 04:05:46.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.508 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-17 04:05:46.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.513 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-17 04:05:46.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.518 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-17 04:05:46.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.523 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-17 04:05:46.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.529 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-17 04:05:46.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.533 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-17 04:05:46.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.539 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-17 04:05:46.544 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.545 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-17 04:05:46.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.551 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-17 04:05:46.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.556 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-17 04:05:46.561 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.561 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-17 04:05:46.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.566 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-17 04:05:46.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.571 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-17 04:05:46.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.576 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12866/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-17 04:05:46.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.583 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21469/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-17 04:05:46.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.590 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.593 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.694 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.697 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-17 04:05:46.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.702 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.802 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.805 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-17 04:05:46.807 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.810 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:46.911 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:46.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:46.914 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-17 04:05:46.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:46.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:46.918 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:47.019 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:47.019 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:47.022 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-17 04:05:47.024 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:47.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:47.027 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:47.127 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:47.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:47.131 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-17 04:05:47.132 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:47.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:47.135 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:47.236 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:47.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:47.239 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-17 04:05:47.241 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:47.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:47.243 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:47.344 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:47.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:47.347 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-17 04:05:47.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12866/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:47.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:47.351 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:47.452 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:47.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:47.455 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:12866/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-17 04:05:47.458 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:05:47.458 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:05:47.459 DEBUG [src.node.waku_node] Stopping container with id 9fef4b5f5432
2025-02-17 04:05:48.228 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:48.228 DEBUG [src.node.waku_node] Stopping container with id 875e53bbd970
2025-02-17 04:05:49.042 ERROR [src.node.docker_mananger] Max retries reached for container 9fef4b5f5432. Exiting log stream.
2025-02-17 04:05:49.525 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:49.527 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:05:49.542 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:05:49.554 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
