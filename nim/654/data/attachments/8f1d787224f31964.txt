2025-02-17 04:09:04.050 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:09:04.050 DEBUG [tests.conftest] Running test: test_light_push_with_valid_timestamps with id: 2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7
2025-02-17 04:09:04.050 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:09:04.050 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-17 04:09:04.057 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:09:04.057 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7__wakuorg_nwaku:latest.log
2025-02-17 04:09:04.057 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:09:04.057 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:09:04.058 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:09:04.059 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.3.94
2025-02-17 04:09:04.059 DEBUG [src.node.docker_mananger] Generated ports ['50825', '50826', '50827', '50828', '50829']
2025-02-17 04:09:04.059 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:09:04.059 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:09:04.059 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:09:04.059 DEBUG [src.node.docker_mananger] docker run -i -t -p 50825:50825 -p 50826:50826 -p 50827:50827 -p 50828:50828 -p 50829:50829 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50827 --rest-port=50825 --tcp-port=50826 --discv5-udp-port=50828 --rest-address=0.0.0.0 --nat=extip:172.18.3.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c13bff4a7bb5c9bb3ab3d210bd4b0b306dae3b6c7edbfa285694d9dc1f33cefd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50829 --metrics-logging=true --lightpush=true --relay=true
2025-02-17 04:09:04.283 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.3.94 waku 89fcbff205de4befd43b7807534db2486b60ce4499175e6ac18e17d69eed07f7
2025-02-17 04:09:04.335 DEBUG [src.node.docker_mananger] Container started with ID 89fcbff205de. Setting up logs at ./log/docker/receiving_node1_2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7__wakuorg_nwaku:latest.log
2025-02-17 04:09:04.335 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50825
2025-02-17 04:09:04.335 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:09:04.856 ERROR [src.node.docker_mananger] Max retries reached for container 504ef1d31375. Exiting log stream.
2025-02-17 04:09:05.336 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:05.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:09:05.339 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:09:05.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:05.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.94/tcp/50826/p2p/16Uiu2HAm2rD7udKGZX7RVzYf3QhxDnmyN3j6ADzj1nJXX3Va5s21","/ip4/172.18.3.94/tcp/50827/ws/p2p/16Uiu2HAm2rD7udKGZX7RVzYf3QhxDnmyN3j6ADzj1nJXX3Va5s21"],"enrUri":"enr:-L24QFxvCIt6wqiUKFotpG-A4rfYO84qCl6LvYNRBGKsBLH-BBPx_30IfiBonIPJJ4-_IybEtgHCtku03NVwi4-8xmYCgmlkgnY0gmlwhKwSA16KbXVsdGlhZGRyc5YACASsEgNeBsaKAAoErBIDXgbGi90DgnJzhQADAQAAiXNlY3AyNTZrMaECbkr1OXfsS218l9P6N_LsrP7wrRIAuI6-3NAzfWt1efKDdGNwgsaKg3VkcILGjIV3YWt1Mgk"}'
2025-02-17 04:09:05.341 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:09:05.348 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:09:05.348 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7__wakuorg_nwaku:latest.log
2025-02-17 04:09:05.348 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:09:05.348 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:09:05.350 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:09:05.350 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.71.145
2025-02-17 04:09:05.350 DEBUG [src.node.docker_mananger] Generated ports ['38862', '38863', '38864', '38865', '38866']
2025-02-17 04:09:05.350 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:09:05.350 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:09:05.350 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:09:05.350 DEBUG [src.node.docker_mananger] docker run -i -t -p 38862:38862 -p 38863:38863 -p 38864:38864 -p 38865:38865 -p 38866:38866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38864 --rest-port=38862 --tcp-port=38863 --discv5-udp-port=38865 --rest-address=0.0.0.0 --nat=extip:172.18.71.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a1d4ddc8cbb9a35dceecf5ed322ac2712cad4ba71d14d4c340f82de9c0daa929 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38866 --metrics-logging=true --lightpush=false --relay=true
2025-02-17 04:09:05.580 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.71.145 waku a4a18ce1a7b98f25ca825441019c8e99b9d284dd074185614dc0b38bb048edbc
2025-02-17 04:09:05.630 DEBUG [src.node.docker_mananger] Container started with ID a4a18ce1a7b9. Setting up logs at ./log/docker/receiving_node2_2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7__wakuorg_nwaku:latest.log
2025-02-17 04:09:05.631 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38862
2025-02-17 04:09:05.631 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:09:06.631 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:06.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:09:06.634 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:09:06.634 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:06.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.145/tcp/38863/p2p/16Uiu2HAm3UXEao4LscZf25VgEDxrmtknJ92EXbRszNnwLFkjBWL3","/ip4/172.18.71.145/tcp/38864/ws/p2p/16Uiu2HAm3UXEao4LscZf25VgEDxrmtknJ92EXbRszNnwLFkjBWL3"],"enrUri":"enr:-L24QPAnC62ngAbrDe0d1fca4YuROECJsjRXKc5ZRV6LR5dWLpFsbMrOjV_jaxHe5PgwV7BW1l6XWYTTC2pbeS-oyqACgmlkgnY0gmlwhKwSR5GKbXVsdGlhZGRyc5YACASsEkeRBpfPAAoErBJHkQaX0N0DgnJzhQADAQAAiXNlY3AyNTZrMaECd5hZjrti8DTF0F_EmmOI9oVkvAWWGSxLDKooWZAK0HSDdGNwgpfPg3VkcIKX0YV3YWt1MgE"}'
2025-02-17 04:09:06.637 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:09:06.637 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38862/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.94/tcp/50826/p2p/16Uiu2HAm2rD7udKGZX7RVzYf3QhxDnmyN3j6ADzj1nJXX3Va5s21"]'
2025-02-17 04:09:06.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:06.686 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:09:06.686 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7__wakuorg_nwaku:latest.log
2025-02-17 04:09:06.686 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:09:06.687 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:09:06.688 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:09:06.688 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.176.126
2025-02-17 04:09:06.688 DEBUG [src.node.docker_mananger] Generated ports ['21776', '21777', '21778', '21779', '21780']
2025-02-17 04:09:06.688 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:09:06.689 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:09:06.689 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:09:06.689 DEBUG [src.node.docker_mananger] docker run -i -t -p 21776:21776 -p 21777:21777 -p 21778:21778 -p 21779:21779 -p 21780:21780 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21778 --rest-port=21776 --tcp-port=21777 --discv5-udp-port=21779 --rest-address=0.0.0.0 --nat=extip:172.18.176.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7aba72532705ffb8ee2eefa12218ad3fcfba45fcdfeb6e6bd16b4b3fdb9ffe93 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21780 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QFxvCIt6wqiUKFotpG-A4rfYO84qCl6LvYNRBGKsBLH-BBPx_30IfiBonIPJJ4-_IybEtgHCtku03NVwi4-8xmYCgmlkgnY0gmlwhKwSA16KbXVsdGlhZGRyc5YACASsEgNeBsaKAAoErBIDXgbGi90DgnJzhQADAQAAiXNlY3AyNTZrMaECbkr1OXfsS218l9P6N_LsrP7wrRIAuI6-3NAzfWt1efKDdGNwgsaKg3VkcILGjIV3YWt1Mgk --lightpushnode=/ip4/172.18.3.94/tcp/50826/p2p/16Uiu2HAm2rD7udKGZX7RVzYf3QhxDnmyN3j6ADzj1nJXX3Va5s21 --lightpush=true --relay=false
2025-02-17 04:09:06.928 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.176.126 waku 32de25e639db27a99167c4db8db6106fff9a73302a493796c5344295367e2a6b
2025-02-17 04:09:06.976 DEBUG [src.node.docker_mananger] Container started with ID 32de25e639db. Setting up logs at ./log/docker/lightpush_node1_2025-02-17_04-09-04__fae31c6a-c4dc-4408-be42-2a4f4bccb8e7__wakuorg_nwaku:latest.log
2025-02-17 04:09:06.976 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21776
2025-02-17 04:09:06.976 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:09:07.977 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21776/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:07.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:09:07.980 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:09:07.980 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21776/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:07.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.176.126/tcp/21777/p2p/16Uiu2HAkvkxmgkv1EAAuZkVgQyaCXK9sJE5egVECfg7fa7Mnv8hp","/ip4/172.18.176.126/tcp/21778/ws/p2p/16Uiu2HAkvkxmgkv1EAAuZkVgQyaCXK9sJE5egVECfg7fa7Mnv8hp"],"enrUri":"enr:-L24QFw9qbGJdsnquqpummSLm5gvjpW9EOWky17edBosx75bPOcXTvmoUU817Gj9a3o7evDsXHT2XKLEa4z9o-pl4JkCgmlkgnY0gmlwhKwSsH6KbXVsdGlhZGRyc5YACASsErB-BlURAAoErBKwfgZVEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECE8y1Tp6iHPD3LAJS_NK1OdcaMbSAha1YLS8u50wwqdODdGNwglURg3VkcIJVE4V3YWt1Mgg"}'
2025-02-17 04:09:07.983 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:09:07.983 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.94/tcp/50826/p2p/16Uiu2HAm2rD7udKGZX7RVzYf3QhxDnmyN3j6ADzj1nJXX3Va5s21"]'
2025-02-17 04:09:08.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.71.145/tcp/38863/p2p/16Uiu2HAm3UXEao4LscZf25VgEDxrmtknJ92EXbRszNnwLFkjBWL3"]'
2025-02-17 04:09:08.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.049 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50825/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 04:09:08.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.056 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38862/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 04:09:08.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.066 DEBUG [tests.light_push.test_publish] Running test with timestamp Now
2025-02-17 04:09:08.067 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.068 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739765026545155328}}'
2025-02-17 04:09:08.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.078 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.178 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.178 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765026545155328,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.181 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.182 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765026545155328,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.185 DEBUG [tests.light_push.test_publish] Running test with timestamp Far future
2025-02-17 04:09:08.185 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.186 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 2055125026545142016}}'
2025-02-17 04:09:08.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.195 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.296 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.296 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2055125026545142016,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.299 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":2055125026545142016,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.303 DEBUG [tests.light_push.test_publish] Running test with timestamp Recent past
2025-02-17 04:09:08.303 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.304 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739761426545142016}}'
2025-02-17 04:09:08.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.313 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.414 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761426545142016,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.417 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.417 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761426545142016,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.421 DEBUG [tests.light_push.test_publish] Running test with timestamp Near future
2025-02-17 04:09:08.421 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.421 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739768626545142016}}'
2025-02-17 04:09:08.431 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.431 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.531 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739768626545142016,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.536 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739768626545142016,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.540 DEBUG [tests.light_push.test_publish] Running test with timestamp Positive number
2025-02-17 04:09:08.540 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.540 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1}}'
2025-02-17 04:09:08.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.549 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.649 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.653 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.656 DEBUG [tests.light_push.test_publish] Running test with timestamp Negative number
2025-02-17 04:09:08.656 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.656 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": -1}}'
2025-02-17 04:09:08.666 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.666 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.766 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.767 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.770 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.770 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":-1,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.774 DEBUG [tests.light_push.test_publish] Running test with timestamp DST change
2025-02-17 04:09:08.774 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 04:09:08.774 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21776/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1583632800000000000}}'
2025-02-17 04:09:08.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:09:08.785 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:09:08.885 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50825/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.889 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 04:09:08.889 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38862/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:09:08.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false,"proof":""}]'
2025-02-17 04:09:08.893 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:09:08.894 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:09:08.894 DEBUG [src.node.waku_node] Stopping container with id 89fcbff205de
2025-02-17 04:09:09.834 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:09:09.834 DEBUG [src.node.waku_node] Stopping container with id a4a18ce1a7b9
2025-02-17 04:09:10.672 ERROR [src.node.docker_mananger] Max retries reached for container 89fcbff205de. Exiting log stream.
2025-02-17 04:09:11.358 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:09:11.358 DEBUG [src.node.waku_node] Stopping container with id 32de25e639db
2025-02-17 04:09:12.169 ERROR [src.node.docker_mananger] Max retries reached for container a4a18ce1a7b9. Exiting log stream.
2025-02-17 04:09:12.852 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:09:12.854 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:09:12.874 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:09:12.882 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:09:12.891 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
