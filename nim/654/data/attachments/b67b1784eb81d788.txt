2025-02-17 04:04:33.357 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:04:33.357 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-17_04-04-33__f6687f22-e45f-4206-b344-2e3800068bb3
2025-02-17 04:04:33.357 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:04:33.358 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:04:33.358 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:04:33.364 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:04:33.365 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-04-33__f6687f22-e45f-4206-b344-2e3800068bb3__wakuorg_nwaku:latest.log
2025-02-17 04:04:33.365 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:04:33.365 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:04:33.366 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:04:33.366 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.8.125
2025-02-17 04:04:33.366 DEBUG [src.node.docker_mananger] Generated ports ['29431', '29432', '29433', '29434', '29435']
2025-02-17 04:04:33.366 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:04:33.367 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:04:33.367 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:04:33.367 DEBUG [src.node.docker_mananger] docker run -i -t -p 29431:29431 -p 29432:29432 -p 29433:29433 -p 29434:29434 -p 29435:29435 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29433 --rest-port=29431 --tcp-port=29432 --discv5-udp-port=29434 --rest-address=0.0.0.0 --nat=extip:172.18.8.125 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dd09ca1edfcf16f1f9cb65aa11e39fd2c64edeba7cc3aa2cad11ebaaeab14f30 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29435 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-17 04:04:33.601 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.8.125 waku c2fd183f95bc873faa2d70112b3dd0f670c37ef766c4b532f77265ba8372c5eb
2025-02-17 04:04:33.651 DEBUG [src.node.docker_mananger] Container started with ID c2fd183f95bc. Setting up logs at ./log/docker/node1_2025-02-17_04-04-33__f6687f22-e45f-4206-b344-2e3800068bb3__wakuorg_nwaku:latest.log
2025-02-17 04:04:33.651 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29431
2025-02-17 04:04:33.651 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:34.163 ERROR [src.node.docker_mananger] Max retries reached for container 14c9bef66b23. Exiting log stream.
2025-02-17 04:04:34.652 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:34.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:34.655 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:34.655 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:34.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.125/tcp/29432/p2p/16Uiu2HAm3wDMeMXPuihKDcw7S55q5HEMr6uyJ9jE5kaNHRBJ13AS","/ip4/172.18.8.125/tcp/29433/ws/p2p/16Uiu2HAm3wDMeMXPuihKDcw7S55q5HEMr6uyJ9jE5kaNHRBJ13AS"],"enrUri":"enr:-L24QEC2y-YKiUEcktRWL8LBoFwL1-c0ZoIZ7QxYx7SPdyHoBw-koWWVC7SHYkxEuFC27KRwie66HXu_bR2ZvcBuhzMCgmlkgnY0gmlwhKwSCH2KbXVsdGlhZGRyc5YACASsEgh9BnL4AAoErBIIfQZy-d0DgnJzhQACAQAAiXNlY3AyNTZrMaECfm7REZ2NUXT4SrKq3S2y4ERTT25-8ReiSNaH4JLym7uDdGNwgnL4g3VkcIJy-oV3YWt1MgU"}'
2025-02-17 04:04:34.657 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:34.663 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:04:34.664 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-04-33__f6687f22-e45f-4206-b344-2e3800068bb3__wakuorg_nwaku:latest.log
2025-02-17 04:04:34.664 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:04:34.664 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:04:34.665 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:04:34.665 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.114.161
2025-02-17 04:04:34.665 DEBUG [src.node.docker_mananger] Generated ports ['26794', '26795', '26796', '26797', '26798']
2025-02-17 04:04:34.665 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:04:34.665 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:04:34.666 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:04:34.666 DEBUG [src.node.docker_mananger] docker run -i -t -p 26794:26794 -p 26795:26795 -p 26796:26796 -p 26797:26797 -p 26798:26798 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26796 --rest-port=26794 --tcp-port=26795 --discv5-udp-port=26797 --rest-address=0.0.0.0 --nat=extip:172.18.114.161 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fa375efc6b0bf07d1efd9eaa620bc7d3bca4adbb8bfd219e563d1cd02eda7f4c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26798 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEC2y-YKiUEcktRWL8LBoFwL1-c0ZoIZ7QxYx7SPdyHoBw-koWWVC7SHYkxEuFC27KRwie66HXu_bR2ZvcBuhzMCgmlkgnY0gmlwhKwSCH2KbXVsdGlhZGRyc5YACASsEgh9BnL4AAoErBIIfQZy-d0DgnJzhQACAQAAiXNlY3AyNTZrMaECfm7REZ2NUXT4SrKq3S2y4ERTT25-8ReiSNaH4JLym7uDdGNwgnL4g3VkcIJy-oV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-17 04:04:34.895 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.114.161 waku bc54aa4a26d19fbf743f41b9b7adfd52a1b02067602a6c68dcfb9354a60e45a0
2025-02-17 04:04:34.946 DEBUG [src.node.docker_mananger] Container started with ID bc54aa4a26d1. Setting up logs at ./log/docker/node2_2025-02-17_04-04-33__f6687f22-e45f-4206-b344-2e3800068bb3__wakuorg_nwaku:latest.log
2025-02-17 04:04:34.946 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26794
2025-02-17 04:04:34.947 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:35.947 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:35.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:35.958 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:35.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:35.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.161/tcp/26795/p2p/16Uiu2HAm9ARcidtfDRSRC4GDb1DuDsAeA1Vo4MfSwvhmFCaNJVqu","/ip4/172.18.114.161/tcp/26796/ws/p2p/16Uiu2HAm9ARcidtfDRSRC4GDb1DuDsAeA1Vo4MfSwvhmFCaNJVqu"],"enrUri":"enr:-L24QOCV9UOt3Gi8QIvThMu0mStrQw2yFm7ndks9BOZMl_gsWMenOVYEnzXXMXic6tox4t4z1u8Dk-2-lilyJCciVNsCgmlkgnY0gmlwhKwScqGKbXVsdGlhZGRyc5YACASsEnKhBmirAAoErBJyoQZorN0DgnJzhQACAQAAiXNlY3AyNTZrMaECzBuqBHhA048c-Hm94CfOnbz2GTMNbadK49WJrudwG1yDdGNwgmirg3VkcIJorYV3YWt1MgE"}'
2025-02-17 04:04:35.965 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:35.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26794/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.8.125/tcp/29432/p2p/16Uiu2HAm3wDMeMXPuihKDcw7S55q5HEMr6uyJ9jE5kaNHRBJ13AS"]'
2025-02-17 04:04:35.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:35.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:04:35.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:35.980 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26794/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:04:35.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:35.999 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.009 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.110 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765075999600896,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.114 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.114 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765075999600896,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.118 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.123 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.224 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765076118459136,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.228 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.228 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765076118459136,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.232 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.238 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.338 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.338 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765076232725248,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.342 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765076232725248,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.346 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.351 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.452 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765076346362624,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.456 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765076346362624,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.565 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765076459888640,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.570 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765076459888640,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.579 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.679 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765076574165760,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.683 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765076574165760,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.693 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.793 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.794 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765076688036352,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.797 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765076688036352,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.807 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:36.908 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765076801504256,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.913 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:36.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:36.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765076801504256,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:36.917 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:29431/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-17 04:04:36.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.926 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:26794/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-17 04:04:36.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.934 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:36.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:36.936 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.037 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.039 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:29431/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-17 04:04:37.041 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.044 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.144 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.144 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.147 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:29431/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-17 04:04:37.148 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.151 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.251 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.254 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-17 04:04:37.255 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.261 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.361 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.361 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765077255471360,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.365 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765077255471360,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.374 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.475 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765077369769728,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.479 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765077369769728,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.488 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.588 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765077482949888,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.592 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.593 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765077482949888,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.596 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.601 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.702 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765077596653056,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.705 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765077596653056,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29431/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:37.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:37.715 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:37.816 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29431/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765077709870336,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.820 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:37.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26794/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:37.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765077709870336,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:37.825 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:04:37.826 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:04:37.826 DEBUG [src.node.waku_node] Stopping container with id c2fd183f95bc
2025-02-17 04:04:39.147 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:39.147 DEBUG [src.node.waku_node] Stopping container with id bc54aa4a26d1
2025-02-17 04:04:39.959 ERROR [src.node.docker_mananger] Max retries reached for container c2fd183f95bc. Exiting log stream.
2025-02-17 04:04:40.676 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:40.678 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:04:40.690 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:04:40.702 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
