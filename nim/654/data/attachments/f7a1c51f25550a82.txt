2025-02-17 04:06:05.504 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:06:05.505 DEBUG [tests.conftest] Running test: test_multiple_content_topics_same_shard[content_topic_list0] with id: 2025-02-17_04-06-05__76bcafd4-14c1-4e84-9c8e-ffcbbe6d7e63
2025-02-17 04:06:05.505 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:06:05.505 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:06:05.505 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:06:05.512 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:06:05.513 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-06-05__76bcafd4-14c1-4e84-9c8e-ffcbbe6d7e63__wakuorg_nwaku:latest.log
2025-02-17 04:06:05.513 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:06:05.513 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:06:05.514 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:06:05.514 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.12.55
2025-02-17 04:06:05.514 DEBUG [src.node.docker_mananger] Generated ports ['15946', '15947', '15948', '15949', '15950']
2025-02-17 04:06:05.515 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:06:05.515 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:06:05.515 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:06:05.515 DEBUG [src.node.docker_mananger] docker run -i -t -p 15946:15946 -p 15947:15947 -p 15948:15948 -p 15949:15949 -p 15950:15950 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15948 --rest-port=15946 --tcp-port=15947 --discv5-udp-port=15949 --rest-address=0.0.0.0 --nat=extip:172.18.12.55 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ad00d2f3cff2d290dde651dfefa819bac9ee0aaeffd48ad8f5cac33db92a1f3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15950 --metrics-logging=true --relay=true --filter=true --content-topic=/newsService/1.0/weekly/protobuf --content-topic=/newsService/1.0/alerts/xml --content-topic=/newsService/1.0/updates/json --content-topic=/newsService/2.0/alerts/json --content-topic=/newsService/2.0/summaries/xml --content-topic=/newsService/2.0/highlights/yaml --content-topic=/newsService/3.0/weekly/json --content-topic=/newsService/3.0/summaries/xml
2025-02-17 04:06:05.742 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.12.55 waku 75c43f4e3232a587d1e224fe6b06470b3235e5aad57592145c2849374de3d27b
2025-02-17 04:06:05.796 DEBUG [src.node.docker_mananger] Container started with ID 75c43f4e3232. Setting up logs at ./log/docker/node1_2025-02-17_04-06-05__76bcafd4-14c1-4e84-9c8e-ffcbbe6d7e63__wakuorg_nwaku:latest.log
2025-02-17 04:06:05.797 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15946
2025-02-17 04:06:05.797 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:06:06.306 ERROR [src.node.docker_mananger] Max retries reached for container b3e412b99e2e. Exiting log stream.
2025-02-17 04:06:06.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:06.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:06:06.800 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:06:06.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:06.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.55/tcp/15947/p2p/16Uiu2HAmJMNgyVzxTMtPXMkLKmYnMg8XaBs6P744ypyQvyuDxyaZ","/ip4/172.18.12.55/tcp/15948/ws/p2p/16Uiu2HAmJMNgyVzxTMtPXMkLKmYnMg8XaBs6P744ypyQvyuDxyaZ"],"enrUri":"enr:-L24QJKpvzqHIjjD7gqvpKVzv78x8sHtS89kFzuKkjDf715xeQ3p76lNk89zLLL49RV3X2stQjPOfIRXXHA1yKupBg4CgmlkgnY0gmlwhKwSDDeKbXVsdGlhZGRyc5YACASsEgw3Bj5LAAoErBIMNwY-TN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDVKLtHZKe--STh0yqD9IJsItz_d13scr3M4csr6rz5NKDdGNwgj5Lg3VkcII-TYV3YWt1MgU"}'
2025-02-17 04:06:06.803 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:06:06.809 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:06:06.809 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-06-05__76bcafd4-14c1-4e84-9c8e-ffcbbe6d7e63__wakuorg_nwaku:latest.log
2025-02-17 04:06:06.809 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:06:06.809 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:06:06.811 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:06:06.811 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.0.28
2025-02-17 04:06:06.811 DEBUG [src.node.docker_mananger] Generated ports ['59610', '59611', '59612', '59613', '59614']
2025-02-17 04:06:06.811 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:06:06.811 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:06:06.811 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:06:06.812 DEBUG [src.node.docker_mananger] docker run -i -t -p 59610:59610 -p 59611:59611 -p 59612:59612 -p 59613:59613 -p 59614:59614 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59612 --rest-port=59610 --tcp-port=59611 --discv5-udp-port=59613 --rest-address=0.0.0.0 --nat=extip:172.18.0.28 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0536cfed3fbf2cfdfbdeaebeb67bcfbc0ef373c669e90d7f283a605e33aacba8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59614 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJKpvzqHIjjD7gqvpKVzv78x8sHtS89kFzuKkjDf715xeQ3p76lNk89zLLL49RV3X2stQjPOfIRXXHA1yKupBg4CgmlkgnY0gmlwhKwSDDeKbXVsdGlhZGRyc5YACASsEgw3Bj5LAAoErBIMNwY-TN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDVKLtHZKe--STh0yqD9IJsItz_d13scr3M4csr6rz5NKDdGNwgj5Lg3VkcII-TYV3YWt1MgU --content-topic=/newsService/1.0/weekly/protobuf --content-topic=/newsService/1.0/alerts/xml --content-topic=/newsService/1.0/updates/json --content-topic=/newsService/2.0/alerts/json --content-topic=/newsService/2.0/summaries/xml --content-topic=/newsService/2.0/highlights/yaml --content-topic=/newsService/3.0/weekly/json --content-topic=/newsService/3.0/summaries/xml
2025-02-17 04:06:07.048 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.0.28 waku bee985bf372b93aa0298ee20252a33f200a4da083483b55ee6de2cc9c01cd995
2025-02-17 04:06:07.099 DEBUG [src.node.docker_mananger] Container started with ID bee985bf372b. Setting up logs at ./log/docker/node2_2025-02-17_04-06-05__76bcafd4-14c1-4e84-9c8e-ffcbbe6d7e63__wakuorg_nwaku:latest.log
2025-02-17 04:06:07.099 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59610
2025-02-17 04:06:07.099 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:06:08.102 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:06:08.111 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:06:08.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.116 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.28/tcp/59611/p2p/16Uiu2HAm6YP5LcE4j8EnpDdjQEdbx9YcaeZW8o6rzWrcuPMQ3cFM","/ip4/172.18.0.28/tcp/59612/ws/p2p/16Uiu2HAm6YP5LcE4j8EnpDdjQEdbx9YcaeZW8o6rzWrcuPMQ3cFM"],"enrUri":"enr:-L24QA9FEbWcGOBEH9Qy2W-AY6nkbw-z6ypYYBWzPbXI6e2XXwGrrSdAHxPlfifjRbncoHIfSpGo8GbfrFYyZwAGp1gCgmlkgnY0gmlwhKwSAByKbXVsdGlhZGRyc5YACASsEgAcBujbAAoErBIAHAbo3N0DgnJzhQACAQAAiXNlY3AyNTZrMaECpSiCDCw1cQmiuS4n1pv8u_GXNoxunvNae661b3BGdOyDdGNwgujbg3VkcILo3YV3YWt1MgE"}'
2025-02-17 04:06:08.117 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:06:08.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59610/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.12.55/tcp/15947/p2p/16Uiu2HAmJMNgyVzxTMtPXMkLKmYnMg8XaBs6P744ypyQvyuDxyaZ"]'
2025-02-17 04:06:08.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.122 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-17 04:06:08.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.126 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59610/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-17 04:06:08.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.129 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.134 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.234 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739765168129311488,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.239 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.240 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739765168129311488,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.244 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.250 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.350 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739765168244097280,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.355 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.355 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739765168244097280,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.359 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.364 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.464 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.465 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739765168359587584,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.469 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739765168359587584,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.474 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.480 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.580 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.580 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739765168474288640,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.585 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.585 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739765168474288640,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.595 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.696 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.696 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739765168589576704,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.701 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.701 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739765168589576704,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.705 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.711 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.811 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739765168705132544,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.816 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739765168705132544,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.820 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.825 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:08.926 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.926 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739765168820468224,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.931 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:08.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:08.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739765168820468224,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:08.935 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15946/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:06:08.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:06:08.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:06:09.041 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:09.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15946/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:09.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739765168935168000,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:09.046 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:06:09.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59610/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:06:09.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739765168935168000,"ephemeral":false,"proof":""}]'
2025-02-17 04:06:09.051 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:06:09.052 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:06:09.053 DEBUG [src.node.waku_node] Stopping container with id 75c43f4e3232
2025-02-17 04:06:10.034 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:06:10.034 DEBUG [src.node.waku_node] Stopping container with id bee985bf372b
2025-02-17 04:06:10.868 ERROR [src.node.docker_mananger] Max retries reached for container 75c43f4e3232. Exiting log stream.
2025-02-17 04:06:11.065 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:06:11.066 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:06:11.085 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:06:11.093 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
