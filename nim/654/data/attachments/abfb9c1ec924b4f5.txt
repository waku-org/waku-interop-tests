2025-02-17 04:05:50.680 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:05:50.680 DEBUG [tests.conftest] Running test: test_multiple_content_topics_and_multiple_pubsub_topics with id: 2025-02-17_04-05-50__b28c5c38-4b09-440f-9785-00c44b6bd877
2025-02-17 04:05:50.680 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:05:50.681 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:05:50.681 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:05:50.687 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:50.688 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-05-50__b28c5c38-4b09-440f-9785-00c44b6bd877__wakuorg_nwaku:latest.log
2025-02-17 04:05:50.688 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:50.688 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:50.689 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:50.689 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.102.65
2025-02-17 04:05:50.690 DEBUG [src.node.docker_mananger] Generated ports ['57434', '57435', '57436', '57437', '57438']
2025-02-17 04:05:50.690 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:50.690 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:50.690 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:50.690 DEBUG [src.node.docker_mananger] docker run -i -t -p 57434:57434 -p 57435:57435 -p 57436:57436 -p 57437:57437 -p 57438:57438 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57436 --rest-port=57434 --tcp-port=57435 --discv5-udp-port=57437 --rest-address=0.0.0.0 --nat=extip:172.18.102.65 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=bdd81ccbcfb0a9fd98e548da13eee4a5bc38c70c1b2e39f7bddffebf1ecdbead --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57438 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-17 04:05:50.918 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.102.65 waku ae157129b62101a23b824788205222008a1bfbe0d0e67b6e830af8ba4ad2bbb9
2025-02-17 04:05:50.966 DEBUG [src.node.docker_mananger] Container started with ID ae157129b621. Setting up logs at ./log/docker/node1_2025-02-17_04-05-50__b28c5c38-4b09-440f-9785-00c44b6bd877__wakuorg_nwaku:latest.log
2025-02-17 04:05:50.968 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57434
2025-02-17 04:05:50.968 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:51.476 ERROR [src.node.docker_mananger] Max retries reached for container 453b77ec55c8. Exiting log stream.
2025-02-17 04:05:51.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:51.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:51.972 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:51.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:51.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.65/tcp/57435/p2p/16Uiu2HAmMR6sDoAf3rMrADGRR82z6myXsUkKr3qveMarFkZ2Cn9R","/ip4/172.18.102.65/tcp/57436/ws/p2p/16Uiu2HAmMR6sDoAf3rMrADGRR82z6myXsUkKr3qveMarFkZ2Cn9R"],"enrUri":"enr:-Mu4QIkTOJD4QtH3HMmDVfLgAETEdCbC1AhIdNzmwTiZtuQRIPWERihiRDq8FY_tT_NGhAF7XHT_u7vED14AUVR_yfUCgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc5YACASsEmZBBuBbAAoErBJmQQbgXN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOCKmsy0kYlfhd0kOUh5uwANKCLZwXha7PgWTAr7D2kxIN0Y3CC4FuDdWRwguBdhXdha3UyBQ"}'
2025-02-17 04:05:51.974 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:51.981 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:51.981 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-05-50__b28c5c38-4b09-440f-9785-00c44b6bd877__wakuorg_nwaku:latest.log
2025-02-17 04:05:51.981 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:51.981 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:51.982 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:51.983 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.188.251
2025-02-17 04:05:51.983 DEBUG [src.node.docker_mananger] Generated ports ['61450', '61451', '61452', '61453', '61454']
2025-02-17 04:05:51.983 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:51.983 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:51.983 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:51.983 DEBUG [src.node.docker_mananger] docker run -i -t -p 61450:61450 -p 61451:61451 -p 61452:61452 -p 61453:61453 -p 61454:61454 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61452 --rest-port=61450 --tcp-port=61451 --discv5-udp-port=61453 --rest-address=0.0.0.0 --nat=extip:172.18.188.251 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=4b19e77bbe550becb9b632be0bb5aada6bb65dbaca4e21d683cede0cf5f0d006 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61454 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QIkTOJD4QtH3HMmDVfLgAETEdCbC1AhIdNzmwTiZtuQRIPWERihiRDq8FY_tT_NGhAF7XHT_u7vED14AUVR_yfUCgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc5YACASsEmZBBuBbAAoErBJmQQbgXN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOCKmsy0kYlfhd0kOUh5uwANKCLZwXha7PgWTAr7D2kxIN0Y3CC4FuDdWRwguBdhXdha3UyBQ --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-17 04:05:52.205 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.188.251 waku 5af87f2b1be897832babf81b8f190a83d880c557939e1312e8d5f9d65dcc02a0
2025-02-17 04:05:52.257 DEBUG [src.node.docker_mananger] Container started with ID 5af87f2b1be8. Setting up logs at ./log/docker/node2_2025-02-17_04-05-50__b28c5c38-4b09-440f-9785-00c44b6bd877__wakuorg_nwaku:latest.log
2025-02-17 04:05:52.258 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61450
2025-02-17 04:05:52.258 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:53.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:53.287 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:53.288 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.188.251/tcp/61451/p2p/16Uiu2HAm4MevmfiUE8mmCypdRzCmjKeJxdnbUPGZKKmY5CK52H3N","/ip4/172.18.188.251/tcp/61452/ws/p2p/16Uiu2HAm4MevmfiUE8mmCypdRzCmjKeJxdnbUPGZKKmY5CK52H3N"],"enrUri":"enr:-Mu4QKHLpvM9xCT_rMmpZLDOAyiY4wWrAjv0DW24EYJM2OnZOhEoq11fD12vZ_mNpF6kNQ43to-h80VZLkFAayhXE9ECgmlkgnY0gmlwhKwSvPuKbXVsdGlhZGRyc5YACASsErz7BvALAAoErBK8-wbwDN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKEsatijfG8BN8Nq5iZ9cwJz8FcYASlOoKlkFWMEsrEMYN0Y3CC8AuDdWRwgvANhXdha3UyAQ"}'
2025-02-17 04:05:53.311 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:53.312 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61450/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.65/tcp/57435/p2p/16Uiu2HAmMR6sDoAf3rMrADGRR82z6myXsUkKr3qveMarFkZ2Cn9R"]'
2025-02-17 04:05:53.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:05:53.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61450/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-17 04:05:53.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.339 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:53.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.346 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:53.447 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765153339444992,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.452 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765153339444992,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.456 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:53.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.462 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:53.562 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765153456269824,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.567 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.567 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739765153456269824,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.571 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:53.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.577 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:53.678 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.678 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765153571452672,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.683 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739765153571452672,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:53.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.692 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:53.793 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765153687086848,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.797 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.798 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739765153687086848,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:53.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.806 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:53.907 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765153801804288,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.911 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:53.912 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:53.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739765153801804288,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:53.915 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:53.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:53.921 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:54.021 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:54.022 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:54.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765153915844096,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:54.026 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:54.026 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:54.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739765153915844096,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:54.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:54.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:54.036 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:54.137 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:54.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:54.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765154031005952,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:54.141 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:54.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:54.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739765154031005952,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:54.145 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57434/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:54.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:54.150 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:05:54.250 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:54.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57434/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:54.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765154145536512,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:54.255 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:05:54.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61450/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:54.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739765154145536512,"ephemeral":false,"proof":""}]'
2025-02-17 04:05:54.260 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:05:54.261 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:05:54.261 DEBUG [src.node.waku_node] Stopping container with id ae157129b621
2025-02-17 04:05:55.505 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:55.505 DEBUG [src.node.waku_node] Stopping container with id 5af87f2b1be8
2025-02-17 04:05:56.355 ERROR [src.node.docker_mananger] Max retries reached for container ae157129b621. Exiting log stream.
2025-02-17 04:05:57.016 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:57.018 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:05:57.042 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:05:57.055 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
