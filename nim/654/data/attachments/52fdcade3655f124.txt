2025-02-17 04:03:57.350 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:03:57.350 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-17_04-03-57__1382af84-6d66-4804-ad53-ebcd1ac88778
2025-02-17 04:03:57.351 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:03:57.351 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:03:57.351 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:03:57.358 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:03:57.358 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-03-57__1382af84-6d66-4804-ad53-ebcd1ac88778__wakuorg_nwaku:latest.log
2025-02-17 04:03:57.358 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:03:57.358 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:03:57.359 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:03:57.359 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.110.204
2025-02-17 04:03:57.360 DEBUG [src.node.docker_mananger] Generated ports ['26965', '26966', '26967', '26968', '26969']
2025-02-17 04:03:57.360 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:03:57.360 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:03:57.360 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:03:57.360 DEBUG [src.node.docker_mananger] docker run -i -t -p 26965:26965 -p 26966:26966 -p 26967:26967 -p 26968:26968 -p 26969:26969 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26967 --rest-port=26965 --tcp-port=26966 --discv5-udp-port=26968 --rest-address=0.0.0.0 --nat=extip:172.18.110.204 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f3faaaaba10050ac3e7169efd4cb6bdb5fd6fffde3d3bda57f3fabab5f2828ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26969 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-17 04:03:57.583 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.110.204 waku 9400d773d26197099bc3d9f2db016b1e33c3d45bc448ed1167c84b5ef1a4d58c
2025-02-17 04:03:57.630 DEBUG [src.node.docker_mananger] Container started with ID 9400d773d261. Setting up logs at ./log/docker/node1_2025-02-17_04-03-57__1382af84-6d66-4804-ad53-ebcd1ac88778__wakuorg_nwaku:latest.log
2025-02-17 04:03:57.630 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26965
2025-02-17 04:03:57.632 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:03:58.143 ERROR [src.node.docker_mananger] Max retries reached for container 1c24e678fe53. Exiting log stream.
2025-02-17 04:03:58.632 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:03:58.635 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:03:58.635 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:03:58.636 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:03:58.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.204/tcp/26966/p2p/16Uiu2HAm5oRoViLspkPuju7gm7sPE21ifaCNCzjwn4hWYu33mcAp","/ip4/172.18.110.204/tcp/26967/ws/p2p/16Uiu2HAm5oRoViLspkPuju7gm7sPE21ifaCNCzjwn4hWYu33mcAp"],"enrUri":"enr:-L24QOLkSv2BUM1dYysOKS10IhGajXk726uwOqMGkUIFSxi2L_-QseNR0Wws0mlx3LEk8jfvWwQ1pK7Hl8aVis-o5icCgmlkgnY0gmlwhKwSbsyKbXVsdGlhZGRyc5YACASsEm7MBmlWAAoErBJuzAZpV90DgnJzhQACAQAAiXNlY3AyNTZrMaECmied0GU-2nBOWMsp_3wmtYV2Axk4gj7Al5U3B9WpneWDdGNwgmlWg3VkcIJpWIV3YWt1MgU"}'
2025-02-17 04:03:58.638 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:03:58.644 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:03:58.645 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-03-57__1382af84-6d66-4804-ad53-ebcd1ac88778__wakuorg_nwaku:latest.log
2025-02-17 04:03:58.645 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:03:58.645 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:03:58.646 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:03:58.646 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.179
2025-02-17 04:03:58.646 DEBUG [src.node.docker_mananger] Generated ports ['29232', '29233', '29234', '29235', '29236']
2025-02-17 04:03:58.647 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:03:58.647 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:03:58.647 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:03:58.647 DEBUG [src.node.docker_mananger] docker run -i -t -p 29232:29232 -p 29233:29233 -p 29234:29234 -p 29235:29235 -p 29236:29236 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29234 --rest-port=29232 --tcp-port=29233 --discv5-udp-port=29235 --rest-address=0.0.0.0 --nat=extip:172.18.190.179 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=6ceeabec9a970efa8b1c8cadf4cafa2d0f69a49055037ffdbf3ff16b748dfee1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29236 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOLkSv2BUM1dYysOKS10IhGajXk726uwOqMGkUIFSxi2L_-QseNR0Wws0mlx3LEk8jfvWwQ1pK7Hl8aVis-o5icCgmlkgnY0gmlwhKwSbsyKbXVsdGlhZGRyc5YACASsEm7MBmlWAAoErBJuzAZpV90DgnJzhQACAQAAiXNlY3AyNTZrMaECmied0GU-2nBOWMsp_3wmtYV2Axk4gj7Al5U3B9WpneWDdGNwgmlWg3VkcIJpWIV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-17 04:03:58.875 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.179 waku 6dd8a59af08526456777aae0289b35bdb2441c0f5d60e4e422f7eed7d0908a27
2025-02-17 04:03:58.919 DEBUG [src.node.docker_mananger] Container started with ID 6dd8a59af085. Setting up logs at ./log/docker/node2_2025-02-17_04-03-57__1382af84-6d66-4804-ad53-ebcd1ac88778__wakuorg_nwaku:latest.log
2025-02-17 04:03:58.920 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29232
2025-02-17 04:03:58.920 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:03:59.920 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:03:59.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:03:59.927 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:03:59.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:03:59.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.179/tcp/29233/p2p/16Uiu2HAm89Fq1eVptQGxa98L7jVu4GSjn8bUvESZDoEzb4E3xbeh","/ip4/172.18.190.179/tcp/29234/ws/p2p/16Uiu2HAm89Fq1eVptQGxa98L7jVu4GSjn8bUvESZDoEzb4E3xbeh"],"enrUri":"enr:-L24QFDL7h7c0kS-Op9Fw8DGW4vy-RX7HnMwCh6NrE-xUjksPj3Fw-vCW9VVOhtB5l2mlMdDMEojxEAToPgwPzZ6b0UCgmlkgnY0gmlwhKwSvrOKbXVsdGlhZGRyc5YACASsEr6zBnIxAAoErBK-swZyMt0DgnJzhQACAQAAiXNlY3AyNTZrMaECvPNUOlsR5M5wWlkM0FPLoR8vsQ7FGVcrtTSAdm1Kc-qDdGNwgnIxg3VkcIJyM4V3YWt1MgE"}'
2025-02-17 04:03:59.931 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:03:59.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.110.204/tcp/26966/p2p/16Uiu2HAm5oRoViLspkPuju7gm7sPE21ifaCNCzjwn4hWYu33mcAp"]'
2025-02-17 04:03:59.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:03:59.939 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-17 04:03:59.942 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:03:59.943 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-17 04:03:59.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:03:59.945 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:03:59.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:03:59.951 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.051 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765039945760768,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.056 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.056 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765039945760768,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.060 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-17 04:04:00.063 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.064 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-17 04:04:00.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.070 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.081 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.181 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.181 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040070531840,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.185 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.185 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.188 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040070531840,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.189 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-17 04:04:00.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.194 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-17 04:04:00.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.202 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.206 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.307 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.307 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040202101248,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.311 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040202101248,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-17 04:04:00.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.319 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-17 04:04:00.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.326 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.331 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.432 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.432 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040325937664,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.436 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040325937664,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-17 04:04:00.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.444 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-17 04:04:00.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.457 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.557 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040451451136,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.561 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040451451136,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-17 04:04:00.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.569 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-17 04:04:00.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.576 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.582 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.682 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040576384000,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.686 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040576384000,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.690 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-17 04:04:00.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.695 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-17 04:04:00.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.702 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.708 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.809 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.809 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040702007552,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.813 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040702007552,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-17 04:04:00.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.821 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29232/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-17 04:04:00.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.827 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:00.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:00.834 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:00.934 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040827621376,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.938 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:00.938 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29232/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765040827621376,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:00.943 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:04:00.944 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:04:00.944 DEBUG [src.node.waku_node] Stopping container with id 9400d773d261
2025-02-17 04:04:02.115 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:02.116 DEBUG [src.node.waku_node] Stopping container with id 6dd8a59af085
2025-02-17 04:04:02.927 ERROR [src.node.docker_mananger] Max retries reached for container 9400d773d261. Exiting log stream.
2025-02-17 04:04:03.640 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:03.641 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:04:03.651 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:04:03.662 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
