2025-02-17 04:05:09.063 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:05:09.063 DEBUG [tests.conftest] Running test: test_time_filter_matches_no_message with id: 2025-02-17_04-05-09__b898fa54-2360-46c0-a1e4-65438d20d964
2025-02-17 04:05:09.063 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:05:09.064 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-17 04:05:09.064 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-17 04:05:09.070 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:09.070 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-17_04-05-09__b898fa54-2360-46c0-a1e4-65438d20d964__wakuorg_nwaku:latest.log
2025-02-17 04:05:09.070 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:09.071 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:09.072 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:09.072 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.216.122
2025-02-17 04:05:09.072 DEBUG [src.node.docker_mananger] Generated ports ['2901', '2902', '2903', '2904', '2905']
2025-02-17 04:05:09.073 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:09.073 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:09.073 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:09.073 DEBUG [src.node.docker_mananger] docker run -i -t -p 2901:2901 -p 2902:2902 -p 2903:2903 -p 2904:2904 -p 2905:2905 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2903 --rest-port=2901 --tcp-port=2902 --discv5-udp-port=2904 --rest-address=0.0.0.0 --nat=extip:172.18.216.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=24b16accbc3cf6cccb6397eb80e7eab12fda1d4bddb5ecdeb3fe2fc0e1815ffb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2905 --metrics-logging=true --store=true --relay=true
2025-02-17 04:05:09.300 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.216.122 waku dfcda5e6cb0b072dbcc32e2e617513d07ade69d71dea783254b3fdcabefe4f17
2025-02-17 04:05:09.349 DEBUG [src.node.docker_mananger] Container started with ID dfcda5e6cb0b. Setting up logs at ./log/docker/publishing_node1_2025-02-17_04-05-09__b898fa54-2360-46c0-a1e4-65438d20d964__wakuorg_nwaku:latest.log
2025-02-17 04:05:09.349 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2901
2025-02-17 04:05:09.349 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:09.862 ERROR [src.node.docker_mananger] Max retries reached for container 408e7a708626. Exiting log stream.
2025-02-17 04:05:10.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2901/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:10.353 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:10.353 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2901/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:10.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.122/tcp/2902/p2p/16Uiu2HAmSLaMBnri5gY5uR5zQkE3pc34QxN9xqy7BywT9wdexXzr","/ip4/172.18.216.122/tcp/2903/ws/p2p/16Uiu2HAmSLaMBnri5gY5uR5zQkE3pc34QxN9xqy7BywT9wdexXzr"],"enrUri":"enr:-L24QBKh_ibrfkWVFeqiolr0EcNKk_T2RFv0-RljX9_P7BKaMP9RTDo8Io_0f6XSZ3WtG4qv1wHUfOKcuZSiB1jWzbcCgmlkgnY0gmlwhKwS2HqKbXVsdGlhZGRyc5YACASsEth6BgtWAAoErBLYegYLV90DgnJzhQADAQAAiXNlY3AyNTZrMaEDy0wGBM4Xzpkli3P7eNzvG2RZi9b17eRlQlDv-61przuDdGNwggtWg3VkcIILWIV3YWt1MgM"}'
2025-02-17 04:05:10.355 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:10.362 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:05:10.363 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-17_04-05-09__b898fa54-2360-46c0-a1e4-65438d20d964__wakuorg_nwaku:latest.log
2025-02-17 04:05:10.363 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:05:10.363 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:05:10.364 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:05:10.364 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.168.83
2025-02-17 04:05:10.364 DEBUG [src.node.docker_mananger] Generated ports ['25090', '25091', '25092', '25093', '25094']
2025-02-17 04:05:10.365 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:05:10.365 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:05:10.365 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:05:10.365 DEBUG [src.node.docker_mananger] docker run -i -t -p 25090:25090 -p 25091:25091 -p 25092:25092 -p 25093:25093 -p 25094:25094 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25092 --rest-port=25090 --tcp-port=25091 --discv5-udp-port=25093 --rest-address=0.0.0.0 --nat=extip:172.18.168.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f7241b776bff1cb1f5cb1f61ffb2fc7ebf0ceb19d7d7eff0ccb4a4442c0d8d2d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25094 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBKh_ibrfkWVFeqiolr0EcNKk_T2RFv0-RljX9_P7BKaMP9RTDo8Io_0f6XSZ3WtG4qv1wHUfOKcuZSiB1jWzbcCgmlkgnY0gmlwhKwS2HqKbXVsdGlhZGRyc5YACASsEth6BgtWAAoErBLYegYLV90DgnJzhQADAQAAiXNlY3AyNTZrMaEDy0wGBM4Xzpkli3P7eNzvG2RZi9b17eRlQlDv-61przuDdGNwggtWg3VkcIILWIV3YWt1MgM --storenode=/ip4/172.18.216.122/tcp/2902/p2p/16Uiu2HAmSLaMBnri5gY5uR5zQkE3pc34QxN9xqy7BywT9wdexXzr --store=true --relay=true
2025-02-17 04:05:10.591 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.168.83 waku 3dd7e232f2f43bd871acd6349ba66e809c36900ec1f8b6418a67a68634e0ae56
2025-02-17 04:05:10.642 DEBUG [src.node.docker_mananger] Container started with ID 3dd7e232f2f4. Setting up logs at ./log/docker/store_node1_2025-02-17_04-05-09__b898fa54-2360-46c0-a1e4-65438d20d964__wakuorg_nwaku:latest.log
2025-02-17 04:05:10.642 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25090
2025-02-17 04:05:10.643 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:05:11.644 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25090/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:11.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:05:11.647 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:05:11.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25090/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:11.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.168.83/tcp/25091/p2p/16Uiu2HAm9xG8S2usS7YLSgtHvUqAm9fmKDGdhFHojFW7bJ5gWZ1y","/ip4/172.18.168.83/tcp/25092/ws/p2p/16Uiu2HAm9xG8S2usS7YLSgtHvUqAm9fmKDGdhFHojFW7bJ5gWZ1y"],"enrUri":"enr:-L24QC4THHaby-GgFPlgOPvuRIEnX3rWWt6q3nvfb5EwU51hIUzHnQiDmV3-zgYJWB8I9bYoWEuP0UqiBNcG8voGuRkCgmlkgnY0gmlwhKwSqFOKbXVsdGlhZGRyc5YACASsEqhTBmIDAAoErBKoUwZiBN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC19mnUOZ09FRZq-HLFDHGZ4fjh7SNK8ZeMcsVywfX3nCDdGNwgmIDg3VkcIJiBYV3YWt1MgM"}'
2025-02-17 04:05:11.649 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:05:11.650 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25090/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.122/tcp/2902/p2p/16Uiu2HAmSLaMBnri5gY5uR5zQkE3pc34QxN9xqy7BywT9wdexXzr"]'
2025-02-17 04:05:11.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:11.652 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 04:05:11.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:11.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25090/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 04:05:11.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:11.658 DEBUG [src.steps.store] Relaying message
2025-02-17 04:05:11.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:11.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:11.664 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 04:05:11.865 DEBUG [src.steps.store] Relaying message
2025-02-17 04:05:11.865 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:11.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:11.870 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 04:05:12.071 DEBUG [src.steps.store] Relaying message
2025-02-17 04:05:12.071 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:12.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:12.078 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 04:05:12.278 DEBUG [src.steps.store] Relaying message
2025-02-17 04:05:12.278 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:12.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:12.284 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 04:05:12.485 DEBUG [src.steps.store] Relaying message
2025-02-17 04:05:12.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:12.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:12.490 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 04:05:12.691 DEBUG [src.steps.store] Relaying message
2025-02-17 04:05:12.691 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:05:12.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:05:12.698 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 04:05:12.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2901/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739765108658108000&endTime=1739765108658207900&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:12.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-17 04:05:12.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25090/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739765108658108000&endTime=1739765108658207900&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:05:12.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-17 04:05:12.906 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:05:12.908 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:05:12.908 DEBUG [src.node.waku_node] Stopping container with id dfcda5e6cb0b
2025-02-17 04:05:13.880 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:13.880 DEBUG [src.node.waku_node] Stopping container with id 3dd7e232f2f4
2025-02-17 04:05:14.710 ERROR [src.node.docker_mananger] Max retries reached for container dfcda5e6cb0b. Exiting log stream.
2025-02-17 04:05:15.377 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:05:15.378 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:05:15.390 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:05:15.396 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
