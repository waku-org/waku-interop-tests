2025-02-17 04:10:25.150 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:10:25.150 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-17_04-10-25__a4e84368-e513-42f2-92c9-97238569e724
2025-02-17 04:10:25.151 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:10:25.151 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:10:25.151 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 04:10:25.158 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:10:25.158 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-10-25__a4e84368-e513-42f2-92c9-97238569e724__wakuorg_nwaku:latest.log
2025-02-17 04:10:25.158 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:10:25.158 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:10:25.160 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:10:25.160 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.181.29
2025-02-17 04:10:25.160 DEBUG [src.node.docker_mananger] Generated ports ['41068', '41069', '41070', '41071', '41072']
2025-02-17 04:10:25.160 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:10:25.160 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:10:25.160 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:10:25.160 DEBUG [src.node.docker_mananger] docker run -i -t -p 41068:41068 -p 41069:41069 -p 41070:41070 -p 41071:41071 -p 41072:41072 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41070 --rest-port=41068 --tcp-port=41069 --discv5-udp-port=41071 --rest-address=0.0.0.0 --nat=extip:172.18.181.29 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=7b2fa17fbd894e965a3caa508f7be5ccbcaf6ebfe6bfbb5d5c9be7b4beddc7d8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41072 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-17 04:10:25.397 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.181.29 waku a19a7be5a4695a5017ce987ce80d93c6793fe5e0b7c5547c6afadb531bf77389
2025-02-17 04:10:25.449 DEBUG [src.node.docker_mananger] Container started with ID a19a7be5a469. Setting up logs at ./log/docker/node1_2025-02-17_04-10-25__a4e84368-e513-42f2-92c9-97238569e724__wakuorg_nwaku:latest.log
2025-02-17 04:10:25.450 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41068
2025-02-17 04:10:25.450 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:10:25.939 ERROR [src.node.docker_mananger] Max retries reached for container 45674369eb28. Exiting log stream.
2025-02-17 04:10:26.450 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:26.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:10:26.453 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:10:26.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:26.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.29/tcp/41069/p2p/16Uiu2HAmEGvpjyEWWZT8izLzHg2UYMsac4pRSJ9yfbEjdHqV3e5p","/ip4/172.18.181.29/tcp/41070/ws/p2p/16Uiu2HAmEGvpjyEWWZT8izLzHg2UYMsac4pRSJ9yfbEjdHqV3e5p"],"enrUri":"enr:-Mu4QGxTBBQzM-4gjnZ0mYi0HrCpffoU_Ei3HGFbNu92j9a5And62YUs3mV87rtwX2f5OEhuUd9aDass-6m3YNuRCKkCgmlkgnY0gmlwhKwStR2KbXVsdGlhZGRyc5YACASsErUdBqBtAAoErBK1HQagbt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMYEJvAph_ktXyBQjhvVITUEHA1K9kUaNtUhlVbw4LJW4N0Y3CCoG2DdWRwgqBvhXdha3UyBQ"}'
2025-02-17 04:10:26.456 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:10:26.462 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:10:26.463 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-10-25__a4e84368-e513-42f2-92c9-97238569e724__wakuorg_nwaku:latest.log
2025-02-17 04:10:26.463 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:10:26.463 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:10:26.464 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:10:26.464 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.158.135
2025-02-17 04:10:26.465 DEBUG [src.node.docker_mananger] Generated ports ['26181', '26182', '26183', '26184', '26185']
2025-02-17 04:10:26.465 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:10:26.465 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:10:26.465 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:10:26.465 DEBUG [src.node.docker_mananger] docker run -i -t -p 26181:26181 -p 26182:26182 -p 26183:26183 -p 26184:26184 -p 26185:26185 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26183 --rest-port=26181 --tcp-port=26182 --discv5-udp-port=26184 --rest-address=0.0.0.0 --nat=extip:172.18.158.135 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=12b019ecef1c756e8bbcac8097da94ef7bd71ebb3ff0f389bcd5ff82bbbf50ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26185 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QGxTBBQzM-4gjnZ0mYi0HrCpffoU_Ei3HGFbNu92j9a5And62YUs3mV87rtwX2f5OEhuUd9aDass-6m3YNuRCKkCgmlkgnY0gmlwhKwStR2KbXVsdGlhZGRyc5YACASsErUdBqBtAAoErBK1HQagbt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMYEJvAph_ktXyBQjhvVITUEHA1K9kUaNtUhlVbw4LJW4N0Y3CCoG2DdWRwgqBvhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-17 04:10:26.698 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.158.135 waku 674e9da8e9d5706b2e5e213f08e404a73cc7202f07d2b70168257864092f924e
2025-02-17 04:10:26.750 DEBUG [src.node.docker_mananger] Container started with ID 674e9da8e9d5. Setting up logs at ./log/docker/node2_2025-02-17_04-10-25__a4e84368-e513-42f2-92c9-97238569e724__wakuorg_nwaku:latest.log
2025-02-17 04:10:26.750 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 26181
2025-02-17 04:10:26.750 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:10:27.751 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:27.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:10:27.762 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:10:27.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:27.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.135/tcp/26182/p2p/16Uiu2HAm9dssRFXgPuAAkY7B3DNC6QNAE6u9BmWznmuvroQe4Pw8","/ip4/172.18.158.135/tcp/26183/ws/p2p/16Uiu2HAm9dssRFXgPuAAkY7B3DNC6QNAE6u9BmWznmuvroQe4Pw8"],"enrUri":"enr:-Mu4QBmw7N2cMFlXYLiKIna50CR9IXRNo3NJIvtEF4LWXoBMcue1J6RwgIvKYG97WuMQFtua0jPT_cyTMTeEDoO4nB0CgmlkgnY0gmlwhKwSnoeKbXVsdGlhZGRyc5YACASsEp6HBmZGAAoErBKehwZmR90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQLTJAflu4MzjskI7tMpVJAFetVOcOLmwppVdCaxbix3g4N0Y3CCZkaDdWRwgmZIhXdha3UyAQ"}'
2025-02-17 04:10:27.775 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:10:27.775 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26181/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.29/tcp/41069/p2p/16Uiu2HAmEGvpjyEWWZT8izLzHg2UYMsac4pRSJ9yfbEjdHqV3e5p"]'
2025-02-17 04:10:27.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:27.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-17 04:10:27.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:27.792 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26181/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-17 04:10:27.794 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:27.795 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:27.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:27.801 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:27.901 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:27.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:27.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765427795429120,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:27.906 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:27.906 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:27.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765427795429120,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:27.910 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:27.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:27.915 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.016 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.016 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765427910439424,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.020 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.020 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765427910439424,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.030 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.130 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428024886528,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.135 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428024886528,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.138 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.144 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.244 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428138633728,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.249 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.249 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428138633728,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.254 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.359 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428254001664,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.364 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428254001664,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.373 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.374 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.475 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428368354560,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.479 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428368354560,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.489 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.589 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428483499520,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.594 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428483499520,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.598 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.603 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.704 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.705 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428598815744,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.709 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.709 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428598815744,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.713 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:41068/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-17 04:10:28.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.724 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:26181/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-17 04:10:28.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.735 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-17 04:10:28.736 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.738 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-17 04:10:28.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.742 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-17 04:10:28.743 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.748 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.748 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.849 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428743561984,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.853 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428743561984,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.864 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:28.964 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428857989632,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.969 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:28.969 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:28.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428857989632,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:28.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:28.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:28.978 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:29.079 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:29.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:29.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428973799424,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:29.083 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:29.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:29.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765428973799424,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:29.088 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:29.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:29.093 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:29.193 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:29.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:29.196 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765429087948800,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:29.197 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:29.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:29.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765429087948800,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:29.202 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:10:29.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:10:29.209 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:10:29.309 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:29.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41068/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:29.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765429202801920,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:29.313 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:10:29.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26181/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:10:29.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739765429202801920,"ephemeral":false,"proof":""}]'
2025-02-17 04:10:29.319 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:10:29.320 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:10:29.320 DEBUG [src.node.waku_node] Stopping container with id a19a7be5a469
2025-02-17 04:10:29.988 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:10:29.988 DEBUG [src.node.waku_node] Stopping container with id 674e9da8e9d5
2025-02-17 04:10:30.800 ERROR [src.node.docker_mananger] Max retries reached for container a19a7be5a469. Exiting log stream.
2025-02-17 04:10:31.495 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:10:31.496 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:10:31.510 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:10:31.521 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
