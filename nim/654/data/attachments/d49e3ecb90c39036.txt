2025-02-17 04:03:59.676 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 04:03:59.676 DEBUG [tests.conftest] Running test: test_last_node_to_start_publishes with id: 2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0
2025-02-17 04:03:59.676 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 04:03:59.677 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 04:03:59.677 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-17 04:03:59.683 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:03:59.683 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:03:59.683 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:03:59.683 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:03:59.685 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:03:59.685 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.131.139
2025-02-17 04:03:59.685 DEBUG [src.node.docker_mananger] Generated ports ['58511', '58512', '58513', '58514', '58515']
2025-02-17 04:03:59.685 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:03:59.685 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:03:59.685 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:03:59.685 DEBUG [src.node.docker_mananger] docker run -i -t -p 58511:58511 -p 58512:58512 -p 58513:58513 -p 58514:58514 -p 58515:58515 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58513 --rest-port=58511 --tcp-port=58512 --discv5-udp-port=58514 --rest-address=0.0.0.0 --nat=extip:172.18.131.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9a90fbf604029c41b854870f9f3adc459acb4ea3fe77a7a467c2a8015abba3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58515 --metrics-logging=true --relay=true
2025-02-17 04:03:59.916 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.131.139 waku 4ce6e579dfe69b9a13c1c06a4a2b795009edbdae1cbd09d6a4458dc79e194bb0
2025-02-17 04:03:59.964 DEBUG [src.node.docker_mananger] Container started with ID 4ce6e579dfe6. Setting up logs at ./log/docker/node1_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:03:59.964 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58511
2025-02-17 04:03:59.966 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:00.461 ERROR [src.node.docker_mananger] Max retries reached for container 1791b0d89a28. Exiting log stream.
2025-02-17 04:04:00.966 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58511/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:00.969 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:00.969 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58511/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:00.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk","/ip4/172.18.131.139/tcp/58513/ws/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"],"enrUri":"enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE"}'
2025-02-17 04:04:00.971 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:00.978 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:04:00.978 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:00.978 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:04:00.978 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:04:00.979 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:04:00.980 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.121.161
2025-02-17 04:04:00.980 DEBUG [src.node.docker_mananger] Generated ports ['1184', '1185', '1186', '1187', '1188']
2025-02-17 04:04:00.980 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:04:00.980 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:04:00.980 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:04:00.980 DEBUG [src.node.docker_mananger] docker run -i -t -p 1184:1184 -p 1185:1185 -p 1186:1186 -p 1187:1187 -p 1188:1188 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1186 --rest-port=1184 --tcp-port=1185 --discv5-udp-port=1187 --rest-address=0.0.0.0 --nat=extip:172.18.121.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1f664aa8baeb9d2d1a0eca9ce54cf75dd3eacb0e4fbf371bdad54c4f3004beba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1188 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
2025-02-17 04:04:01.215 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.121.161 waku 842fcb1d67c134a454d9ece41ba6893f3285dc92b0e4860e6e82a4236998da2e
2025-02-17 04:04:01.268 DEBUG [src.node.docker_mananger] Container started with ID 842fcb1d67c1. Setting up logs at ./log/docker/node2_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:01.269 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1184
2025-02-17 04:04:01.269 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:02.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1184/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:02.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:02.276 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:02.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1184/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:02.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.161/tcp/1185/p2p/16Uiu2HAmVcE7i9zjnVqEpJyUhquQK4DTQ4pV1Zw1HdegNn4N1yUu","/ip4/172.18.121.161/tcp/1186/ws/p2p/16Uiu2HAmVcE7i9zjnVqEpJyUhquQK4DTQ4pV1Zw1HdegNn4N1yUu"],"enrUri":"enr:-L24QBEg_mZbbqjjwCmryaECy8lGC18TR-AFZNUKpkPlCy87EwqpPWAvYobZFbY-nvej0CPuXcx8t64qGJkRwgPNBZ0CgmlkgnY0gmlwhKwSeaGKbXVsdGlhZGRyc5YACASsEnmhBgShAAoErBJ5oQYEot0DgnJzhQADAQAAiXNlY3AyNTZrMaED--GAHN_flI7lSmpOAq8XxKFkAgOyicc_urLJWBUM6CKDdGNwggShg3VkcIIEo4V3YWt1MgE"}'
2025-02-17 04:04:02.279 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:02.279 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1184/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
2025-02-17 04:04:02.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:02.282 DEBUG [src.steps.relay] Running fixture setup: setup_optional_relay_nodes
2025-02-17 04:04:02.288 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:04:02.289 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node3_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:02.289 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:04:02.289 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:04:02.290 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:04:02.290 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.141.94
2025-02-17 04:04:02.290 DEBUG [src.node.docker_mananger] Generated ports ['54429', '54430', '54431', '54432', '54433']
2025-02-17 04:04:02.290 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:04:02.291 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:04:02.291 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:04:02.291 DEBUG [src.node.docker_mananger] docker run -i -t -p 54429:54429 -p 54430:54430 -p 54431:54431 -p 54432:54432 -p 54433:54433 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54431 --rest-port=54429 --tcp-port=54430 --discv5-udp-port=54432 --rest-address=0.0.0.0 --nat=extip:172.18.141.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2e136c03ddb884ccfeea1f445c38d6cca158bd1a0a67acf14b6e8eb5f6cf7ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54433 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
2025-02-17 04:04:02.511 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.141.94 waku bbee0d59165f42fe57f9e44d34a2dd82c2443c7632bc2441e404f4e00f90e038
2025-02-17 04:04:02.561 DEBUG [src.node.docker_mananger] Container started with ID bbee0d59165f. Setting up logs at ./log/docker/node3_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:02.561 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54429
2025-02-17 04:04:02.562 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:03.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54429/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:03.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:03.571 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:03.571 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54429/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:03.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.94/tcp/54430/p2p/16Uiu2HAm2gfborExaCH5JaAWd7XbmZs6xHQjVdSDkEuJ18qqdSbo","/ip4/172.18.141.94/tcp/54431/ws/p2p/16Uiu2HAm2gfborExaCH5JaAWd7XbmZs6xHQjVdSDkEuJ18qqdSbo"],"enrUri":"enr:-L24QBHZW6RUGh02tJUG7w0BUuEviL9ejW-MGIOFdvYGy7LJTWAajJXvk8IkW6WvmQwqW4B9S90ZKTbCzFZJqumdgS4CgmlkgnY0gmlwhKwSjV6KbXVsdGlhZGRyc5YACASsEo1eBtSeAAoErBKNXgbUn90DgnJzhQADAQAAiXNlY3AyNTZrMaECa9kXjwfn2DEH_HU6PokBDHJZSNWNIgTaMNCtTBRa78aDdGNwgtSeg3VkcILUoIV3YWt1MgE"}'
2025-02-17 04:04:03.574 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:03.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54429/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
2025-02-17 04:04:03.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:03.583 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:04:03.583 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node4_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:03.584 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:04:03.584 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:04:03.585 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:04:03.585 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.104.45
2025-02-17 04:04:03.585 DEBUG [src.node.docker_mananger] Generated ports ['40024', '40025', '40026', '40027', '40028']
2025-02-17 04:04:03.585 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:04:03.586 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:04:03.586 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:04:03.586 DEBUG [src.node.docker_mananger] docker run -i -t -p 40024:40024 -p 40025:40025 -p 40026:40026 -p 40027:40027 -p 40028:40028 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40026 --rest-port=40024 --tcp-port=40025 --discv5-udp-port=40027 --rest-address=0.0.0.0 --nat=extip:172.18.104.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=44e49ca40390a7ddbe620ebafacda8e708da244bffa1e65b9550ee4ede240a9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40028 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
2025-02-17 04:04:03.826 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.104.45 waku b4e9d6e878635c48eb501b30f9546dc8ce7b8575306d7809d08c90bfe73932d6
2025-02-17 04:04:03.873 DEBUG [src.node.docker_mananger] Container started with ID b4e9d6e87863. Setting up logs at ./log/docker/node4_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:03.874 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40024
2025-02-17 04:04:03.874 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:04.874 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40024/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:04.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:04.880 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:04.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40024/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:04.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.45/tcp/40025/p2p/16Uiu2HAmKXV6BSEZDJnMHruBpMkWKtQESP4S4n36PqgaopR5qGHK","/ip4/172.18.104.45/tcp/40026/ws/p2p/16Uiu2HAmKXV6BSEZDJnMHruBpMkWKtQESP4S4n36PqgaopR5qGHK"],"enrUri":"enr:-L24QHs9plEjiaw-JXWLM7lSCFyBJPJ278fMsxuBP-6NN7Xfd3miH-u-Nzbl_19T07oHOVK8TQIr1R6xm11PUTG2tnYCgmlkgnY0gmlwhKwSaC2KbXVsdGlhZGRyc5YACASsEmgtBpxZAAoErBJoLQacWt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZhWoadweqLbSHlckqgqdYf_1D2bfipSDXN1MRmgC606DdGNwgpxZg3VkcIKcW4V3YWt1MgE"}'
2025-02-17 04:04:04.887 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:04.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40024/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
2025-02-17 04:04:04.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:04.897 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 04:04:04.897 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node5_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:04.898 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 04:04:04.898 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 04:04:04.899 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 04:04:04.899 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.171.235
2025-02-17 04:04:04.899 DEBUG [src.node.docker_mananger] Generated ports ['4061', '4062', '4063', '4064', '4065']
2025-02-17 04:04:04.900 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 04:04:04.900 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 04:04:04.900 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 04:04:04.900 DEBUG [src.node.docker_mananger] docker run -i -t -p 4061:4061 -p 4062:4062 -p 4063:4063 -p 4064:4064 -p 4065:4065 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4063 --rest-port=4061 --tcp-port=4062 --discv5-udp-port=4064 --rest-address=0.0.0.0 --nat=extip:172.18.171.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de96fabddfadc1d86cf92f3ebba6dada7ab50fb856aabb8fdf5ef0d75ffa0dcb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4065 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
2025-02-17 04:04:05.136 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.171.235 waku 3c22f6c0c2f09580f50da2d029022fc585e152fcccc73377855e81bf096e2d31
2025-02-17 04:04:05.185 DEBUG [src.node.docker_mananger] Container started with ID 3c22f6c0c2f0. Setting up logs at ./log/docker/node5_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
2025-02-17 04:04:05.185 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4061
2025-02-17 04:04:05.185 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 04:04:06.186 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4061/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 04:04:06.193 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 04:04:06.194 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4061/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.235/tcp/4062/p2p/16Uiu2HAm89pCaT2vsohZbwHhAEAjiq4zbcqCxJkous4tYqn3MDu4","/ip4/172.18.171.235/tcp/4063/ws/p2p/16Uiu2HAm89pCaT2vsohZbwHhAEAjiq4zbcqCxJkous4tYqn3MDu4"],"enrUri":"enr:-L24QPSE3aA4vmWtZ53UALdIDaDp5rMbqWeS78kNMK8aVOYIC2LU-bpZoSpuiu1goyt8z_Tdmi9rFs7dgnJ6JRFtVQMCgmlkgnY0gmlwhKwSq-uKbXVsdGlhZGRyc5YACASsEqvrBg_eAAoErBKr6wYP390DgnJzhQADAQAAiXNlY3AyNTZrMaECvRfulDUBNNRivxNzjwOOmmco9spJgjF5q-X0AnI09luDdGNwgg_eg3VkcIIP4IV3YWt1MgE"}'
2025-02-17 04:04:06.198 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 04:04:06.198 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
2025-02-17 04:04:06.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.201 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-17 04:04:06.201 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58511/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 04:04:06.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1184/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 04:04:06.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.217 DEBUG [src.steps.relay] Running fixture setup: subscribe_optional_relay_nodes
2025-02-17 04:04:06.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54429/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 04:04:06.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.222 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40024/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 04:04:06.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.230 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 04:04:06.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.237 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58511/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:06.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.248 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:06.348 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58511/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.352 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.352 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1184/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.356 DEBUG [src.steps.relay] Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.360 DEBUG [src.steps.relay] Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.363 DEBUG [src.steps.relay] Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.363 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4061/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.367 INFO [src.steps.relay] WARM UP successful!!
2025-02-17 04:04:06.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4061/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 04:04:06.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 04:04:06.373 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 04:04:06.474 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58511/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.478 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1184/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.482 DEBUG [src.steps.relay] Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.482 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.486 DEBUG [src.steps.relay] Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.486 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.489 DEBUG [src.steps.relay] Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
2025-02-17 04:04:06.490 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4061/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 04:04:06.492 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
2025-02-17 04:04:06.495 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 04:04:06.496 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 04:04:06.497 DEBUG [src.node.waku_node] Stopping container with id 4ce6e579dfe6
2025-02-17 04:04:07.065 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:07.066 DEBUG [src.node.waku_node] Stopping container with id 842fcb1d67c1
2025-02-17 04:04:07.921 ERROR [src.node.docker_mananger] Max retries reached for container 4ce6e579dfe6. Exiting log stream.
2025-02-17 04:04:08.260 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:08.261 DEBUG [src.node.waku_node] Stopping container with id bbee0d59165f
2025-02-17 04:04:09.072 ERROR [src.node.docker_mananger] Max retries reached for container 842fcb1d67c1. Exiting log stream.
2025-02-17 04:04:09.749 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:09.750 DEBUG [src.node.waku_node] Stopping container with id b4e9d6e87863
2025-02-17 04:04:10.562 ERROR [src.node.docker_mananger] Max retries reached for container bbee0d59165f. Exiting log stream.
2025-02-17 04:04:10.991 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:10.992 DEBUG [src.node.waku_node] Stopping container with id 3c22f6c0c2f0
2025-02-17 04:04:11.804 ERROR [src.node.docker_mananger] Max retries reached for container b4e9d6e87863. Exiting log stream.
2025-02-17 04:04:12.173 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 04:04:12.174 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 04:04:12.204 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:04:12.210 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:04:12.215 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:04:12.221 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 04:04:12.226 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
