[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58511', '58512', '58513', '58514', '58515']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58511:58511 -p 58512:58512 -p 58513:58513 -p 58514:58514 -p 58515:58515 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58513 --rest-port=58511 --tcp-port=58512 --discv5-udp-port=58514 --rest-address=0.0.0.0 --nat=extip:172.18.131.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9a90fbf604029c41b854870f9f3adc459acb4ea3fe77a7a467c2a8015abba3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58515 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.139 waku 4ce6e579dfe69b9a13c1c06a4a2b795009edbdae1cbd09d6a4458dc79e194bb0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4ce6e579dfe6. Setting up logs at ./log/docker/node1_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58511
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1791b0d89a28. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58511/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58511/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk","/ip4/172.18.131.139/tcp/58513/ws/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"],"enrUri":"enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.121.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1184', '1185', '1186', '1187', '1188']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1184:1184 -p 1185:1185 -p 1186:1186 -p 1187:1187 -p 1188:1188 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1186 --rest-port=1184 --tcp-port=1185 --discv5-udp-port=1187 --rest-address=0.0.0.0 --nat=extip:172.18.121.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1f664aa8baeb9d2d1a0eca9ce54cf75dd3eacb0e4fbf371bdad54c4f3004beba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1188 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.121.161 waku 842fcb1d67c134a454d9ece41ba6893f3285dc92b0e4860e6e82a4236998da2e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 842fcb1d67c1. Setting up logs at ./log/docker/node2_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1184
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1184/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1184/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.161/tcp/1185/p2p/16Uiu2HAmVcE7i9zjnVqEpJyUhquQK4DTQ4pV1Zw1HdegNn4N1yUu","/ip4/172.18.121.161/tcp/1186/ws/p2p/16Uiu2HAmVcE7i9zjnVqEpJyUhquQK4DTQ4pV1Zw1HdegNn4N1yUu"],"enrUri":"enr:-L24QBEg_mZbbqjjwCmryaECy8lGC18TR-AFZNUKpkPlCy87EwqpPWAvYobZFbY-nvej0CPuXcx8t64qGJkRwgPNBZ0CgmlkgnY0gmlwhKwSeaGKbXVsdGlhZGRyc5YACASsEnmhBgShAAoErBJ5oQYEot0DgnJzhQADAQAAiXNlY3AyNTZrMaED--GAHN_flI7lSmpOAq8XxKFkAgOyicc_urLJWBUM6CKDdGNwggShg3VkcIIEo4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1184/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.141.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54429', '54430', '54431', '54432', '54433']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54429:54429 -p 54430:54430 -p 54431:54431 -p 54432:54432 -p 54433:54433 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54431 --rest-port=54429 --tcp-port=54430 --discv5-udp-port=54432 --rest-address=0.0.0.0 --nat=extip:172.18.141.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2e136c03ddb884ccfeea1f445c38d6cca158bd1a0a67acf14b6e8eb5f6cf7ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54433 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.141.94 waku bbee0d59165f42fe57f9e44d34a2dd82c2443c7632bc2441e404f4e00f90e038
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bbee0d59165f. Setting up logs at ./log/docker/node3_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54429
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54429/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54429/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.94/tcp/54430/p2p/16Uiu2HAm2gfborExaCH5JaAWd7XbmZs6xHQjVdSDkEuJ18qqdSbo","/ip4/172.18.141.94/tcp/54431/ws/p2p/16Uiu2HAm2gfborExaCH5JaAWd7XbmZs6xHQjVdSDkEuJ18qqdSbo"],"enrUri":"enr:-L24QBHZW6RUGh02tJUG7w0BUuEviL9ejW-MGIOFdvYGy7LJTWAajJXvk8IkW6WvmQwqW4B9S90ZKTbCzFZJqumdgS4CgmlkgnY0gmlwhKwSjV6KbXVsdGlhZGRyc5YACASsEo1eBtSeAAoErBKNXgbUn90DgnJzhQADAQAAiXNlY3AyNTZrMaECa9kXjwfn2DEH_HU6PokBDHJZSNWNIgTaMNCtTBRa78aDdGNwgtSeg3VkcILUoIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54429/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.104.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40024', '40025', '40026', '40027', '40028']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40024:40024 -p 40025:40025 -p 40026:40026 -p 40027:40027 -p 40028:40028 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40026 --rest-port=40024 --tcp-port=40025 --discv5-udp-port=40027 --rest-address=0.0.0.0 --nat=extip:172.18.104.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=44e49ca40390a7ddbe620ebafacda8e708da244bffa1e65b9550ee4ede240a9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40028 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.104.45 waku b4e9d6e878635c48eb501b30f9546dc8ce7b8575306d7809d08c90bfe73932d6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b4e9d6e87863. Setting up logs at ./log/docker/node4_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40024
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40024/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40024/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.45/tcp/40025/p2p/16Uiu2HAmKXV6BSEZDJnMHruBpMkWKtQESP4S4n36PqgaopR5qGHK","/ip4/172.18.104.45/tcp/40026/ws/p2p/16Uiu2HAmKXV6BSEZDJnMHruBpMkWKtQESP4S4n36PqgaopR5qGHK"],"enrUri":"enr:-L24QHs9plEjiaw-JXWLM7lSCFyBJPJ278fMsxuBP-6NN7Xfd3miH-u-Nzbl_19T07oHOVK8TQIr1R6xm11PUTG2tnYCgmlkgnY0gmlwhKwSaC2KbXVsdGlhZGRyc5YACASsEmgtBpxZAAoErBJoLQacWt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZhWoadweqLbSHlckqgqdYf_1D2bfipSDXN1MRmgC606DdGNwgpxZg3VkcIKcW4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40024/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.171.235
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4061', '4062', '4063', '4064', '4065']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4061:4061 -p 4062:4062 -p 4063:4063 -p 4064:4064 -p 4065:4065 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4063 --rest-port=4061 --tcp-port=4062 --discv5-udp-port=4064 --rest-address=0.0.0.0 --nat=extip:172.18.171.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de96fabddfadc1d86cf92f3ebba6dada7ab50fb856aabb8fdf5ef0d75ffa0dcb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4065 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHwW8NTrIvxZM_BHEbjJWhwFzu_SMKuDzHXZUkqyOea7cQY0JW17bPPvmvesnKULw-ZJ3xt8iEUGa8fFAskWPVwCgmlkgnY0gmlwhKwSg4uKbXVsdGlhZGRyc5YACASsEoOLBuSQAAoErBKDiwbkkd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDahL3bkb_S-jn0MRvEis-lh3VJ2WC4eZzAKprwv9Vju2DdGNwguSQg3VkcILkkoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.171.235 waku 3c22f6c0c2f09580f50da2d029022fc585e152fcccc73377855e81bf096e2d31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3c22f6c0c2f0. Setting up logs at ./log/docker/node5_2025-02-17_04-03-59__a022ae48-bf03-4e39-99ae-7249dce31bf0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4061
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4061/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4061/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.235/tcp/4062/p2p/16Uiu2HAm89pCaT2vsohZbwHhAEAjiq4zbcqCxJkous4tYqn3MDu4","/ip4/172.18.171.235/tcp/4063/ws/p2p/16Uiu2HAm89pCaT2vsohZbwHhAEAjiq4zbcqCxJkous4tYqn3MDu4"],"enrUri":"enr:-L24QPSE3aA4vmWtZ53UALdIDaDp5rMbqWeS78kNMK8aVOYIC2LU-bpZoSpuiu1goyt8z_Tdmi9rFs7dgnJ6JRFtVQMCgmlkgnY0gmlwhKwSq-uKbXVsdGlhZGRyc5YACASsEqvrBg_eAAoErBKr6wYP390DgnJzhQADAQAAiXNlY3AyNTZrMaECvRfulDUBNNRivxNzjwOOmmco9spJgjF5q-X0AnI09luDdGNwgg_eg3VkcIIP4IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4061/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.139/tcp/58512/p2p/16Uiu2HAmKo4LiJyYvCcUKzGGGP3dGa4fN6MTYc9TeUK8KNoAMkYk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58511/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1184/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54429/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40024/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4061/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58511/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58511/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1184/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4061/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046237704960,"ephemeral":false,"proof":""}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4061/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58511/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1184/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40024/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4061/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739765046368396800,"ephemeral":false,"proof":""}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4ce6e579dfe6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 842fcb1d67c1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4ce6e579dfe6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bbee0d59165f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 842fcb1d67c1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b4e9d6e87863
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bbee0d59165f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3c22f6c0c2f0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b4e9d6e87863. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.